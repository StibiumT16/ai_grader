### 1.25：

设 𝑛, 𝑟 是正整数，令 𝑆 是由 {1, 2, ⋯ , 𝑛} 的全体 𝑟 元子集构成的集合，证明：  
$$
\sum\limits_{A ∈ S} min(A) = C(n+1, r+1)
$$

##### 解题过程

考虑等式左侧，当$ min(A)=k $ 时，则1，2，3……k - 1均不在A集合中，k必然在集合A中，其余n - k个数字中有r - 1个在A中，故共有$ C(n-k, r-1) $个集合满足条件，由此可知：$ ∑_{A ∈ S} min(A) = \sum\limits_{k=1}^{n-r+1}kC(n-k, r-1)$

此时考虑格路模型可证明$ \sum\limits_{k=1}^{n-r+1}kC(n-k, r-1)= C(n+1, r+1)$，推导过程如下：
$$
\begin{align}
C(n+1, r+1) &= C(n,r)+C(n,r+1) \\
&= C(n,r)+C(n-1,r)+C(n-1,r-1) \\
&= C(n,r)+C(n-1,r)+...+C(r+1,r)+C(r+1,r+1) \\
&= C(n,r)+C(n-1,r)+...+C(r+1,r)+C(r,r) \\
&= \sum\limits_{k=0}^{n-r}C(n-k, r)

\end{align}
$$
将上式子视作一公式（其实课上讲这公式了），继续展开$ C(n,r),C(n-1,r),...,C(r+1,r) $可得：
$$
\begin{align}
C(n+1, r+1)
&= \sum\limits_{k=0}^{n-r}C(n-k-1, r-1) + \sum\limits_{k=0}^{n-r-1}C(n-k-2, r-1) \\
&+ ... + \sum\limits_{k=0}^{r-r}C(r-k-1, r-1) \\
&= \sum\limits_{k=1}^{n-r+1}kC(n-k, r-1)
\end{align}
$$

##### 难度评价：适中

---

### 1.26：

对 26 个小写英文字母作全排列，要求单词 dog 出现在排列中，并且字母 p 在字母 q 前面、 dog 在 p 和 q 之间，求满足上述条件的的排列方案数．  

##### 解题过程

将dog绑定视作一个单词，先不考虑排序问题，有$ P(24,24)=24! $ 种排法，此时p，dog，q的$ P(3,3)=3! $ 种排列都算了相同次，但我们只要p，dog，q按顺序的这一种排列，故答案为$ \frac{24!}{3!} $

##### 难度评价：简易

---

### 1.27：

有 100 个英文字母，其中 a、 b、 c、 d、 e 各有 1 个， f、 g、 h、 i、 j 各有 19 个．现将这 100 个字母排成一列，要求字母 a、 b、 c、 d、 e 按照字母表顺序排列，并且 a、 b 之间相隔至少 3 个字母， b、 c 之间相隔至少 5 个字母， c、 d 之间相隔至少 7 个字母， d、 e 之间相隔至少 9 个字母．求满足上述要求的排列方案数  

##### 解题过程

首先不考虑f，g，h，i，j之间的差异，视作相同的字母，记为z，然后先在abcde之间插入符合要求数目的z，构成$ azzzbzzzzzczzzzzzzdzzzzzzzzzze $，此时，其余的71个z均可任意选择在ab、bc、cd、de之间，或a左侧、e右侧插入，共六种选择，这是可重组和模型，种类数为：$ \overline{C}(6,71)=\frac{76!}{5!71!} $ ，此时，先将每个z又视作不同的，z的排列有$ P(95,95)=95! $种，再变回fghij，每个字母有19个，故每个字母的排列都算了$ 19! $次数，除掉他们，可得答案为 $ \frac{76!*95!}{5!*19!^5*71!} $

##### 难度评价：适中

---

### 1.28：

从不定方程非负整数解数目的视角，证明下列等式成立：
$$
C(𝑛 + 𝑚,𝑚 ) = \sum\limits_{k=0}^{n}C(𝑘 + 𝑚 - 1 , 𝑚 - 1 )\space (𝑛 ≥ 0, 𝑚 ≥ 1)
$$

##### 解题过程

考虑方程$ x_1+x_2+...+x_{m+1}=n $，其非负整数解的数目为$ \overline{C}(m+1,n)=C(n+m,m) $，这是假想将n个1分配给m+1个变量得到的可重组合计数。

另一种计算方法，是分别假设$ x_{m+1} $等于0，1，...，n，求剩下m个数之和为n，n-1，n-2，...，0时的非负整数解数目，此数目为$\sum\limits_{k=0}^{n}\overline{C}(m, k)=\sum\limits_{k=0}^{n}C(𝑘 + 𝑚 - 1 , 𝑚 - 1 )$，由此得证左式与右式相等。



##### 难度评价：中等偏难，想到方程就简单，想不到就偏难

---

### 1.29：

从 -5, -4, -3, -2, -1, 1, 2, 3, 4 这 9 个数中选出 4 个，要求其乘积为正数．
(1) 若选择的数字互不相同，求方案数；
(2) 若选择的数字允许相同，求方案数  

##### 解题过程

（1）：五个负数，四个正数，要求挑出偶数个负数，故答案为：
$$
C(5,0)C(4,4)+C(5,2)C(4,2)+C(5,4)C(4,0)=66
$$
（2）：变为可重组合模型，答案为：
$$
\overline{c}(5,0)\overline{c}(4,4)+\overline{c}(5,2)\overline{c}(4,2)+\overline{c}(5,4)\overline{c}(4,0)=35+150+70=255
$$


##### 难度评价：简易

---

### 1.30：

求不定方程 𝑥𝑦𝑧 = 1 000 000 的整数解数目  

##### 解题过程

假设答案为正整数，对1000000做分解，$ 1000000=2^6*5^6 $，问题转换为将6个2和6个5分配给x，y，z的方案数，是可重组合模型，答案为$ \overline{c}(3,6)^2 =28^2=784$

如果是整数解，那么可以xyz均为正数，也可以从xyz中挑两个变为负数，故答案为$ 784*(1+C(3,2))=3136$ 

##### 难度评价：简易

---

### 1.31：

设 𝑛 是正整数，证明：
$$
\sum\limits_{k=1}^{n}\frac{kP(n,k)}{n^{k+1}}=1
$$

##### 解题过程

为了中间让证明的中间过程更清晰，这里先给出等式：
$$
\frac{1}{(k-1)!}+\frac{n-k}{k!}= \frac{n}{k!}
$$


可先考虑k=n和k=n-1时两项的和，再一项一项向前加和，再利用上述等式，即：
$$
\begin{align}
左式&=\frac{n*n!}{n^{n+1}}+\frac{(n-1)n!}{n^n}+\sum\limits_{k=1}^{n-2}\frac{kP(n,k)}{n^{k+1}} \\
&=\frac{n!}{n^{n-1}}+ \frac{\frac{(n-2)}{2!}n!}{n^{n-1}} +\sum\limits_{k=1}^{n-3}\frac{kP(n,k)}{n^{k+1}} \\
&= \frac{\frac{1}{2!}*n!}{n^{n-2}}+\frac{\frac{(n-3)}{3!}n!}{n^{n-2}}+\sum\limits_{k=1}^{n-4}\frac{kP(n,k)}{n^{k+1}} \\
&= \frac{\frac{1}{3!}n!}{n^{n-3}}+\frac{\frac{(n-4)}{4!}n!}{n^{n-3}}+\sum\limits_{k=1}^{n-5}\frac{kP(n,k)}{n^{k+1}} \\
&= \space ... \\
&= \frac{\frac{1}{n!}n!}{n^{n-n}} \\
&= 1
\end{align}
$$


##### 难度评价：中等偏难

---

### 1.32：

设 𝑎1𝑎2 ⋯ 𝑎𝑛 是 {1, 2, ⋯ , 𝑛} 的一个排列，我们将排在 𝑎𝑖 后面且比 𝑎𝑖 小的数的个数称为 𝑎𝑖 的中介数．例如，对于排列 364521， 4 的中介数为 2．求 {1, 2, ⋯ , 8} 的所有排列中，满足 8 的中介数为 2、 7 的中介数为 3、 5 的中介数为 3 的排列方案数．

##### 解题过程

8是最大的数，中介数为2表示8必须出现在倒数第三个位置，而7的中介数为3，则必须出现在倒数第五个位置（已经确定倒数第三个是8的情况下）。

此时仅仅考虑剩下的六个数字，5的中介数为3，则其不能出现在这六个位置的第一个位置，否则中介数为4，如果其出现在第二个位置，则6必须在5之后以保证中介数为3，如果5在第三个位置，则6必须在5之前，5不能在第四个及其之后的位置，否则中介数最大为2。

综上，合法的种数为$ (C(4, 1)P(4,4)) + (C(2, 1)P(4, 4))=144 $

##### 难度评价：简易

---

### 1.33：

有 𝑚 个不同的盒子，将 𝑟 个相同的小球放入其中的 𝑛 个盒子中，要求这 𝑛 个盒子互不相邻且每盒至少包含 𝑘 个球（ 𝑟 ≥ 𝑛𝑘, 𝑚 ≥ 2𝑛 - 1）．求满足要求的放球方案数  

##### 解题过程

可以将选盒子和放球分开来看，在m个不同的盒子中选n个不相邻的盒子，可以用隔板法，假设已经有了n个选中的盒子和n-1个已经将他们隔开的盒子，剩下的m-2n+1个盒子可以放在n+1个间隙的任意一个位置，是可重组合模型，方案数为$ \overline{C}(n+1, m-2n+1)=\frac{(m-n+1)!}{n!(m-2n+1)!} $

考虑放球，由于球相同，所以完全可以先放入nk个球保证每个盒子都有k个球，然后放剩下r-nk个球到n个盒子，是可重组合模型，方案数为$ \overline{c}(n, r-nk)=\frac{(r-nk+n-1)!}{(n-1)!(r-nk)!} $

故总方案数为：$ \frac{(m-n+1)!}{n!(m-2n+1)!} \frac{(r-nk+n-1)!}{(n-1)!(r-nk)! }$

##### 难度评价：适中

---

### 1.34：

有 𝑛 个小写英文字母，其中第 𝑘 种字母的出现次数为 𝑎𝑘，保证ak之和为n．现使用这些字母组成一个字符串，要求不能为回文串（即逆序后与原串相同的字符串）．通过讨论各 𝑎𝑖 的奇偶性，求符合要求的字符串数目．  

##### 解题过程

如果没有限制，全排列种数为$ \frac{n!}{\prod_{k=1}^{26}(a_k!)} $

分情况讨论：

当各$ a_k $全都是偶数，则可以组成回文串，计算方案数时，只需计算各字母出现次数为$ \frac{a_k}{2} $时的总排列数，因为回文串定下一半另一半就也确定下来，方案数为$ \frac{(\frac{n}{2})!}{\prod_{k=1}^{26}(\frac{a_k}{2}!)} $，故此时答案为$ \frac{n!}{\prod_{k=1}^{26}(a_k!)}-\frac{(\frac{n}{2})!}{\prod_{k=1}^{26}(\frac{a_k}{2}!)} $

当$ a_k $中有且仅有一个是奇数（假设是第i个字母），可以构成回文串，但必须将该字母放一个在正中间，此时问题转化为长度为n-1，各字母出现偶数次的回文串，同上理，方案数为$ \frac{(\frac{n-1}{2})!}{\prod_{k=1}^{26}(\frac{a_k}{2}!)\frac{\frac{a_{i}-1}{2}!}{\frac{a_i}{2}!}} $，故此时答案为$ \frac{n!}{\prod_{k=1}^{26}(a_k!)}-\frac{(\frac{n-1}{2})!}{\prod_{k=1}^{26}(\frac{a_k}{2}!)\frac{\frac{a_{i}-1}{2}!}{\frac{a_i}{2}!}} $

##### 难度评价：适中

---

### 1.35：

若将一个三阶魔方的角块和棱块全部拆下，然后再随机拼回，则魔方能复原的概率为 $ \frac{1}{12} $，根据这一条件，求三阶魔方的合法状态（即能复原的状态）数目．  

##### 解题过程

假设现在固定好魔方每个面不转动，然后拆下角块和棱块随机拼回。

共有8个角块，每个角块有3种旋转方式，故角块的安装方法有$ 8!*3^8 $种。

有12个棱块，每个棱块有2种安装方式，故棱块的安装方法有$ 12! * 2^{12}$种。

题目意思是，合法状态数目是总状态数目的$ \frac{1}{12}$。

故综上，总状态数量为：$ \frac{8!*3^8*12! * 2^{12}}{12} $

##### 难度评价：偏难，主要是题目有点模糊，得理解好久

---

### 1.36：

某份试卷中有一道包含四个选项 𝐴, 𝐵, 𝐶, 𝐷 的选择题，共有 147 位同学交卷．现需要统计选择了每个选项的同学人数．例如，统计结果可能是 {𝐴 ∶ 100, 𝐵 ∶ 0, 𝐶 ∶ 42, 𝐷 ∶ 5}．
(1) 若所有同学都回答了此题，求可能出现的统计结果数目．
(2) 若每位同学均可能没有回答此题，求可能出现的统计结果数目．
(3) 假设此题的正确答案是 𝐶，为了提高平均分，规定若做对此题的人不足交卷同学的一
半，则此题不算分．每位同学均可能没有回答此题，求使此题算分的统计结果数目  

##### 解题过程

(1) 可重组合：$ \overline{C}(4, 147)=\frac{150!}{3!147!} $

(2) 分别假设有0-147个同学作答，有$ \sum\limits_{k=0}^{147} \overline{C}(4, k)=\sum\limits_{k=0}^{147} C(k+3, 3)$ ，由公式（或同第一题的原理可用格路模型证明）右式=$ C(151, 4)=\frac{151!}{147!4!} $

(3) 则必须至少有74个同学选择C，问题转换为总数为73的第(2)题，故同理，答案为$ \frac{77!}{73!4!} $

##### 难度评价：适中

