{
    "1.25": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "引理: $$\\binom{r}{r} + \\binom{r+1}{r} + \\dots + \\binom{n}{r} = \\binom{n+1}{r+1}$$ 证明：由杨辉三角有：$\\binom{n}{r} + \\binom{n}{r-1} = \\binom{n+1}{r}$ 故有$$LHS = \\binom{r}{r} + \\binom{r+1}{r} + \\dots + \\binom{n}{r} \\\\ = \\binom{r+1}{r+1} + \\binom{r+1}{r} + \\dots + \\binom{n}{r} \\\\ = \\binom{r+2}{r+1} + \\binom{r+2}{r} + \\dots + \\binom{n}{r} \\\\ = ... = \\binom{n}{r+1} + \\binom{n}{r} = \\binom{n+1}{r+1} = RHS$$  引理证毕  回到本问题，我们考虑每个数在$\\min A$中出现的次数， 例如，若$\\min A = 1$，此时$1 \\in A$，剩余的数在2~n中选取r-1个，次数为$\\binom{n-1}{r-1}$  类似地，若$\\min A = 2$，剩余的数在3~n中选取r-1个，次数为$\\binom{n-2}{r-1}$，......，$n-r+1$的次数为$\\binom{r-1}{r-1}$ 因此根据引理，最终答案:$$\\begin{aligned} & 1 \\cdot \\binom{n-1}{r-1} + 2 \\cdot \\binom{n-2}{r-1} + \\dots + (n - r + 1) \\cdot \\binom{r-1}{r-1} \\\\ =& [\\binom{n-1}{r-1} + \\binom{n-2}{r-1} + \\dots + \\binom{r-1}{r-1}] \\\\ &+ [\\binom{n-2}{r-1} + \\dots + \\binom{r-1}{r-1}] \\\\ &+ \\dots +[\\binom{r}{r-1} + \\binom{r-1}{r-1}] + [\\binom{r-1}{r-1}] \\\\ = & \\binom{n}{r} + \\binom{n-1}{r} + \\dots + \\binom{r+1}{r} + \\binom{r}{r} \\\\= &\\binom{n+1}{r+1}\\end{aligned}$$ 证毕 ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "$\\min A = k$且满足$A \\in S$的数量为$\\binom{n-k}{r-1}$",
                    "score": 5,
                    "graded_score": 10,
                    "process": "学生答案首先证明了引理，即组合数的和等于组合数的上指标加1。这个引理的证明是正确的，并且与参考答案中的思路一致。接着，学生应用这个引理来解决原问题，通过考虑每个数在最小元素中出现的次数，逐步计算出总和。学生的推导过程清晰，逻辑严密，与参考答案的思路相符。因此，学生的答案是正确的。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "考察$r$元子集$A$中第二小的元素，假设为$k+1$，那么$k+1$左侧的一个元素有$k$种选择，$k+1$右侧的元素有$\\binom{(n+1)-(k+1)}{r-1}=\\binom{n-k}{r-1}$种选择，因此$\\binom{n+1}{r+1} = \\sum_{k=1}^{n-r+1} \\binom{n-k}{r-1}$",
                    "score": 5,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "$\\min A = k$且满足$A \\in S$的数量为$\\binom{n-k}{r-1}$ 考察$r$元子集$A$中第二小的元素，假设为$k+1$，那么$k+1$左侧的一个元素有$k$种选择，$k+1$右侧的元素有$\\binom{(n+1)-(k+1)}{r-1}=\\binom{n-k}{r-1}$种选择，因此$\\binom{n+1}{r+1} = \\sum_{k=1}^{n-r+1} \\binom{n-k}{r-1}$ 实际上只是用一个经典组合恒等式$\\binom{n+1}{r+1} = \\sum_{k=m}^{n-r+m}\\binom{k}{m}\\binom{n-k}{r-m}$的$m=1$的特殊形式",
            "trace": null
        }
    },
    "1.26": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "方法一 首先将‘dog’视为一个整体，相当于一共有24个字母，全排列有$24!$种 再考虑顺序，p在dog前，dog在q前，三者的顺序种类总共有$3!$种 故满足条件的方案数为$\\frac{24!}{3!}$  方法二 也可考虑确定了p，dog，q的顺序后，使用剩下21个字母进行插空，第一个字母可以放在4个位置，第二个字母可以放在5个位置,......,第21个字母可以放在24个位置，故方案数为$4\\times5\\times \\dots \\times 24$ ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "假设$p$左边有$x_1$个字母，$p$和$dog$之间有$x_2$个字母，$dog$和$q$之间有$x_3$个字母，$q$右边有$x_4$个字母，因此我们可以得到不定方程$x_1 + x_2 + x_3 + x_4 = 21, x_i\\geq 0,i = 1,2,3,4$",
                    "score": 4,
                    "graded_score": 10,
                    "process": "学生答案中提供了两种方法，方法一和方法二。方法一的思路与参考答案一致，首先将‘dog’视为一个整体，然后考虑p、dog、q的顺序，最终得到$\\frac{24!}{3!}$，这与参考答案的第4步一致，因此方法一正确。方法二虽然思路不同，但最终结果也是$\\frac{24!}{3!}$，因此方法二也是正确的。由于学生提供了两种正确的解法，且结果与参考答案一致，因此学生答案完全正确。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "根据不定方程非负解的个数可得有$\\binom{21+4-1}{4-1} = \\binom{24}{3}$",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "剩下21个位置的排列共有$21!$种",
                    "score": 3,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "两者独立，根据乘法原理，总的排列数是：$\\binom{24}{3}\\times 21! = \\frac{24!}{3!}$",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "假设$p$左边有$x_1$个字母，$p$和$dog$之间有$x_2$个字母，$dog$和$q$之间有$x_3$个字母，$q$右边有$x_4$个字母，因此我们可以得到不定方程$x_1 + x_2 + x_3 + x_4 = 21, x_i\\geq 0,i = 1,2,3,4$ 根据不定方程非负解的个数可得有$\\binom{21+4-1}{4-1} = \\binom{24}{3}$ 剩下21个位置的排列共有$21!$种 两者独立，根据乘法原理，总的排列数是：$\\binom{24}{3}\\times 21! = \\frac{24!}{3!}$",
            "trace": null
        }
    },
    "1.27": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "首先考虑abcde形成的6个空（包括两端），考虑将其余字母插到这些空位中，先忽略字母是什么只考虑插空的方案，转化为不定方程的解的问题：$x_1+x_2+x_3+x_4+x_5+x_6 = 95, x_1 \\geq 0, x_2 \\geq 3, x_3 \\geq 5, x_4 \\geq 7, x_5 \\geq 9, x_6 \\geq 0$ 等价于$x_1+x_2+x_3+x_4+x_5+x_6 = 71, x_i \\geq 0 $，不定方程解的个数为 $\\binom{76}{5}$ 而f-j这些字母多重全排列的方案为：$\\frac{95!}{(19!)^5}$ 故总方案数为$\\binom{76}{5}\\frac{95!}{(19!)^5}$ ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "设a左边有x1个字母,a和b中间有x2个字母,b和c中间有x3个字母,c和d之间有x4个字母，d和e之间有x5个字母，e右边有x6个字母，从而根据题目意思列出不定方程:x1+x2+x3+x4+x5+x6=95, x1 >= 0, x2>= 3,x3>= 5, x4>= 7,x5>= 9, x6 >= 0",
                    "score": 3,
                    "graded_score": 10,
                    "process": "学生答案与参考答案的解题思路和步骤基本一致。首先，学生正确地列出了不定方程，并将其转化为标准形式，得到了与参考答案相同的方程。其次，学生正确地计算了不定方程的解的数目，使用了组合数binom{76}{5}。然后，学生正确地计算了多重排列的方案数，得到了95!/(19!)^5。最后，学生正确地应用了乘法原理，得到了总的排列数为binom{76}{5}×95!/(19!)^5。因此，学生的答案是正确的。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "化成标准不定方程的形式x1+(x2-3)+(x3-5)+(x4-7)+(x5-9)+x6=71, x1 >= 0, x2>= 3,x3>= 5, x4>= 7,x5>= 9, x6 >= 0",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "不定方程解的数目为binom{71+6-1}{6-1}=binom{76}{5}",
                    "score": 3,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "根据多重排列，这95个位置的排列数为95!/(19!)^5",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "两者独立，根据乘法原理，总的排列数是：binom{76}{5}×95!/(19!)^5",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "设a左边有x1个字母, a和b中间有x2个字母, b和c中间有x3个字母, c和d之间有x4个字母, d和e之间有x5个字母，e右边有x6个字母。从而根据题目意思列出不定方程: x1+x2+x3+x4+x5+x6=95, x1 >= 0, x2>= 3, x3>= 5, x4>= 7, x5>= 9, x6>= 0。化成标准不定方程的形式x1+(x2-3)+(x3-5)+(x4-7)+(x5-9)+x6=71, x1 >= 0, x2>= 3, x3>= 5, x4>= 7, x5>= 9, x6>= 0。不定方程解的数目为binom{71+6-1}{6-1}=binom{76}{5}。根据多重排列，这95个位置的排列数为95!/(19!)^5。两者独立，根据乘法原理，总的排列数是：binom{76}{5}×95!/(19!)^5。",
            "trace": null
        }
    },
    "1.28": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "RHS表示不定方程$x_1+...+x_m=k, x_{i} \\geq 0$ 的非负整数解个数，其中$k$的取值为0~n LHS则表示不定方程$x_1+...+x_m+x_{m+1}=n, x_{i} \\geq 0$的非负整数解个数 对于LHS所对应的不定方程，我们可以分别枚举$x_{m+1}$的可能取值($x_{m+1} \\in [0, n]$)，令 $k = n - x_{m+1}$, 再计算剩余部分$x_1+...+x_m = k = n - x_{m+1} \\in [0, n]$的方案数，对不同$k$的取值求和，即可得到RHS ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "考察不定方程x1 + x2 + ... + xm = k, k = 0,1,..., n, xi≥0",
                    "score": 3,
                    "graded_score": 10,
                    "process": "学生答案正确地解释了等式的两边分别代表的不定方程的解的个数。学生首先解释了RHS（右式）表示不定方程x1 + ... + xm = k的非负整数解个数，其中k的取值为0到n。然后，学生解释了LHS（左式）表示不定方程x1 + ... + xm + xm+1 = n的非负整数解个数。学生进一步说明了通过枚举xm+1的可能取值，并令k = n - xm+1，可以计算出剩余部分x1 + ... + xm = k的方案数，并对不同k的取值求和，从而得到RHS。这个解释与参考答案中的步骤相符，因此学生的答案是正确的。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "上面的方程解的个数为\\(\\sum_{k=0}^{n}\\binom{k+m-1}{m-1}\\)",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "另一方面，该不定方程包含了所有满足x1+x2+...+xm≤n的非负解，我们引入xm+1=n-\\sum_{r=1}^{m}xi≥0，从而有x1+x2+...+xm+xm+1=n",
                    "score": 3,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "不定方程的解的个数为\\(\\binom{n+m+1-1}{m+1=1} = \\binom{n+m}{m}\\)",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "考察不定方程x1 + x2 + ... + xm = k, k = 0,1,..., n, xi≥0。此不定方程解的个数为\\(\\sum_{k=0}^{n}\\binom{k+m-1}{m-1}\\)。另一方面，该不定方程包含了所有满足x1+x2+...+xm≤n的非负解，我们引入xm+1=n-\\sum_{r=1}^{m}xi≥0，从而有x1+x2+...+xm+xm+1=n。不定方程的解的个数为\\(\\binom{n+m+1-1}{m+1=1} = \\binom{n+m}{m}\\)。",
            "trace": null
        }
    },
    "1.29": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "分别考虑4正0负，2正2负，0正4负，方案分别为$\\binom{4}{4}=1, \\binom{4}{2}\\binom{5}{2}=60, \\binom{5}{4}=5$，总方案数为66",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "4正0负：$1$",
                    "score": 1,
                    "graded_score": 4,
                    "process": "学生答案中，对于4正0负的情况，计算错误，应该是$\\binom{1}{1}=1$而不是$\\binom{4}{4}=1$。对于2正2负的情况，计算正确，为$\\binom{4}{2}\\binom{5}{2}=60$。对于0正4负的情况，计算正确，为$\\binom{5}{4}=5$。总方案数计算正确，为66。因此，学生答案在总方案数上正确，但在4正0负的计算上错误。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "2正2负：$\\binom{5}{2}\\times\\binom{4}{2}=60$",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "0正4负：$\\binom{5}{4}=5$",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "共66种",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "分类讨论：\n- 4正0负：$1$\n- 2正2负：$\\binom{5}{2}\\times\\binom{4}{2}=60$\n- 0正4负：$\\binom{5}{4}=5$\n- 共66种",
            "trace": null
        },
        "(2)": {
            "subproblem_id": "(2)",
            "answer": "同样考虑三种情况，例如对于4正0负，转化为可重组合问题，相当于4个相同的球投到1，2，3，4四个盒子中，每个盒子球的数目不限，方案数为$\\binom{4+4-1}{4}=35$；也可从不定方程$x_1+x_2+x_3+x_4=4$的非负整数解的角度考虑 类似地对于2正2负以及0正4负的情况，方案数分别为$\\binom{4+2-1}{2}\\binom{5+2-1}{2}=150$和$\\binom{5+4-1}{4}=70$ 故总方案数为255 ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(2)",
                    "rule": "4正0负, $x_1+x_2+x_3+x_4=4$, 可得排列数目为$\\binom{4+4-1}{4-1}=35$",
                    "score": 1,
                    "graded_score": 5,
                    "process": "学生答案正确地考虑了三种情况：4正0负、2正2负和0正4负。对于每种情况，学生正确地使用了组合数学中的可重组合公式，并正确计算了每种情况的方案数。具体来说，学生正确地计算了4正0负的方案数为35，2正2负的方案数为150，0正4负的方案数为70。最终，学生正确地得出了总方案数为255。因此，学生的答案完全正确。"
                },
                {
                    "subproblem_id": "(2)",
                    "rule": "2正2负, 同理可得排列数为$\\binom{2+4-1}{4-1}\\times\\binom{2+5-1}{5-1}=150$",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(2)",
                    "rule": "0正4负，同理为$\\binom{5+4-1}{5-1}=70$",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(2)",
                    "rule": "共255种",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "分类讨论：\n- 4正0负, $x_1+x_2+x_3+x_4=4$, 可得排列数目为$\\binom{4+4-1}{4-1}=35$\n- 2正2负, 同理可得排列数为$\\binom{2+4-1}{4-1}\\times\\binom{2+5-1}{5-1}=150$\n- 0正4负，同理为$\\binom{5+4-1}{5-1}=70$\n- 共255种",
            "trace": null
        }
    },
    "1.30": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": " $xyz = 10^6 = 2^6 \\cdot 5^6$ 先假设三个变量都为正的情况，假设 $x = 2^{a_1} \\cdot 5^{b_1}, y = 2^{a_2} \\cdot 5^{b_2}, z = 2^{a_3} \\cdot 5^{b_3}$， 故有$a_1+a_2+a_3=6, b_1+b_2+b_3=6$ 这两个不定方程非负整数解均为$\\binom{6+3-1}{3-1}=28$，根据乘法原理，xyz均为正数时原方程解的个数为$28*28 = 784$ 再考虑xyz中包含两个负数的情况，符号的方案有$\\binom{3}{2}=3$种 故原方程整数解数目为 $(3 + 1) * 784 = 3136$ ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "$1000000=2^6 5^6$",
                    "score": 1,
                    "graded_score": 10,
                    "process": "学生答案正确地分解了1000000为2^6 * 5^6，并正确地设定了x, y, z的表达式。学生正确地计算了非负整数解的个数为28，并正确地应用了乘法原理得到784。学生还正确地考虑了负数的情况，并正确地计算了总解数为3136。学生的解题思路与参考答案一致，且每一步的计算都正确。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "对$x,y,z$进行分解可以得到$x=2^{x_1}5^{x_2}, y=2^{y_1}5^{y_2}, z=2^{z_1}5^{z_2}$，从而有$x_1+y_1+z_1=6, x_2+y_2+z_2=6$",
                    "score": 4,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "根据不定方程的解我们可以得到解的个数为$(\\binom{6+3-1}{3-1})^2=784$",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "考虑负数的情况，总的结果乘以4",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "答案为$(\\binom{6+3-1}{3-1})^2\\times 4=3136$",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "首先进行因式分解$1000000=2^6 5^6$。对$x, y, z$进行分解可以得到$x=2^{x_1}5^{x_2}, y=2^{y_1}5^{y_2}, z=2^{z_1}5^{z_2}$，从而有$x_1+y_1+z_1=6, x_2+y_2+z_2=6$。根据不定方程的解我们可以得到解的个数为$(\\binom{6+3-1}{3-1})^2=784$。考虑负数的情况，总的结果乘以4。答案为$(\\binom{6+3-1}{3-1})^2\\times 4=3136$。",
            "trace": null
        }
    },
    "1.31": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "先对原式进行变形： $$\\begin{aligned} \\sum_{k=1}^n \\frac{k \\cdot P(n, k)}{n^{k+1}} &= 1 \\\\ \\iff \\sum_{k=1}^n \\frac{k \\cdot P(n, k) \\cdot n^{n-k}}{n^{n+1}} &= 1\\\\ \\iff \\sum_{k=1}^n k \\cdot P(n, k) \\cdot n^{n-k} &= n^{n+1} \\end{aligned}$$ 考虑等式右边，可以表示为由1～n构成的长为n+1的序列（串），记为$\\{a_0, a_1,\\dots,a_n\\}$ 对于其中的每一个序列，由于序列长为n+1，但只有n个元素，根据**抽屉原理，存在至少一个元素重复出现** 我们假设从左边$a_1$开始，第一次重复出现的元素为$a_k$（即$a_0,...,a_{k-1}$互不相同，而$a_k$与其中之一相同），因此$a_0,...,a_{k-1}$的方案为$P(n,k)$，$a_k$与其中之一相同，选其一方案数为$k$，剩下的n-k个位置 ($a_{k+1},...,a_{n}$) 任意取，方案为$n^{n-k}$ 枚举上述的k(1~n)，即为等式左边，因此得证 ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "$n^{k+1}$表示$n$种不同的球放入$k+1$个盒子，且每个盒子只能放一个球的不同放法数量",
                    "score": 2,
                    "graded_score": 10,
                    "process": "学生答案通过变形原式，并利用抽屉原理解释了等式成立的原因。虽然学生的解题步骤与参考答案不同，但思路合理且最终结论正确。具体评分如下：\\n1. 学生对原式进行了正确的变形，分值为2。\\n2. 学生正确应用了抽屉原理，解释了等式成立的原因，分值为4。\\n3. 学生正确解释了等式左边的含义，分值为2。\\n4. 学生正确得出了结论，分值为2。\\n综上所述，学生答案正确，应得满分。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "$kP(n,k)$表示$n$种不同的球放入前$k$个盒子，且每个盒子只能放一个球，且每个盒子中的球的种类不能相同。第$k+1$个盒子中放的球与前面$k$个盒子中的一个相同的放法数量",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "$\\frac{kP(n,k)}{n^{k+1}}$表示的是在$n+1$个盒子中放球，第$k+1$个盒子中的球恰为第一次出现重复种类的球的概率",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "由鸽巢原理，$n+1$个盒子中放$n$个种类的球，一定有两个盒子的球是同一种类，所以该概率之和为$1$",
                    "score": 4,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "$n^{k+1}$表示$n$种不同的球放入$k+1$个盒子，且每个盒子只能放一个球的不同放法数量。$kP(n,k)$表示$n$种不同的球放入前$k$个盒子，且每个盒子只能放一个球，且每个盒子中的球的种类不能相同。第$k+1$个盒子中放的球与前面$k$个盒子中的一个相同的放法数量。$\frac{kP(n,k)}{n^{k+1}}$表示的是在$n+1$个盒子中放球，第$k+1$个盒子中的球恰为第一次出现重复种类的球的概率。由鸽巢原理，$n+1$个盒子中放$n$个种类的球，一定有两个盒子的球是同一种类，所以该概率之和为$1$。",
            "trace": null
        }
    },
    "1.32": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "由于8是这个排列中最大的数，其中介数为2，因此8位于排列的倒数第三位 而除了8之外最大的数为7且其中介数为3，因此7不能位于8之后（否则中介数至多为1），而7、8之间应当有且仅有一个更小的数 目前的格局为:xxx7x8xx 显然5只能位于7之前（如果位于7之后，其中介数至多为2），我们枚举6的位置： * 如果6位于7的后面（即第5、7、8位中），此时5必须位于第二位，才能在第3位、第5、7、8位中的两位中获取3的中介数，此时格局为:x5x7y8yy，其中y表示可能为6的位置，方案数为：$3 * 4!=72$ * 若6位于第3位，则5只能位于第2位才能保证其中介数为3，此时格局为：x567x8xx，方案数为$4!=24$ * 若6位于第1位或第2位，则5只能位于第3位才能保证其中介数为3，此时格局为:yy57x8xx，其中y为6可能出现的位置，此时方案数为$2*4!=48$    综上所述，总方案数为144 ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "考虑5若在7后面，那么7的中介数严格大于5的中介数，矛盾，故5在7前面；同理，7在8前面",
                    "score": 4,
                    "graded_score": 10,
                    "process": "学生答案详细分析了排列中各个数的位置关系和中介数的限制条件，正确地推导出了排列的格局，并分类讨论了6的位置，最终得出了正确的方案数144。学生的解题思路与参考答案一致，且每一步的推理都合理且正确。因此，学生答案完全正确。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "7和8之间有1个数，8后面有2个数",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "分类讨论得结果为$144$种",
                    "score": 5,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "考虑5若在7后面，那么7的中介数严格大于5的中介数，矛盾，故5在7前面；同理，7在8前面。7和8之间有1个数，8后面有2个数。分类讨论得结果为$144$种。",
            "trace": null
        }
    },
    "1.33": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "首先计算选取不相邻的n个盒子的方案数，可以由减下标法计算得到，方案数为$\\binom{m-n+1}{n}$ 再考虑r个相同小球放到这n个盒子的方案数，要求每个盒子至少包含k个球，可以视为不定方程$x_1+...+x_n=r,x_i>=k$的整数解个数，等价于不定方程$x_1'+...+x_n'=r - n*k$非负整数解个数，计算为$\\binom{r - n * k + n - 1}{n - 1} = \\binom{r-n*(k-1)-1}{n-1}$ 故总方案数为$\\binom{m-n+1}{n}\\binom{r-n*(k-1)-1}{n-1}$ ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "转化为不定方程求解，$m$个盒子选$n$个不相邻的方案数为$\\binom{m-n+1}{n}$",
                    "score": 5,
                    "graded_score": 10,
                    "process": "学生答案中，首先正确地计算了选取不相邻的n个盒子的方案数，使用了减下标法，得到$\\binom{m-n+1}{n}$，这部分与参考答案一致，得5分。接着，学生正确地处理了将r个相同小球放入n个盒子的方案数，使用了不定方程的方法，将问题转化为$x_1'+...+x_n'=r - n*k$的非负整数解个数，计算为$\\binom{r - n * k + n - 1}{n - 1}$，这部分与参考答案一致，得4分。最后，学生正确地使用了乘法原理，将两部分的结果相乘，得到总方案数$\\binom{m-n+1}{n}\\binom{r-n*(k-1)-1}{n-1}$，这部分与参考答案一致，得1分。因此，学生答案完全正确，得10分。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "$y_1 + y_2 + \\dots + y_n = r, y_i\\geq k, i = 1,2,\\dots, n$，方案数为$\\binom{m-n+1}{n}\\binom{r-nk+n-1}{n-1}$",
                    "score": 4,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "两者独立，乘法原理得$\\binom{m-n+1}{n}\\binom{r-nk+n-1}{n-1}$",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "转化为不定方程求解，$m$个盒子选$n$个不相邻的方案数为$\\binom{m-n+1}{n}$。$y_1 + y_2 + \\dots + y_n = r, y_i\\geq k, i = 1,2,\\dots, n$，方案数为$\\binom{m-n+1}{n}\\binom{r-nk+n-1}{n-1}$。两者独立，乘法原理得$\\binom{m-n+1}{n}\\binom{r-nk+n-1}{n-1}$。",
            "trace": null
        }
    },
    "1.34": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "引理：当且仅当出现次数为奇数的字母至多有一个时，才能构成回文串 证明：当回文串长度为偶数时，要求左右对称，所以每个字母的出现次数必为偶数；当回文串长度为奇数时，有且仅有一个字母可以作为中心字母，将其删去后剩下的部分仍为回文串，可以转化为上述长度为偶数的情况，此时仅有中心字母的出现次数为奇数  基于引理，我们可以进行如下分类讨论： * 当出现次数为奇数的字母多于两个时，此时无法构成回文串，所有串均合法，数目可由多重排列得到:$\\frac{n!}{a_1!a_2!...a_{26}!}$ * 当所有字母出现次数均为偶数时，对于回文串我们只考虑串的前一半（后一半可以由前一半翻转得到），回文串的方案数也可以由多重排列计算：$\\frac{(n/2)!}{(a_1/2)!(a_2/2)!...(a_{26}/2)!}$ 因此合法方案数：$\\frac{n!}{a_1!a_2!...a_{26}!} - \\frac{(n/2)!}{(a_1/2)!(a_2/2)!...(a_{26}/2)!}$ * 当只有一个字母的出现次数为奇数时，我们将其记为$a_t$，该字母必须取一个放在中心位置上，故回文串数目：$\\frac{((n-1)/2)!}{(a_1/2)!...((a_t-1)/2)!...(a_{26}/2)!}$ 故此时合法方案数：$\\frac{n!}{a_1!a_2!...a_{26}!}-\\frac{((n-1)/2)!}{(a_1/2)!...((a_t-1)/2)!...(a_{26}/2)!}$ ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "所有字符串数量为$ U = \\frac{n!}{a_1!a_2!\\dots a_{26}!}$",
                    "score": 1,
                    "graded_score": 10,
                    "process": "学生答案正确地应用了引理，并详细讨论了三种情况：1. 当出现次数为奇数的字母多于两个时，无法构成回文串，所有串均合法，数目为$\\frac{n!}{a_1!a_2!...a_{26}!}$；2. 当所有字母出现次数均为偶数时，合法方案数为$\\frac{n!}{a_1!a_2!...a_{26}!} - \\frac{(n/2)!}{(a_1/2)!(a_2/2)!...(a_{26}/2)!}$；3. 当只有一个字母的出现次数为奇数时，合法方案数为$\\frac{n!}{a_1!a_2!...a_{26}!}-\\frac{((n-1)/2)!}{(a_1/2)!...((a_t-1)/2)!...(a_{26}/2)!}$。学生的解答与参考答案的思路一致，且表达清晰，逻辑严谨。因此，学生答案完全正确。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "$a_i$有超过一个奇数，显然无法构成回文串,$L=0$",
                    "score": 3,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "$a_i$恰好有一个奇数，我们假设序号为$a_w$，那么中间那个字母一定是第$w$个字母，从而前面$\\frac{n-1}{2}$个字符串决定了回文串数量$L=\\frac{(\\frac{n-1}{2})!}{(\\frac{a_w-1}{2})!{\\Pi_{j=1,j\\neq w}^{26}(\\frac{a_j}{2})!}}$",
                    "score": 3,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "$a_i$中没有奇数，根据前$\\frac{n}{2}$个字母构建回文串，回文串数量为$L=\\frac{(\\frac{n}{2})!}{{\\Pi_{j=1}^{26}(\\frac{a_j}{2})!}}$",
                    "score": 3,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "所有字符串数量为$ U = \\frac{n!}{a_1!a_2!\\dots a_{26}!}$。我们只需要求出回文串的数量然后减去即可，这里需要分类讨论$a_i(i=1,2,\\dots,26)$中奇数的数量。$a_i$有超过一个奇数，显然无法构成回文串,$L=0$。$a_i$恰好有一个奇数，我们假设序号为$a_w$，那么中间那个字母一定是第$w$个字母，从而前面$\\frac{n-1}{2}$个字符串决定了回文串数量$L=\\frac{(\\frac{n-1}{2})!}{(\\frac{a_w-1}{2})!{\\Pi_{j=1,j\\neq w}^{26}(\\frac{a_j}{2})!}}$。$a_i$中没有奇数，根据前$\\frac{n}{2}$个字母构建回文串，回文串数量为$L=\\frac{(\\frac{n}{2})!}{{\\Pi_{j=1}^{26}(\\frac{a_j}{2})!}}$",
            "trace": null
        }
    },
    "1.35": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "三阶魔方的26个块中包含8个角块，12个棱块，其中每个每个角块有3种旋转状态，而每个棱块有2种不同的方向。 因此对于角块，排列数为$8!$，朝向为$3^8$；对于棱块，排列数为$12!$，朝向为$2^{12}$，故总状态数为$8!\\cdot3^8\\cdot12!\\cdot2^{12}$ 依题意，合法状态数为该值/12，即$8!\\cdot 3^7\\cdot12!\\cdot2^{10}$ ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "注意到一个三阶魔方共有8个角块和12个棱块。",
                    "score": 1,
                    "graded_score": 6,
                    "process": "学生正确地识别了三阶魔方的角块和棱块的数量及其方向的可能性。学生正确计算了总状态数为$8! \\times 3^8 \\times 12! \\times 2^{12}$。然而，学生在计算合法状态数时出现了错误，将$3^8$误写为$3^7$，将$2^{12}$误写为$2^{10}$。因此，学生的答案在最后一步计算中存在错误。"
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "每个棱块有2个方向。",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "每个角块有3个方向。",
                    "score": 1,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "总共的状态数为$8!\\times 3^8\\times 12!\\times 2^{12}$。",
                    "score": 4,
                    "graded_score": 0,
                    "process": ""
                },
                {
                    "subproblem_id": "(1)",
                    "rule": "这里面的状态只有$\\frac{1}{12}$的概率能够复原，因此合法状态数目为$\\frac{1}{12}\\times 8!\\times 3^8\\times 12!\\times 2^{12}$。",
                    "score": 2,
                    "graded_score": 0,
                    "process": ""
                }
            ],
            "solution_id": 0,
            "correct_answer": "注意到一个三阶魔方共有8个角块和12个棱块。每个棱块有2个方向。每个角块有3个方向。总共的状态数为$8!\\times 3^8\\times 12!\\times 2^{12}$。这里面的状态只有$\\frac{1}{12}$的概率能够复原，因此合法状态数目为$\\frac{1}{12}\\times 8!\\times 3^8\\times 12!\\times 2^{12}$。",
            "trace": null
        }
    },
    "1.36": {
        "(1)": {
            "subproblem_id": "(1)",
            "answer": "(1) 等价于求不定方程$x_1+x_2+x_3+x_4=147,x_i\\geq0$的整数解的个数，为$\\binom{147+4-1}{4-1}=\\binom{150}{3}$",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(1)",
                    "rule": "假设A，B，C，D四个选项的作答人数分别是$x_1,x_2,x_3,x_4$，那么我们有$x_1+x_2+x_3+x_4=147,x_i\\geq 0,i=1,2,3,4$，所以解的个数为$\\binom{147+4-1}{4-1}=\\binom{150}{3}$",
                    "score": 3,
                    "graded_score": 3,
                    "process": "学生答案正确地识别了问题为求解不定方程的整数解个数，并正确应用了组合数学中的组合公式。学生答案与参考答案完全一致，因此得满分。"
                }
            ],
            "solution_id": 0,
            "correct_answer": "假设A，B，C，D四个选项的作答人数分别是$x_1,x_2,x_3,x_4$，那么我们有$x_1+x_2+x_3+x_4=147,x_i\\geq 0,i=1,2,3,4$，所以解的个数为$\\binom{147+4-1}{4-1}=\\binom{150}{3}$",
            "trace": null
        },
        "(2)": {
            "subproblem_id": "(2)",
            "answer": "方法一：基于第(1)问，可以枚举回答了题目的人数：$\\sum_{i=0}^{147}\\binom{i+3}{3}=\\binom{151}{4}$(由T1.25引理可得) 方法二：也可以将未答题的人数记为$x_5$，则答案为不定方程$x_1+x_2+x_3+x_4+x_5=147,x_i\\geq0$的整数解的个数，计算为$\\binom{147+5-1}{5-1}=\\binom{151}{4}$",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(2)",
                    "rule": "假设A，B，C，D四个选项的作答人数分别是$x_1,x_2,x_3,x_4$，那么我们有$x_1+x_2+x_3+x_4\\leq 147,x_i\\geq 0,i=1,2,3,4$，我们引入$x_5=147-x_1-x_2-x_3-x_4\\geq 0$，从而我们转化成$x_1+x_2+x_3+x_4+x_5=147,x_i\\geq 0,i=1,2,3,4,5$，从而结果为$\\binom{147+5-1}{5-1}=\\binom{151}{4}$",
                    "score": 3,
                    "graded_score": 3,
                    "process": "学生提供了两种不同的解题方法，均正确地解决了问题。方法一通过枚举回答了题目的人数并应用组合数学中的T1.25引理得出结果，方法二通过引入未答题的人数变量并应用不定方程的整数解公式得出结果。两种方法均正确地计算出了可能出现的统计结果数目为$\\binom{151}{4}$。因此，学生的答案完全正确。"
                }
            ],
            "solution_id": 0,
            "correct_answer": "假设A，B，C，D四个选项的作答人数分别是$x_1,x_2,x_3,x_4$，那么我们有$x_1+x_2+x_3+x_4\\leq 147,x_i\\geq 0,i=1,2,3,4$，我们引入$x_5=147-x_1-x_2-x_3-x_4\\geq 0$，从而我们转化成$x_1+x_2+x_3+x_4+x_5=147,x_i\\geq 0,i=1,2,3,4,5$，从而结果为$\\binom{147+5-1}{5-1}=\\binom{151}{4}$",
            "trace": null
        },
        "(3)": {
            "subproblem_id": "(3)",
            "answer": "依题意，要求$x_3\\geq74$，令$x_3'=x_3-74$，等价于不定方程$x_1+x_2+x_3'+x_4+x_5=73$的非负整数解个数，计算为$\\binom{73+5-1}{5-1}=\\binom{77}{4}=1353275$ ",
            "status": "graded",
            "rules": [
                {
                    "subproblem_id": "(3)",
                    "rule": "同理我们转化该问题$x_1+x_2+x_3+x_4\\leq 147, x_1\\geq 0, x_2\\geq 0, x3\\geq 74, x_4\\geq 0$，引入$x5 = 147-x_1-x_2-x_3-x_4\\geq 0$，稍作处理可以得到$x_1+x_2+(x_3-74)+x_4+x_5=73,x_1\\geq 0, x_2\\geq 0,x_3-74\\geq 0, x_4\\geq 0,x_5\\geq 0$。根据不定方程解的个数可以容易得到解的数目为$\\binom{73+5-1}{5-1}=\\binom{77}{4}$",
                    "score": 4,
                    "graded_score": 4,
                    "process": "学生答案正确地理解了题目的要求，并正确地转化了问题为不定方程的形式。学生正确地引入了新的变量$x_3'$，并正确地计算了不定方程的解的个数。学生的计算步骤与参考答案一致，最终得出的结果也是正确的。因此，学生的答案完全正确。"
                }
            ],
            "solution_id": 0,
            "correct_answer": "同理我们转化该问题$x_1+x_2+x_3+x_4\\leq 147, x_1\\geq 0, x_2\\geq 0, x3\\geq 74, x_4\\geq 0$，引入$x5 = 147-x_1-x_2-x_3-x_4\\geq 0$，稍作处理可以得到$x_1+x_2+(x_3-74)+x_4+x_5=73,x_1\\geq 0, x_2\\geq 0,x_3-74\\geq 0, x_4\\geq 0,x_5\\geq 0$。根据不定方程解的个数可以容易得到解的数目为$\\binom{73+5-1}{5-1}=\\binom{77}{4}$",
            "trace": null
        }
    }
}