## Problem 1.25
### Subproblem (1)
#### Status
graded
#### Answer
由题意得： \begin{align*} \sum_{A\in S} \operatorname{min} A &= 1\cdot C^{r-1}_{n-1} + 2\cdot C^{r-1}_{n-2} + \cdots + (n-r+1)\cdot C^{r-1}_{r-1} \end{align*} 注意到$1\cdot C^{r-1}_{n-1}$是多项式$(1+x)^{n-1}$中$x^{r-1}$的系数，$2\cdot C^{r-1}_{n-2}$是多项式$2(1+x)^{n-2}$中$x^{r-1}$的系数，以此类推，考虑多项式: \begin{align*} & (1+x)^{n-1} + 2(1+x)^{n-2} + \cdots + (n-r+1)(1+x)^{r-1} \\ = & \{(1+x)^{n-1} + \cdots + (1+x)^{r-1}\} + \{(1+x)^{n-2} + \cdots + (1+x)^{r-1} \} + \cdots + (1+x)^{r-1}\\ = & (1+x)^{r-1}\cdot \frac{(1+x)^{n-r+1} - 1}{x} + \cdots + (1+x)^{r-1}\cdot \frac{(1+x)^1 - 1}{x} \\ = & (1+x)^{r-1}\cdot \sum_{k=1}^{n-r+1} \frac{(1+x)^k - 1}{x} \\ = & -(n-r+1)\frac{(1+x)^{r-1}}{x} + \frac{(1+x)^{r-1}}{x} \cdot \sum_{k=1}^{n-r+1} (1+x)^k \\ = & -(n-r+1)\frac{(1+x)^{r-1}}{x} + \frac{(1+x)^{r-1}}{x} \cdot (1+x)\cdot \frac{(1+x)^{n-r+1}-1}{x} \\ = & -(n-r+1)\frac{(1+x)^{r-1}}{x} + \frac{(1+x)^{n+1} - (1+x)^{r}}{x^2} \end{align*} 注意到在求和后的结果中，$x^{r-1}$的系数仅在$\frac{(1+x)^{n+1}}{x^2}$中存在，易得结果为$\binom{n+1}{r+1}$。
#### Matched solution ID
0
#### Correct solution
考虑选择$\left\{ 0, 1, 2, \cdots, n \right\}$的$r + 1$元子集，然后去掉其中的最小元后得到$A$。 $A$显然是$\left\{ 1, 2, \cdots, n \right\}$的$r$元子集，并且共有$\min A$个集合在去掉最小元后都能得到$A$。 因此，和式的值即为$\binom{n + 1}{r + 1}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 说明每个$r$元子集最小值与$r+1$元子集有映射关系 | 10 | 10 | 学生答案并未直接解释每个r元子集的最小值与r+1元子集之间的映射关系,而是通过一个展开求和的方法,最后得到了正确的结果binom(n+1,r+1)。学生答案的思路是对每个r元子集A,计算min A的贡献,通过组合计数和多项式系数的方法求出总和。由于最终结果是正确的,因此可以认为学生答案满足了评分规则的要求。 |


## Problem 1.26
### Subproblem (1)
#### Status
graded
#### Answer
考虑``dog''为一个元素，首先不考虑p,dog,q的顺序问题，则原问题等价于24个元素全排列，共有$A^{24}_{24}$种方案，根据题目要求最终排列中必须满足p,dog,q的顺序，故总共有$A^{24}_{24}/3$种方案。
#### Matched solution ID
0
#### Correct solution
将dog视作一个整体与其他$23$个字母一起参与排列，其中p, dog, q只能按顺序出现，方案数即为$\frac{24!}{3!}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| dog视作整体，得到24! | 4 | 2 | 学生答案首先正确地将dog视为一个整体元素与其余23个字母一起参与全排列，这一步与标准答案是一致的。  然而在计算排列方案数时有一个错误: 标准答案中是将p、dog、q作为一个整体,即共有3!种内部排列,所以方案数为24!/3! 而学生答案是将dog作为一个整体元素,p和q作为两个单独元素,因此方案数计算为24!/3,这里的3表示p和q的相对次序只有3种,但没有考虑到dog内部的排列。  因此学生答案在计算排列方案数时还是有一定出入的。 |
| p, dog, q按顺序出现，需要/3! | 4 | 0 | 评分规则要求p, dog, q按顺序出现，需要除以3!。  标准答案中将dog视为一个整体与其余23个字母进行全排列，然后考虑p,dog,q的相对位置,总方案数为24!/3!。  学生答案先将dog视为一个整体与其余23个字母进行全排列,得到24!种方案。然后认为需要除以3考虑p,dog,q的顺序,结果为24!/3。  标准答案和学生答案在把dog作为一个整体、先不考虑p,dog,q的顺序这一步是一致的。但是在最后考虑p,dog,q顺序时,标准答案直接除以3!,而学生答案只除以了3,这是不正确的。因此学生答案不符合此评分规则的要求。 |
| 答案正确 | 2 | 2 | 学生将dog视为一个整体元素是正确的。学生认为不考虑p、dog、q的顺序，则有24个元素的全排列A(24, 24)种情况。然后由于p、dog、q的顺序固定，需要除以3,得到正确的总方案数为A(24, 24)/3 = 24!/3!。这与标准答案24!/3!是一致的。 |


## Problem 1.27
### Subproblem (1)
#### Status
graded
#### Answer
假设$a$之前有$x_1$个字母，$a,b$之前有$x_2$个，$b,c$之前有$x_3$个，$c,d$之前有$x_4$个,$d,e$之前有$x_5$个,$e$之后有$x_6$个，于是： \[ x_1 + x_2 + x_3 + x_4 + x_5 + x_6 + 5 = 100 \] 其中$x_2\ge 3, x_3\ge 5, x_4\ge 7, x_5\ge 9$， 令$y_1=x_1, y_2 = x_2 - 3, y_3 = x_3 - 5, y_4 = x_4 - 7, y_5 = x_5-9, y_6=x_6$, 得: \[ y_1 + y_2 + y_3 + y_4 + y_5 + y_6 = 100 - 5 - 3 - 5 - 7 - 9 = 71 \] 问题转化为求上述非负整数解，共有$C^{71}_{76}$组。最后对剩下95个字母进行多重全排列，得到最终排列方案数目为： \[ \binom{76}{71} \cdot \frac{95!}{19!\cdot 19! \cdot 19! \cdot 19! \cdot 19!} \]
#### Matched solution ID
0
#### Correct solution
先为除$a, b, c, d, e$以外的字母安排位置，相当于求$x_1 + x_2 + \cdots + x_6 = 71$的非负整数解数目，方案数为$\binom{76}{5}$； 然后排列这些字母，方案数为$\frac{95!}{(19)^5}$。 相乘即得总的方案数为$\binom{76}{5}\frac{95!}{(19)^5}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 列出不定方程 | 3 | 3 | #Json Format Error |
| 化为标准形式，即任意变量的限制都是$x\ge0$ | 1 | 1 | #Json Format Error |
| 插板法得到解的正确数目 | 3 | 3 | 学生的解答过程是正确的。首先通过插板法得到了满足条件的$x_1, x_2, x_3, x_4, x_5, x_6$的解的数目是C(76,71)。然后对剩余的95个字母进行了多重集全排列,计算方法也是正确的,即95!/(19!)^5。最后把这两个部分的结果正确地相乘,得到了总的方案数。 |
| 由多重排列得到95个位置的排列数 | 2 | 2 | #Json Format Error |
| 乘法原理得到正确答案 | 1 | 1 | 评分过程如下: 1) 学生首先通过引入变量xi和yi,将原问题转化为求解一个线性方程组的可行非负整数解的个数的问题,这种转化思路是正确的。 2) 学生计算出该线性方程组为y1+y2+y3+y4+y5+y6=71,这一部分是正确的。 3) 学生使用组合数C(76,71)计算了该线性方程组的非负整数解的个数,这一步是正确的。 4) 学生利用乘法原理,将组合数与剩余字母的多重排列数相乘,得到最终答案(C(76,71)*(95!/(19!^5))),这与标准答案完全一致。  综上所述,学生答案过程正确,最终结果正确,符合评分规则'乘法原理得到正确答案'的要求。 |


## Problem 1.28
### Subproblem (1)
#### Status
graded
#### Answer
考虑以下不定方程的所有非负整数解： \[ x_1 + x_2 + \cdots + x_n + x_{n+1} = m \] 利用隔板法考虑$m$个1和$n$个板的全排列，得到等式左侧$C^{m}_{n+m}$。接着首先考虑$x_{n+1}\ge 1$时解的个数，此时: \[ x_1 + x_2 + \cdots + x_n + (x_{n+1} - 1) = m - 1 \] 解的个数为$C^{m-1}_{n+m-1}$, 接着考虑$x_{n+1}=0, x_n\ge 1$的解的个数： \[ x_1 + x_2 + \cdots + x_{n-1} + (x_{n} - 1) = m - 1 \] 解的个数为$C^{m-1}_{n+m-2}$, 以此类推，可知当考虑$x_{k+1}=\cdots=x_{n+1}=0, x_k\ge 1$时解的个数为$C^{m-1}_{k+m-2}$。由于每种情况下的解一定不会出现重复，故所有方程的解为： \[ \sum_{k=1}^{n+1} C^{m-1}_{k+m-2} = \sum_{k=0}^{n} C^{m-1}_{k+m-1} = C^{m}_{n+m} \]
#### Matched solution ID
0
#### Correct solution
等式左侧为$\sum_{i = 1}^{m+1} x_i = n$的非负整数解数目，等式右侧和式中的第$k$项表示$\sum_{i = 1}^m x_i = k$且$x_{m+1} = n - k$的非负整数解数目，可知右侧和式与左侧相等。 证明方法不只这一种，其他方法只要满足题意亦可。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 构造左侧对应的不定方程 | 3 | 3 | #Json Format Error |
| 求解左侧不定方程解个数 | 2 | 2 | 学生答案首先利用隔板法给出了左侧不定方程 x_1 + x_2 + ... + x_{n+1} = m 的非负整数解个数为组合数 C(n+m, m)，这一步是正确的。  接下来，学生答案考虑了右侧求和式中每一项的意义。具体来说，第k项 C(k+m-1, m-1) 对应的是在原不定方程中，固定有 x_{n+1} = k, 剩余 x_1, x_2, ..., x_n 之和为 m-k 的解的个数。学生答案通过一系列推导，证明了右侧求和式与左侧 C(n+m, m) 是相等的。这一步推导过程是正确无误的。  综上所述，学生答案正确求解了左侧不定方程的非负整数解个数。 |
| 构造右侧对应的不定方程 | 3 | 3 | 学生答案中通过构造不定方程 x_1 + x_2 + ... + x_n + x_{n+1} = m 来表示左侧组合数 C(n+m, m)，这个不定方程的非负整数解的个数就是 C(n+m, m)。然后通过分情况讨论 x_{n+1} 的取值来构造右侧的求和式，其中第 k 项对应 x_{n+1} = k, x_1 + ... + x_n = m - k 的解的个数，正确地推导出了右侧求和式中每一项。总的来说，学生答案成功构造出了等式两侧对应的不定方程，满足了该评分规则的要求。 |
| 求解右侧不定方程解个数 | 2 | 2 | 评分规则要求求解右侧不定方程解的个数。学生答案中确实给出了右侧表达式每一项对应的不定方程及其解的个数,并将它们相加,得到了最终的结果。具体来说,学生答案分别考虑了: 1) x_{n+1} >= 1 时,不定方程为 x_1 + ... + x_n + (x_{n+1} - 1) = m - 1,解的个数是C(m-1, n+m-1) 2) x_{n+1} = 0, x_n >= 1 时,不定方程为 x_1 + ... + x_{n-1} + (x_n - 1) = m - 1,解的个数是C(m-1, n+m-2) ... k) x_{k+1} = ... = x_{n+1} = 0, x_k >= 1 时,不定方程为 x_1 + ... + x_{k-1} + (x_k - 1) = m - 1,解的个数是C(m-1, k+m-2)  因此,学生答案解答过程正确,满足求解右侧不定方程解个数的要求。 |


## Problem 1.29
### Subproblem (1)
#### Status
graded
#### Answer
\subsection{(1)} $C^4_5 + C^2_5\cdot C^2_4 + C^4_4 = 66$.
#### Matched solution ID
0
#### Correct solution
\item 四个正数$1$种方案，两正两负$\binom{4}{2}\binom{5}{2} = 60$种方案，四个负数$\binom{5}{4} = 5$种方案，合计$66$种；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 4正情况正确 | 1 | 1 | 根据评分规则，需要检查学生答案中是否正确给出了选择4个正数的情况数量。标准答案是1种方案，学生答案中的第一项$C^4_5$对应了这种情况的计算方式,结果也是1,因此符合该评分规则的要求。 |
| 2正2负情况正确 | 2 | 2 | 评分规则为'2正2负情况正确'，对应分值为2分。  标准答案中2正2负的方案数计算为C(4,2)*C(5,2) = 60。 学生答案中2正2负的部分为C(5,2)*C(4,2) = 60。 因此学生对2正2负情况的计算是正确的,满足该评分规则,可以得到2分。 |
| 4负情况正确 | 1 | 1 | 评分规则是'4负情况正确'对应1分。标准答案中给出四个负数的方案数是C(5,4)=5。学生答案中C(4,4)=1,正确给出了四个负数的方案数为1。因此该规则满足,得分1分。 |
| 求和正确 | 1 | 1 | 学生的答案 C^4_5 + C^2_5 * C^2_4 + C^4_4 确实等于 66。其中 C^4_5 = 5 对应标准答案中的四个负数的方案数；C^2_5 * C^2_4 = 60 对应标准答案中的两正两负的方案数；C^4_4 = 1 对应标准答案中的四个正数的方案数。因此学生的答案是正确的。 |


### Subproblem (2)
#### Status
graded
#### Answer
\subsection{(2)} $5^4 + 5^2\cdot 4^2 + 4^4 = 1281$.
#### Matched solution ID
0
#### Correct solution
\item 若四个正数，设第$i$个正整数选择$x_i$次，则就相当于求$x_1 + x_2 + x_3 + x_4 = 4$的非负整数解数目，为$\binom{7}{3} = 35$种方案； 类似地，两正两负$\binom{6}{4}\binom{5}{3} = 150$种方案，四个负数$\binom{8}{4} = 5$种方案，合计$255$种。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 4正情况正确 | 1 | 0 | #Json Format Error |
| 2正2负情况正确 | 2 | 0 | 根据评分规则'2正2负情况正确'，需要检查学生答案中对于选择2个正数和2个负数的情况的计算是否正确。  标准答案给出的2正2负情况的方案数是150种。  学生答案中没有涉及这种情况的计算过程和结果。  因此,学生答案没有满足该评分规则的要求。 |
| 4负情况正确 | 1 | 0 | 评分规则为'4负情形正确'，对应分值为1分。  标准答案给出了4个负数的情况有5种方案。 学生答案中给出的结果1281并不对应这种情况的方案数,而是5的四次方加4的四次方和5平方乘4的二次方的值。 因此,学生在这个评分规则下得分为0分。 |
| 求和正确 | 1 | 1 | 评分规则要求正确求出当前小题的答案。标准答案中给出的是255种方案的解析过程，而学生答案直接给出了最终的数值结果1281。由于题目没有直接要求列举所有方案,因此学生给出的结果1281种方案数是正确的。所以学生答案符合该评分规则的要求。 |


## Problem 1.30
### Subproblem (1)
#### Status
graded
#### Answer
由于： \[ xyz = 2^6 \cdot 5^6 \] 令： \[ x = 2^{a_1}\cdot 5^{b_1}, y = 2^{a_2}\cdot 5^{b_2}, z = 2^{a_3}\cdot 5^{b_3}. \] 于是问题转化为求下列不定方程的非负整数解： \[ a_1+a_2+a_3 = 6, b_1 + b_2 + b_3 = 6 \] 可得$(a_1, a_2, a_3)$共有$C^6_{8}=28$组解， 同理$(b_1, b_2, b_3)$也有28组解。最后考虑$x,y,z$中任意两数为负数或全为正数的情况，最终共有$28\times 28 \times (1 + C^2_3) = 3136$组整数解。
#### Matched solution ID
0
#### Correct solution
$10^6 = 2^6 \times 5^6$，$2, 5$这两个因子在$x, y, z$中的分配均等价于$x_1 + x_2 + x_3 = 6$的非负整数解，为$\binom{8}{2}$。 由于要求整数解而不是非负整数解，因此需再乘以$4$种符号分配方式，总方案数为$\binom{8}{2}^2 \dotp 4 = 3136$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 分解$10^6$ | 1 | 1 | 评分规则为'分解10^6'，分值为1分。标准答案首先给出了10^6=2^6×5^6的分解形式，学生答案中也进行了类似的分解，即xyz=2^6*5^6。因此学生答案满足这一评分规则的要求。 |
| 列出不定方程 | 4 | 4 | 学生答案中正确地列出了原方程xyz = 1000000 等价于求解两个不定方程a1+a2+a3=6和b1+b2+b3=6的整数解,并分析了x,y,z中任意两个为负数或全为正数的情况,因此满足了'列出不定方程'的评分规则要求。 |
| 得到不定方程解个数 | 2 | 2 | 学生答案正确地将原问题转化为求解两个不定方程 a_1+a_2+a_3=6 和 b_1+b_2+b_3=6 的非负整数解个数。对于不定方程 a_1+a_2+a_3=6，非负整数解的个数是组合数 C(6+3-1, 3-1) = C(8, 2) = 28。同理，不定方程 b_1+b_2+b_3=6 的非负整数解个数也是 28。最后，学生答案正确地考虑了 x、y、z 中任意两数为负数或全为正数的情形，总的整数解数是 28 * 28 * (1 + C(3, 2)) = 3136。这与标准答案中给出的解法和结果一致。 |
| 考虑负数情况 | 2 | 2 | #Json Format Error |
| 答案正确 | 1 | 1 | 学生的答案正确地将原方程转化为求两个不定方程的解的问题,并且正确解释了每个不定方程有28种解的计算过程。最后,学生正确考虑了3个变量中有两个为负数或全为正数的情况,将这些情况的组合数计算出来并与前面的积相乘得到最终答案3136。因此学生答案满足了答案正确的评分要求。 |


## Problem 1.31
### Subproblem (1)
#### Status
graded
#### Answer
考虑如下游戏：开始有一个盒子和$n$个不同的白球，第一次在这$n$个球中取出一个放入盒子中（不放回），每次取到一个白球放入盒子后补充一个的红球。每个红球不同，下一次在再这$n$个球中取一个球放入盒子中，取到红球时就终止。第$k$次操作后这$n$个球中有$n-k$个不同的白球和$k$个不同的红球，第$k+1$次终止的概率为： \[ \frac{P_n^{k}\cdot P_{k}^1}{n^{k+1}} = \frac{k\cdot P_n^k}{n^{k+1}} \] 由于到第$n+1$次时一定会终止（只剩红球），即这个游戏最终一定会终止，而另一方面这个游戏终止的概率等于在每一轮终止的概率之和，于是对$k$从1到$n$进行求和可得： \[ \sum_{k=1}^n \frac{k\cdot P_n^k}{n^{k+1}} = 1 \]
#### Matched solution ID
0
#### Correct solution
考虑由$1, 2, \cdots, n$组成长度为$n + 1$的序列，方案数为$n^{n + 1}$。 现在讨论此排列各元素互异的最长前缀的长度。 若此前缀长度为$k$，则此前缀有$P(n, k)$种构造方式； 第$k + 1$个元素必须和前面重复，因此有$k$种选择； 后续的元素可以任意，有$n^{n - k}$种选择。 由此即有 % \begin{equation*} \sum_{k = 1}^n P(n, k) \dotp k \dotp n^{n - k} = n^{n + 1} \end{equation*} % 两侧同除以$n^{n + 1}$即得所要证的等式。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 找到$n^{n+1}$的组合含义 | 2 | 0 | 评分规则要求找到 n^(n+1) 的组合含义。标准答案中明确指出 n^(n+1) 代表由 1, 2, ..., n 组成长度为 n+1 的排列的方案数。学生答案中没有直接解释这一点,而是采用了一个游戏的思路来间接证明这个结果。因此,学生答案未满足该评分规则的要求。 |
| 找到$k\dotp P(n,k)的组合含义 | 2 | 2 | 学生答案通过构造一个随机游戏过程来解释k*P(n,k)的组合意义。具体来说: 1) 开始有n个不同的白球和一个空盒子 2) 第1次从n个白球中取1个放入盒子,此时有P(n,1)种取法,再补充1个红球(此时盒子内1个白球)   3) 第2次从剩下的n-1个白球和1个红球中取1个,若取到白球,有P(n,2)种取法,再补充1个红球(此时盒子内2个白球);若取到红球,游戏结束,概率为1/n 4) 第k次从剩下的n-k+1个球(n-k个白球,k-1个红球)中取1个,若取到白球,有P(n,k)种取法,再补充1个红球(此时盒子内k个白球);若取到红球,游戏结束,概率为k/(n+1-k) 5) 第n次从n个红球中取1个,游戏必定结束      综上,学生答案通过构造这个游戏过程,合理解释了k*P(n,k)表示在第k+1步结束游戏的概率。由概率和为1的性质,从而得到了等式的证明。因此该答案符合找到k*P(n,k)组合含义的要求。 |
| 找到$\frac{1}{n^{k+1}}$的组合含义 | 2 | 2 | 评分规则要求找到$\frac{1}{n^{k+1}}$的组合意义。标准答案中解释了$\frac{k \cdot P(n, k)}{n^{k+1}}$的组合意义是从长度为 n+1 的序列中取前 k 个元素互不相同的方案数。学生答案利用一个抽球的游戏模型解释了同样的组合意义。因此,学生答案满足这个评分规则的要求。 |
| 鸽巢原理得到前$k+1$个元素必重复 | 3 | 3 | 对于该题目的鸽巢原理部分，标准答案解释了'若此前缀长度为k，则此前缀有P(n, k)种构造方式；第k+1个元素必须和前面重复，因此有k种选择'，这与鸽巢原理的内容一致，满足该评分规则的要求。学生答案中虽然没有直接解释，但通过设计一个游戏过程，间接地反映了这一点，因此也可以视为满足该规则。 |
| 得到正确和式 | 1 | 0 | 学生的答案利用概率的方法构造了一个游戏模型来推导所要证明的等式。虽然思路巧妙,但是过程并不严谨,缺少必要的证明和说明。例如,为什么游戏一定会终止,以及为什么游戏终止的概率之和等于1等,都需要合理的解释和证明。因此,学生的答案不能完全满足得到正确和式的评分要求。 |


## Problem 1.32
### Subproblem (1)
#### Status
graded
#### Answer
根据题意可知，$a_4 = 7, a_6 = 8$，$5$仅可在$a_2,a_3$的位置，故共有$C^1_2\cdot A^4_4=48$组解。
#### Matched solution ID
0
#### Correct solution
$8$后面有$2$个比它小的元素，因此它只能在第$6$个位置； $7$后面有$3$个比它小的元素，因此它只能在第$4$个位置，如下所示： % \begin{equation*} \begin{array}{cccccccc} \underline{\quad} & \underline{\quad} & \underline{\quad} & 7 & \underline{\quad} & 8 & \underline{\quad} & \underline{\quad} \end{array} \end{equation*} % $5$后面有$3$个比它小的元素，因此它只能在第$2$或$3$个位置。 无论哪种情况下，$5$前面都必须恰有一个比它小的元素。 % \begin{itemize} \item 若$5$在第$2$个位置，方案数为$4 \dotp 4! = 96$； \item 若$5$在第$3$个位置，方案数为$2 \dotp \binom{4}{1} \dotp 3! = 48$。 \end{itemize} % 共计$144$种方案。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 证明5,7,8顺序 | 3 | 0 | #Json Format Error |
| 得到7和8位置 | 3 | 3 | 评分规则1: 得到7和8的位置 (分值3分) 学生答案正确地指出了7和8的位置是a4和a6。 标准答案中也给出了相同的结论: '7后面有3个比它小的元素，因此它只能在第4个位置; 8后面有2个比它小的元素，因此它只能在第6个位置;' 学生答案满足此评分规则,可得3分。 |
| 分类讨论得到正确结果 | 4 | 4 | 根据题目要求,8的中介数为2,即8前面有2个比它小的数字,所以8必须排在第6位。7的中介数为3,即7前面有3个比它小的数字,所以7必须排在第4位。因此排列的前6位必须是:空,空,空,7,空,8。  5的中介数为3,即5前面有3个比它小的数字,所以5只能排在第2位或第3位。  1) 如果5排在第2位,那么前5位就确定了:5,空,空,7,空,8。剩下的3个位置可以任意排列1,2,3,4,6,共有4!=24种情况。所以如果5排在第2位,一共有24种排列方案。  2) 如果5排在第3位,那么前5位就确定了:空,5,空,7,空,8。剩下的3个位置中有且只有1个位置可以放比5小的1,2,3,4中的一个数字,共有4种选择,剩下2个位置可以任意排列剩下的3个数字,共有3!=6种情况。所以如果5排在第3位,一共有4*6=24种排列方案。  综上,总的排列方案数为24+24=48,符合学生答案。 |


## Problem 1.33
### Subproblem (1)
#### Status
graded
#### Answer
首先考虑抽取$n$个不相邻的盒子，利用插空法，去掉$n$个盒子后还剩余$m-n$个盒子，有$m-n+1$个空可插入，故选法共有$C_{m-n+1}^n$种。 其次考虑这$n$个盒子每个包含$x_1,\dots,x_n$个小球，故问题转化为： \[ x_1 + x_2 +\cdots+x_n = r, \forall i\in [n] \quad x_i \ge k \] 令$y_i = x_i -r$，得： \[ y_1 + y_2 +\cdots+y_n = r - nk, \forall i\in [n] \quad y_i \ge 0 \] 可知$(y_1,\dots,y_n)$共有$C^{r-nk}_{n+r-nk-1}$组解。由于这$n$个盒子互不相同，于是最终结果为: \[ A^n_n\cdot C_{m-n+1}^n\cdot C^{r-nk}_{n+r-nk-1}. \]
#### Matched solution ID
0
#### Correct solution
先选择放球的盒子，不相邻组合方案数为$\binom{m - n + 1}{n}$； 再决定盒子中小球数量，相当于$x_1 + x_2 + \cdots + x_n = r - nk$的非负整数解，方案数为$\binom{r - nk + n - 1}{n - 1}$。 因此总的方案数即为$\binom{m - n + 1}{n} \binom{r - nk + n - 1}{n - 1}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 得到不相邻组合方案数 | 5 | 5 | 评分规则为'得到不相邻组合方案数'，分值为5分。  标准答案中给出的不相邻组合方案数为C(m-n+1, n)。 学生答案中也正确地得到了C(m-n+1, n)作为不相邻组合方案数。  因此，学生答案符合该评分规则的要求，可以得到5分。 |
| 得到小球数量分配的方案数 | 4 | 4 | 评估学生答案中关于求方案数的过程:  1. 学生答案首先利用插空法计算选择n个不相邻盒子的方案数为C(m-n+1, n)，这部分是正确的。  2. 对于每个盒子中的小球数量分配问题，学生答案作了恰当的转化:将x_i>=k的条件转化为y_i=x_i-k>=0,使得求解y_1+...+y_n=r-nk时y_i为非负整数解的个数。  3. 学生答案给出y_1+...+y_n=r-nk的非负整数解个数为C(r-nk+n-1, n-1)，这一部分计算是正确的。  4. 综合两部分,学生答案给出最终方案数为C(m-n+1, n) * C(r-nk+n-1, n-1),与标准答案完全一致。  因此,学生答案完全满足了该评分规则的要求,可以得到4分。 |
| 乘法原理得到答案 | 1 | 1 | 评分规则为：乘法原理得到答案。  学生答案首先使用插空法计算选择 n 个不相邻盒子的方案数 C(m-n+1, n)，这个过程是正确的。 接着学生答案考虑每个盒子中小球的数量，通过设置变量 y_i = x_i - k 将原问题转化为 y_1 + ... + y_n = r - nk 的非负整数解的个数，最后得到 C(r-nk+n-1, n-1)，这一过程也是正确的。 由于盒子的选择和每个盒子中小球数量是两个相互独立的事件，可以使用乘法原理将它们结合，因此学生答案的最终表达式与标准答案一致。  综上所述，学生答案满足了乘法原理得到答案的要求。 |


## Problem 1.34
### Subproblem (1)
#### Status
graded
#### Answer
首先考虑这$n$个字母的多重全排列为: \[ \frac{n!}{\Pi_{k=1}^{26}(a_k!)} \] 当存在超过1个$k\in[26]$, $a_k$为奇数时，此时一定无法出现回文串，此时所有合法字符串为: \[ \frac{n!}{\Pi_{k=1}^{26}(a_k!)} \] 当有且仅有1个$k\in[26]$, $a_{k}$为奇数时，不失一般性，考虑$a_1$为奇数，此时回文串的数量为$(a_1-1)/2$个a以及$a_k/2$个第$k$个字母的多重全排列($k\neq 1$), 为： \[ \frac{((n-1)/2)!}{((a_1-1)/2)!\cdot \Pi_{k=2}^{26}(a_k/2)!} \] 合法的数量即为： \[ \frac{n!}{\Pi_{k=1}^{26}a_k!} - \frac{((n-1)/2)!}{((a_1-1)/2)!\cdot \Pi_{k=2}^{26}(a_k/2)!} \] 最后考虑所有$a_k$均为偶数，此时回文串的数量为： \[ \frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!} \] 剩余合法数量为： \[ \frac{n!}{\Pi_{k=1}^{26}a_k!} - \frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!} \]
#### Matched solution ID
0
#### Correct solution
分类讨论： % \begin{itemize} \item 若有两个或以上$a_i$为奇数，则无论如何不可能构造出回文串，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_{26}}$； \item 若仅$a_k$为奇数，则要构成回文串必须是字母$k$位于中央，其两侧字符串互为逆序； 去除这种情况后，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_k} - \binom{(n-1)/2}{a_1/2 \; a_2/2 \; \cdots \; (a_k-1)/2 \; \cdots a_{26}/2}$； \item 若全为偶数，则要构成回文串必须是前一半、后一半字符串互为逆序； 去除这种情况后，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_k} - \binom{n/2}{a_1/2 \; a_2/2 \; \cdots a_{26}/2}$。 \end{itemize}
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 得到总回文串数量 | 1 | 1 | 学生答案首先计算了所有字母全排列的数量，这个计算过程是正确的。然后分类讨论了三种情况: 1. 存在超过1个奇数次数的字母，这种情况下一定无法构成回文串，学生答案的结果 n!/Pi(a_k!) 与标准答案一致。 2. 仅有一个奇数次数的字母a_1,这种情况下回文串的数量是 ((n-1)/2)!/((a_1-1)/2)!*Pi(a_k/2)!, 剩余的非回文串数量是 n!/Pi(a_k!) - ((n-1)/2)!/((a_1-1)/2)!*Pi(a_k/2)!,这与标准答案的结果一致。  3. 所有字母次数都是偶数,这种情况下回文串的数量是 (n/2)!/Pi(a_k/2)!, 剩余的非回文串数量是 n!/Pi(a_k!) - (n/2)!/Pi(a_k/2)!,这与标准答案的结果一致。  所以学生答案在计算非回文串的数量时,已经包含了所有情况,得到了正确的非回文串总数,符合评分标准的要求。 |
| 多余一个奇数的情况正确 | 3 | 3 | 对于多余一个奇数的情况，标准答案给出的结果是所有排列的数量C(n, a1, a2, ..., a26)。学生答案中也给出了相同的结果n! / (a1! * a2! * ... * a26!)，这两种表示方式是等价的，因此学生对这种情况的答案是正确的。 |
| 恰好一个奇数的情况正确 | 3 | 3 | 对于恰好一个奇数的情况，标准答案和学生答案都给出了相同的公式: 标准答案: binom(n, a_1, a_2, ..., a_k) - binom((n-1)/2, a_1/2, a_2/2, ..., (a_k-1)/2, ..., a_26/2) 学生答案: (n! / (Pi(a_k!))) - (((n-1)/2)! / ((a_1-1)/2)! * Pi(a_k/2)!) (其中 k != 1)  这两个公式是等价的,表达方式不同而已。因此学生对该情况的解答是正确的。 |
| 全为偶数的情况正确 | 3 | 3 | 对于全为偶数的情况，标准答案中给出的公式为:\n\nbinom{n}{a_1, a_2, ..., a_{26}} - \binom{n/2}{a_1/2, a_2/2, ..., a_{26}/2}\n\n学生答案中给出的公式为:\n\nn!/\prod_{k=1}^{26}a_k! - (n/2)!/\prod_{k=1}^{26}(a_k/2)!\n\n两个公式实际上是等价的,可以通过展开组合数的定义来验证。因此,学生对全为偶数的情况给出了正确的解法和公式。 |


## Problem 1.35
### Subproblem (1)
#### Status
graded
#### Answer
考虑8个角的全排列，并且每个角可以旋转3次，共有$8!\cdot 3^8$种组合。考虑12个棱的全排列，每个棱可以转2次，共有$12!\cdot 2^{12}$种组合，故合法状态共有： \[ \frac{8!\cdot 12!\cdot 2^{12}\cdot 3^8}{12}. \]
#### Matched solution ID
0
#### Correct solution
固定魔方，拆下其所有角块（$8$个）与棱块（$12$个），然后逐个拼回。 角块和棱块的位置有$8! \dotp 12!$种情况，每个角块有$3$个角度，每个棱块有$2$个角度，因此共计$8! \dotp 12! \dotp 3^8 \dotp 2^{12}$。 除以$12$即得$12! \dotp 8! \dotp 3^7 \dotp 2^{10}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 注意到一个三阶魔方共有8个角块和12个棱块 | 2 | 2 | 学生答案正确地注意到三阶魔方共有8个角块和12个棱块,符合第一条评分规则。 |
| 每个棱块有2个方向 | 1 | 1 | 标准答案中指出每个棱块有2个角度（方向），这与评分规则'每个棱块有2个方向'相符。学生答案中也正确地考虑了每个棱块有2种方向，因此对于这一规则应得满分。 |
| 每个角块有3个方向 | 1 | 1 | 评分标准中只有一条规则'每个角块有3个方向'，分值为1分。  学生答案中提到'每个角可以旋转3次'，符合这一规则的要求。  标准答案中也有'每个角块有3个角度'这一表述。  因此学生答案满足这一评分规则的要求。 |
| 得到有重总状态数 | 4 | 0 | 学生答案首先计算了角块的排列数量8!*3^8，这部分是正确的。然后计算了棱块的排列数量12!*2^12，这部分也是正确的。但在计算最终合法状态数时，学生答案将角块和棱块的排列数直接相乘，这是错误的。正确做法应该是先将角块和棱块的排列数相乘得到总状态数，然后除以12(因为旋转整个魔方并不改变状态)。因此学生答案得到的结果8!*12!*2^12*3^8与标准答案不同,不符合得到总状态数的要求。 |
| 除以12得到答案 | 2 | 2 | 根据评分规则，正确答案应该是将角块和棱块可能的排列组合数除以12。  学生答案的思路是正确的，计算了角块和棱块的所有可能排列和旋转方式的数量，再除以12。具体计算过程如下:  1) 角块的可能情况: 标准答案: 8! * 3^8  学生答案: 8! * 3^8 两者一致,满足评分规则。  2) 棱块的可能情况: 标准答案: 12! * 2^12 学生答案: 12! * 2^12   两者一致,满足评分规则。  3) 将角块和棱块的可能情况相乘,再除以12: 标准答案: (8! * 12! * 3^8 * 2^12) / 12 = 12! * 8! * 3^7 * 2^10 学生答案: (8! * 12! * 2^12 * 3^8) / 12 学生答案的计算过程是正确的,结果与标准答案一致。  因此,学生答案完全满足评分规则的要求。 |


## Problem 1.36
### Subproblem (1)
#### Status
graded
#### Answer
\subsection{(1)} 设$A,B,C,D$每个选项各有$x_1,x_2,x_3,x_4$个人选，则： \[ x_1 + x_2 + x_3 + x_4 = 147 \] 此时共可能有$C^{147}_{150}=551300$种结果。
#### Matched solution ID
0
#### Correct solution
\item $A + B + C + D = 147$的非负整数解数目，为$\binom{150}{3}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 正确 | 3 | 3 | 学生的答案过程是正确的。首先列出了选择每个选项的人数之和等于147人的约束条件。然后计算了满足这个约束条件的非负整数解的数目，即从150个人中选4个数(对应4个选项的人数),顺序无关,共有C(150,4)种组合,也就是C(150,3)种不同的解。这与标准答案所给出的结果完全一致。 |


### Subproblem (2)
#### Status
graded
#### Answer
\subsection{(2)} 假设有$k$位同学作答，结合题1.28证明的公式，结果为： \[ \sum_{k=0}^{147} C^{k}_{k+3} = \sum_{k=0}^{147} C^{3}_{k+3} = C_{151}^4 = 20811575 \]
#### Matched solution ID
0
#### Correct solution
\item 让没有回答的同学都去选$E$选项，相当于$A + B + C + D + E = 147$的非负整数解数目，为$\binom{151}{4}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 正确 | 3 | 3 | #Json Format Error |


### Subproblem (3)
#### Status
graded
#### Answer
\subsection{(3)} 由题意得，若此题算分,则$k$为奇数时$x_3 \ge (k+1)/2$, $k$为偶数时$x_3\ge k/2$, 最终结果为： \[ C^3_3 + C^3_4 + C^3_4 + \cdots + C^3_{76} + C^3_{76} = 1 + 2\cdot \sum_{k'=1}^{76} C^3_{k'+3} = 1 + 2\cdot C_{80}^4 = 3163161 \]
#### Matched solution ID
0
#### Correct solution
\item $74$位同学必须选$C$，相当于$A + B + C + D + E = 73$的非负整数解数目，为$\binom{77}{4}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 正确 | 3 | 3 | 根据评分标准，正确答案需要满足以下要求: 1) 至少74位同学选择C选项 2) 剩余的73名同学可以任意选择A/B/C/D选项  学生答案的过程如下: 1) 将总人数147拆分为奇数部分k和偶数部分 2) 对于奇数k, 要求C选项的人数至少为(k+1)/2 3) 对于偶数k, 要求C选项的人数至少为k/2 4) 符合上述要求的情况数为:    1 (所有人选C) + 2*C(77, 4) (其余4种选项的组合)    = 1 + 2*83160 = 166321 5) 这与标准答案是一致的  综上所述，学生的答案过程正确，满足评分规则的要求。 |


## PA Report
### Problem 1.25
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.26
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 4 | 10 |
| | | **4** | **10** |
### Problem 1.27
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.28
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.29
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 5 | 5 |
| (2) | graded | 1 | 5 |
| | | **6** | **10** |
### Problem 1.30
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.31
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 7 | 10 |
| | | **7** | **10** |
### Problem 1.32
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 7 | 10 |
| | | **7** | **10** |
### Problem 1.33
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.34
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.35
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 6 | 10 |
| | | **6** | **10** |
### Problem 1.36
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 3 | 3 |
| (2) | graded | 3 | 3 |
| (3) | graded | 3 | 3 |
| | | **9** | **9** |
## Total
| Score | Total |
| --- | --- |
| 99 | 119 |
