## Problem 1.25
### Subproblem (1)
#### Status
graded
#### Answer
由题意得： \begin{align*} \sum_{A\in S} \operatorname{min} A &= 1\cdot C^{r-1}_{n-1} + 2\cdot C^{r-1}_{n-2} + \cdots + (n-r+1)\cdot C^{r-1}_{r-1} \end{align*} 注意到$1\cdot C^{r-1}_{n-1}$是多项式$(1+x)^{n-1}$中$x^{r-1}$的系数，$2\cdot C^{r-1}_{n-2}$是多项式$2(1+x)^{n-2}$中$x^{r-1}$的系数，以此类推，考虑多项式: \begin{align*} & (1+x)^{n-1} + 2(1+x)^{n-2} + \cdots + (n-r+1)(1+x)^{r-1} \\ = & \{(1+x)^{n-1} + \cdots + (1+x)^{r-1}\} + \{(1+x)^{n-2} + \cdots + (1+x)^{r-1} \} + \cdots + (1+x)^{r-1}\\ = & (1+x)^{r-1}\cdot \frac{(1+x)^{n-r+1} - 1}{x} + \cdots + (1+x)^{r-1}\cdot \frac{(1+x)^1 - 1}{x} \\ = & (1+x)^{r-1}\cdot \sum_{k=1}^{n-r+1} \frac{(1+x)^k - 1}{x} \\ = & -(n-r+1)\frac{(1+x)^{r-1}}{x} + \frac{(1+x)^{r-1}}{x} \cdot \sum_{k=1}^{n-r+1} (1+x)^k \\ = & -(n-r+1)\frac{(1+x)^{r-1}}{x} + \frac{(1+x)^{r-1}}{x} \cdot (1+x)\cdot \frac{(1+x)^{n-r+1}-1}{x} \\ = & -(n-r+1)\frac{(1+x)^{r-1}}{x} + \frac{(1+x)^{n+1} - (1+x)^{r}}{x^2} \end{align*} 注意到在求和后的结果中，$x^{r-1}$的系数仅在$\frac{(1+x)^{n+1}}{x^2}$中存在，易得结果为$\binom{n+1}{r+1}$。
#### Matched solution ID
0
#### Correct solution
考虑选择$\left\{ 0, 1, 2, \cdots, n \right\}$的$r + 1$元子集，然后去掉其中的最小元后得到$A$。 $A$显然是$\left\{ 1, 2, \cdots, n \right\}$的$r$元子集，并且共有$\min A$个集合在去掉最小元后都能得到$A$。 因此，和式的值即为$\binom{n + 1}{r + 1}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 说明每个$r$元子集最小值与$r+1$元子集有映射关系 | 10 | 5.0 | 学生答案中没有明确说明每个$r$元子集最小值与$r+1$元子集之间的映射关系。学生通过多项式展开和系数比较的方式来证明结论，但没有直接解释如何从$r+1$元子集映射到$r$元子集的最小值。因此，学生的答案不符合评分规则中要求的说明映射关系。 |


## Problem 1.26
### Subproblem (1)
#### Status
graded
#### Answer
考虑``dog''为一个元素，首先不考虑p,dog,q的顺序问题，则原问题等价于24个元素全排列，共有$A^{24}_{24}$种方案，根据题目要求最终排列中必须满足p,dog,q的顺序，故总共有$A^{24}_{24}/3$种方案。
#### Matched solution ID
0
#### Correct solution
将dog视作一个整体与其他$23$个字母一起参与排列，其中p, dog, q只能按顺序出现，方案数即为$\frac{24!}{3!}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| dog视作整体，得到24! | 4 | 6.0 | 根据评分规则，学生需要将'dog'视作一个整体，并得到24!的排列方案数。学生答案中提到'考虑``dog''为一个元素，首先不考虑p,dog,q的顺序问题，则原问题等价于24个元素全排列，共有$A^{24}_{24}$种方案'，这里$A^{24}_{24}$实际上就是24!，符合评分规则的要求。因此，学生答案符合评分规则。 |
| p, dog, q按顺序出现，需要/3! | 4 | 0 | 学生答案中正确地将'dog'视为一个整体，并计算了24个元素的全排列，得到$A^{24}_{24}$种方案。然而，学生错误地将p, dog, q的顺序问题简化为除以3，而不是除以3!。标准答案中明确指出需要除以3!来考虑p, dog, q的顺序问题。因此，学生答案在处理p, dog, q的顺序时存在错误，未能正确应用排列组合的原理。 |
| 答案正确 | 2 | 0 | 首先，标准答案中将'dog'视作一个整体与其他23个字母一起参与排列，并考虑p, dog, q的顺序，得出方案数为$\frac{24!}{3!}$。学生答案中也将'dog'视作一个整体，并考虑了p, dog, q的顺序，得出方案数为$A^{24}_{24}/3$。这里$A^{24}_{24}$表示24个元素的全排列，即$24!$，所以学生答案实际上是$\frac{24!}{3}$，这与标准答案$\frac{24!}{3!}$不一致。因此，学生答案不正确。 |


## Problem 1.27
### Subproblem (1)
#### Status
graded
#### Answer
假设$a$之前有$x_1$个字母，$a,b$之前有$x_2$个，$b,c$之前有$x_3$个，$c,d$之前有$x_4$个,$d,e$之前有$x_5$个,$e$之后有$x_6$个，于是： \[ x_1 + x_2 + x_3 + x_4 + x_5 + x_6 + 5 = 100 \] 其中$x_2\ge 3, x_3\ge 5, x_4\ge 7, x_5\ge 9$， 令$y_1=x_1, y_2 = x_2 - 3, y_3 = x_3 - 5, y_4 = x_4 - 7, y_5 = x_5-9, y_6=x_6$, 得: \[ y_1 + y_2 + y_3 + y_4 + y_5 + y_6 = 100 - 5 - 3 - 5 - 7 - 9 = 71 \] 问题转化为求上述非负整数解，共有$C^{71}_{76}$组。最后对剩下95个字母进行多重全排列，得到最终排列方案数目为： \[ \binom{76}{71} \cdot \frac{95!}{19!\cdot 19! \cdot 19! \cdot 19! \cdot 19!} \]
#### Matched solution ID
0
#### Correct solution
先为除$a, b, c, d, e$以外的字母安排位置，相当于求$x_1 + x_2 + \cdots + x_6 = 71$的非负整数解数目，方案数为$\binom{76}{5}$； 然后排列这些字母，方案数为$\frac{95!}{(19)^5}$。 相乘即得总的方案数为$\binom{76}{5}\frac{95!}{(19)^5}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 列出不定方程 | 3 | 10.0 | 学生答案正确地列出了不定方程，并且正确地转化了变量以满足题目中的间隔要求。具体来说，学生首先设定了变量$x_1, x_2, x_3, x_4, x_5, x_6$，并正确地列出了方程$x_1 + x_2 + x_3 + x_4 + x_5 + x_6 + 5 = 100$。然后，学生通过变量替换$y_1=x_1, y_2 = x_2 - 3, y_3 = x_3 - 5, y_4 = x_4 - 7, y_5 = x_5-9, y_6=x_6$，将问题转化为求解$y_1 + y_2 + y_3 + y_4 + y_5 + y_6 = 71$的非负整数解，这与标准答案中的方法一致。因此，学生答案符合评分规则中的要求。 |
| 化为标准形式，即任意变量的限制都是$x\ge0$ | 1 | 0 | 学生答案中，通过引入新的变量$y_i$，将原问题中的不等式限制转化为等式限制，使得所有变量的限制都变为$y_i \ge 0$，这与评分规则中的要求相符。因此，学生答案符合评分规则。 |
| 插板法得到解的正确数目 | 3 | 0 | 学生答案中使用了插板法来解决非负整数解的问题，并且正确地转化了问题为求解$y_1 + y_2 + y_3 + y_4 + y_5 + y_6 = 71$的非负整数解数目。学生正确地计算了组合数$\binom{76}{71}$，这与标准答案中的$\binom{76}{5}$是等价的，因为$\binom{76}{71} = \binom{76}{5}$。因此，学生在插板法得到解的正确数目这一评分规则下是正确的。 |
| 由多重排列得到95个位置的排列数 | 2 | 0 | 根据评分规则，学生需要正确计算出95个位置的排列数。标准答案中，排列数为$\frac{95!}{(19)^5}$，而学生答案中，排列数为$\frac{95!}{19! \cdot 19! \cdot 19! \cdot 19! \cdot 19!}$。两者在形式上是一致的，因为$(19)^5 = 19! \cdot 19! \cdot 19! \cdot 19! \cdot 19!$。因此，学生正确地计算了95个位置的排列数。 |
| 乘法原理得到正确答案 | 1 | 0 | 学生答案中正确地使用了乘法原理来计算总的排列方案数。首先，学生正确地设置了变量并转化了问题，得到了非负整数解的数目为C(76,71)。然后，学生正确地计算了剩下95个字母的多重全排列，得到了最终的排列方案数目为C(76,71) * (95!)/(19!)^5。这与标准答案中的乘法原理应用一致，因此学生答案符合评分规则。 |


## Problem 1.28
### Subproblem (1)
#### Status
graded
#### Answer
考虑以下不定方程的所有非负整数解： \[ x_1 + x_2 + \cdots + x_n + x_{n+1} = m \] 利用隔板法考虑$m$个1和$n$个板的全排列，得到等式左侧$C^{m}_{n+m}$。接着首先考虑$x_{n+1}\ge 1$时解的个数，此时: \[ x_1 + x_2 + \cdots + x_n + (x_{n+1} - 1) = m - 1 \] 解的个数为$C^{m-1}_{n+m-1}$, 接着考虑$x_{n+1}=0, x_n\ge 1$的解的个数： \[ x_1 + x_2 + \cdots + x_{n-1} + (x_{n} - 1) = m - 1 \] 解的个数为$C^{m-1}_{n+m-2}$, 以此类推，可知当考虑$x_{k+1}=\cdots=x_{n+1}=0, x_k\ge 1$时解的个数为$C^{m-1}_{k+m-2}$。由于每种情况下的解一定不会出现重复，故所有方程的解为： \[ \sum_{k=1}^{n+1} C^{m-1}_{k+m-2} = \sum_{k=0}^{n} C^{m-1}_{k+m-1} = C^{m}_{n+m} \]
#### Matched solution ID
0
#### Correct solution
等式左侧为$\sum_{i = 1}^{m+1} x_i = n$的非负整数解数目，等式右侧和式中的第$k$项表示$\sum_{i = 1}^m x_i = k$且$x_{m+1} = n - k$的非负整数解数目，可知右侧和式与左侧相等。 证明方法不只这一种，其他方法只要满足题意亦可。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 构造左侧对应的不定方程 | 3 | 7.0 | 学生答案中构造的不定方程为：\[ x_1 + x_2 + \cdots + x_n + x_{n+1} = m \]，这与标准答案中构造的等式左侧对应的不定方程 \(\sum_{i = 1}^{m+1} x_i = n\) 不一致。标准答案中的不定方程是关于 \(n\) 的，而学生答案中的不定方程是关于 \(m\) 的。因此，学生答案没有正确构造左侧对应的不定方程。 |
| 求解左侧不定方程解个数 | 2 | 0 | 学生答案中，首先考虑了不定方程的所有非负整数解，并利用隔板法得到了等式左侧的解个数$C^{m}_{n+m}$。这与标准答案中求解左侧不定方程解个数的方法一致。因此，学生答案符合评分规则的要求。 |
| 构造右侧对应的不定方程 | 3 | 0 | 学生答案中构造了不定方程，并利用隔板法解释了等式左侧的组合数。然而，学生答案中并没有明确构造出右侧对应的不定方程，而是通过逐步减少变量的方式来解释解的个数。虽然学生答案中提到了右侧和式的形式，但并没有明确指出右侧和式对应的不定方程。因此，根据评分规则，学生答案没有完全符合要求。 |
| 求解右侧不定方程解个数 | 2 | 0 | 学生答案中，首先考虑了不定方程的所有非负整数解，并利用隔板法得到了等式左侧的组合数$C^{m}_{n+m}$。接着，学生通过逐步考虑$x_{n+1}, x_n, \ldots$的非负整数解，得到了右侧和式中的每一项$C^{m-1}_{k+m-1}$。学生正确地解释了每一步的解的个数，并且最终将所有情况下的解相加，得到了等式右侧的和式。因此，学生正确地求解了右侧不定方程的解个数。 |


## Problem 1.29
### Subproblem (1)
#### Status
graded
#### Answer
\subsection{(1)} $C^4_5 + C^2_5\cdot C^2_4 + C^4_4 = 66$.
#### Matched solution ID
0
#### Correct solution
\item 四个正数$1$种方案，两正两负$\binom{4}{2}\binom{5}{2} = 60$种方案，四个负数$\binom{5}{4} = 5$种方案，合计$66$种；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 4正情况正确 | 1 | 4.5 | 学生答案中没有明确提到4正情况的具体方案数，但通过计算结果可以看出学生正确地考虑了4正、2正2负和4负的情况，并且最终的合计结果与标准答案一致，因此可以认为学生正确地处理了4正情况。 |
| 2正2负情况正确 | 2 | 0 | 根据评分规则，我们需要检查学生答案中2正2负情况的计算是否正确。标准答案中2正2负的方案数是$\binom{4}{2}\binom{5}{2} = 60$。学生答案中对应的部分是$C^2_5 \cdot C^2_4$，其中$C^2_5 = 10$，$C^2_4 = 6$，所以$C^2_5 \cdot C^2_4 = 10 \cdot 6 = 60$。因此，学生答案中2正2负情况的计算是正确的。 |
| 4负情况正确 | 1 | 0 | 根据评分规则，学生答案中需要正确计算四个负数的情况。标准答案中四个负数的方案数为$\binom{5}{4} = 5$种。学生答案中对应的部分为$C^4_4$，即$\binom{4}{4} = 1$。因此，学生答案中四个负数的情况计算错误，不符合评分规则。 |
| 求和正确 | 1 | 0 | 学生答案中给出的求和表达式为$C^4_5 + C^2_5 \cdot C^2_4 + C^4_4 = 66$。标准答案中给出的求和结果为$66$种方案。学生答案中的求和表达式与标准答案中的求和结果一致，因此学生答案符合评分规则中的求和正确要求。 |


### Subproblem (2)
#### Status
graded
#### Answer
\subsection{(2)} $5^4 + 5^2\cdot 4^2 + 4^4 = 1281$.
#### Matched solution ID
0
#### Correct solution
\item 若四个正数，设第$i$个正整数选择$x_i$次，则就相当于求$x_1 + x_2 + x_3 + x_4 = 4$的非负整数解数目，为$\binom{7}{3} = 35$种方案； 类似地，两正两负$\binom{6}{4}\binom{5}{3} = 150$种方案，四个负数$\binom{8}{4} = 5$种方案，合计$255$种。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 4正情况正确 | 1 | 2.5 | 根据评分规则，学生需要正确计算四个正数的情况。标准答案中，四个正数的情况为$\binom{7}{3} = 35$种方案。学生答案中，$5^4 = 625$，与标准答案不符。因此，学生答案在4正情况上不正确。 |
| 2正2负情况正确 | 2 | 0 | 根据评分规则，需要判断学生答案中2正2负情况的计算是否正确。标准答案中2正2负的方案数为$\binom{6}{4}\binom{5}{3} = 150$种。学生答案中2正2负的计算为$5^2 \cdot 4^2 = 400$，与标准答案不符。因此，学生答案在2正2负情况下不正确。 |
| 4负情况正确 | 1 | 0 | 根据评分规则，学生需要正确计算四个负数的情况。标准答案中四个负数的方案数为$\binom{8}{4} = 70$种。学生答案中给出的四个负数的情况为$4^4 = 256$，与标准答案不符。因此，学生在这一评分规则下不得分。 |
| 求和正确 | 1 | 0 | 学生答案给出的求和结果为1281，而标准答案给出的求和结果为255。两者不一致，因此学生答案不符合评分规则中的求和正确要求。 |


## Problem 1.30
### Subproblem (1)
#### Status
graded
#### Answer
由于： \[ xyz = 2^6 \cdot 5^6 \] 令： \[ x = 2^{a_1}\cdot 5^{b_1}, y = 2^{a_2}\cdot 5^{b_2}, z = 2^{a_3}\cdot 5^{b_3}. \] 于是问题转化为求下列不定方程的非负整数解： \[ a_1+a_2+a_3 = 6, b_1 + b_2 + b_3 = 6 \] 可得$(a_1, a_2, a_3)$共有$C^6_{8}=28$组解， 同理$(b_1, b_2, b_3)$也有28组解。最后考虑$x,y,z$中任意两数为负数或全为正数的情况，最终共有$28\times 28 \times (1 + C^2_3) = 3136$组整数解。
#### Matched solution ID
0
#### Correct solution
$10^6 = 2^6 \times 5^6$，$2, 5$这两个因子在$x, y, z$中的分配均等价于$x_1 + x_2 + x_3 = 6$的非负整数解，为$\binom{8}{2}$。 由于要求整数解而不是非负整数解，因此需再乘以$4$种符号分配方式，总方案数为$\binom{8}{2}^2 \dotp 4 = 3136$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 分解$10^6$ | 1 | 10.0 | 学生答案中正确地分解了$10^6$为$2^6 \times 5^6$，与标准答案一致。因此，根据评分规则，学生在此项上得分。 |
| 列出不定方程 | 4 | 0 | 学生答案正确地列出了不定方程$xyz = 2^6 \cdot 5^6$，并将其转化为求解$a_1+a_2+a_3 = 6$和$b_1 + b_2 + b_3 = 6$的非负整数解。这与标准答案中的步骤一致，因此符合评分规则。 |
| 得到不定方程解个数 | 2 | 0 | 学生答案正确地分解了10^6为2^6和5^6，并正确地转化为求解a_1 + a_2 + a_3 = 6和b_1 + b_2 + b_3 = 6的非负整数解。学生计算了每组解的组合数为C^6_{8}=28，并正确地考虑了符号分配的情况，最终得到了3136组整数解。这与标准答案一致，因此学生答案符合评分规则。 |
| 考虑负数情况 | 2 | 0 | 学生答案中正确地考虑了负数的情况。具体来说，学生提到'最后考虑$x,y,z$中任意两数为负数或全为正数的情况'，这与标准答案中提到的'由于要求整数解而不是非负整数解，因此需再乘以$4$种符号分配方式'相符。因此，学生答案符合评分规则中关于考虑负数情况的要求。 |
| 答案正确 | 1 | 0 | 学生答案正确地分解了10^6为2^6和5^6，并正确地转化为求解a_1 + a_2 + a_3 = 6和b_1 + b_2 + b_3 = 6的非负整数解。学生正确地计算了组合数C^6_{8} = 28，并正确地考虑了符号分配的情况，最终得出了正确的总方案数3136。因此，学生答案符合评分规则中的答案正确要求。 |


## Problem 1.31
### Subproblem (1)
#### Status
graded
#### Answer
考虑如下游戏：开始有一个盒子和$n$个不同的白球，第一次在这$n$个球中取出一个放入盒子中（不放回），每次取到一个白球放入盒子后补充一个的红球。每个红球不同，下一次在再这$n$个球中取一个球放入盒子中，取到红球时就终止。第$k$次操作后这$n$个球中有$n-k$个不同的白球和$k$个不同的红球，第$k+1$次终止的概率为： \[ \frac{P_n^{k}\cdot P_{k}^1}{n^{k+1}} = \frac{k\cdot P_n^k}{n^{k+1}} \] 由于到第$n+1$次时一定会终止（只剩红球），即这个游戏最终一定会终止，而另一方面这个游戏终止的概率等于在每一轮终止的概率之和，于是对$k$从1到$n$进行求和可得： \[ \sum_{k=1}^n \frac{k\cdot P_n^k}{n^{k+1}} = 1 \]
#### Matched solution ID
0
#### Correct solution
考虑由$1, 2, \cdots, n$组成长度为$n + 1$的序列，方案数为$n^{n + 1}$。 现在讨论此排列各元素互异的最长前缀的长度。 若此前缀长度为$k$，则此前缀有$P(n, k)$种构造方式； 第$k + 1$个元素必须和前面重复，因此有$k$种选择； 后续的元素可以任意，有$n^{n - k}$种选择。 由此即有 % \begin{equation*} \sum_{k = 1}^n P(n, k) \dotp k \dotp n^{n - k} = n^{n + 1} \end{equation*} % 两侧同除以$n^{n + 1}$即得所要证的等式。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 找到$n^{n+1}$的组合含义 | 2 | 9.0 | 学生答案中没有明确找到$n^{n+1}$的组合含义。学生通过一个游戏模型来解释概率，但没有直接关联到$n^{n+1}$的组合数。标准答案中明确指出由$1, 2, \cdots, n$组成长度为$n + 1$的序列，方案数为$n^{n + 1}$，这是组合含义的直接体现。因此，学生答案不符合评分规则的要求。 |
| 找到$k\dotp P(n,k)的组合含义 | 2 | 0 | 学生答案通过构造一个游戏来解释$k \cdot P(n, k)$的组合含义。在这个游戏中，每次操作后盒子中有$n-k$个白球和$k$个红球，第$k+1$次操作终止的概率为$\frac{k \cdot P(n, k)}{n^{k+1}}$。这个解释与标准答案中通过排列各元素互异的最长前缀长度来解释$k \cdot P(n, k)$的组合含义是等价的。因此，学生答案符合评分规则的要求。 |
| 找到$\frac{1}{n^{k+1}}$的组合含义 | 2 | 0 | 学生答案中，通过构造一个游戏来解释$\frac{1}{n^{k+1}}$的组合含义。在这个游戏中，每次操作后，第$k+1$次终止的概率为$\frac{k \cdot P_n^k}{n^{k+1}}$。这个解释与标准答案中通过排列组合的方式解释$\frac{1}{n^{k+1}}$的含义是等价的。因此，学生答案符合评分规则的要求。 |
| 鸽巢原理得到前$k+1$个元素必重复 | 3 | 0 | 学生答案通过构造一个游戏来解释问题，其中每次操作后盒子中的球有$n-k$个白球和$k$个红球，第$k+1$次操作终止的概率为$\frac{k \cdot P(n, k)}{n^{k+1}}$。学生正确地指出，由于游戏最终一定会终止，终止的概率等于每一轮终止的概率之和，因此对$k$从1到$n$进行求和得到$\sum_{k=1}^n \frac{k \cdot P(n, k)}{n^{k+1}} = 1$。这与标准答案中通过鸽巢原理得到前$k+1$个元素必重复的思路相符，因此学生答案符合评分规则。 |
| 得到正确和式 | 1 | 0 | 学生答案中，通过构造一个游戏模型，解释了概率的计算过程，并最终得到了正确的和式：\n\[ \sum_{k=1}^n \frac{k\cdot P_n^k}{n^{k+1}} = 1 \]\n这与标准答案中的和式一致，因此符合评分规则。 |


## Problem 1.32
### Subproblem (1)
#### Status
graded
#### Answer
根据题意可知，$a_4 = 7, a_6 = 8$，$5$仅可在$a_2,a_3$的位置，故共有$C^1_2\cdot A^4_4=48$组解。
#### Matched solution ID
0
#### Correct solution
$8$后面有$2$个比它小的元素，因此它只能在第$6$个位置； $7$后面有$3$个比它小的元素，因此它只能在第$4$个位置，如下所示： % \begin{equation*} \begin{array}{cccccccc} \underline{\quad} & \underline{\quad} & \underline{\quad} & 7 & \underline{\quad} & 8 & \underline{\quad} & \underline{\quad} \end{array} \end{equation*} % $5$后面有$3$个比它小的元素，因此它只能在第$2$或$3$个位置。 无论哪种情况下，$5$前面都必须恰有一个比它小的元素。 % \begin{itemize} \item 若$5$在第$2$个位置，方案数为$4 \dotp 4! = 96$； \item 若$5$在第$3$个位置，方案数为$2 \dotp \binom{4}{1} \dotp 3! = 48$。 \end{itemize} % 共计$144$种方案。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 证明5,7,8顺序 | 3 | 7.5 | 根据评分规则，学生需要证明5,7,8的顺序。标准答案中明确指出8必须在第6个位置，7必须在第4个位置，5可以在第2或第3个位置。学生答案中正确地指出了7和8的位置，但未明确说明5的位置及其限制条件，也没有详细解释排列的具体情况。因此，学生答案在证明5,7,8顺序方面不够完整。 |
| 得到7和8位置 | 3 | 0 | 根据评分规则，学生需要正确确定7和8的位置。标准答案中，7的位置在第4个位置，8的位置在第6个位置。学生答案中，正确地指出了$a_4 = 7$和$a_6 = 8$，即7在第4个位置，8在第6个位置。因此，学生答案符合评分规则的要求。 |
| 分类讨论得到正确结果 | 4 | 0 | 根据评分规则，学生需要通过分类讨论得到正确结果。标准答案中，首先确定了8和7的位置，然后讨论了5的位置，分别计算了5在第2和第3个位置时的方案数，最终得到144种方案。而学生答案中，虽然正确确定了7和8的位置，并讨论了5的位置，但计算方案数时仅考虑了5在第2和第3个位置的情况，且计算方法有误，得出的结果是48，与标准答案的144不符。因此，学生答案未能通过分类讨论得到正确结果。 |


## Problem 1.33
### Subproblem (1)
#### Status
graded
#### Answer
首先考虑抽取$n$个不相邻的盒子，利用插空法，去掉$n$个盒子后还剩余$m-n$个盒子，有$m-n+1$个空可插入，故选法共有$C_{m-n+1}^n$种。 其次考虑这$n$个盒子每个包含$x_1,\dots,x_n$个小球，故问题转化为： \[ x_1 + x_2 +\cdots+x_n = r, \forall i\in [n] \quad x_i \ge k \] 令$y_i = x_i -r$，得： \[ y_1 + y_2 +\cdots+y_n = r - nk, \forall i\in [n] \quad y_i \ge 0 \] 可知$(y_1,\dots,y_n)$共有$C^{r-nk}_{n+r-nk-1}$组解。由于这$n$个盒子互不相同，于是最终结果为: \[ A^n_n\cdot C_{m-n+1}^n\cdot C^{r-nk}_{n+r-nk-1}. \]
#### Matched solution ID
0
#### Correct solution
先选择放球的盒子，不相邻组合方案数为$\binom{m - n + 1}{n}$； 再决定盒子中小球数量，相当于$x_1 + x_2 + \cdots + x_n = r - nk$的非负整数解，方案数为$\binom{r - nk + n - 1}{n - 1}$。 因此总的方案数即为$\binom{m - n + 1}{n} \binom{r - nk + n - 1}{n - 1}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 得到不相邻组合方案数 | 5 | 9.5 | 根据评分规则，我们需要检查学生答案中是否正确得到了不相邻组合方案数。标准答案中，不相邻组合方案数为$\binom{m - n + 1}{n}$。学生答案中，首先考虑抽取$n$个不相邻的盒子，利用插空法，去掉$n$个盒子后还剩余$m-n$个盒子，有$m-n+1$个空可插入，故选法共有$C_{m-n+1}^n$种。这里学生正确地使用了插空法，并得到了正确的组合数$\binom{m - n + 1}{n}$。因此，学生答案符合评分规则的要求。 |
| 得到小球数量分配的方案数 | 4 | 0 | 根据评分规则，我们需要检查学生答案中关于小球数量分配的方案数是否正确。标准答案中，小球数量分配的方案数为$\binom{r - nk + n - 1}{n - 1}$。学生答案中，小球数量分配的方案数为$C^{r-nk}_{n+r-nk-1}$，这与标准答案中的$\binom{r - nk + n - 1}{n - 1}$是等价的，因为$\binom{a}{b} = \binom{a}{a-b}$。因此，学生答案中关于小球数量分配的方案数是正确的。 |
| 乘法原理得到答案 | 1 | 0 | 根据评分规则，学生需要正确使用乘法原理得到最终的放球方案数。标准答案中，总的方案数为$\binom{m - n + 1}{n} \binom{r - nk + n - 1}{n - 1}$。学生答案中，首先正确计算了选择不相邻盒子的方案数为$C_{m-n+1}^n$，然后正确转化了小球数量的问题为$y_1 + y_2 +\cdots+y_n = r - nk$的非负整数解，并计算了方案数为$C^{r-nk}_{n+r-nk-1}$。然而，学生在最终结果中错误地乘以了$A^n_n$，这是不正确的，因为$A^n_n$表示排列数，而这里并不需要排列。因此，学生答案在乘法原理的应用上存在错误，未能正确得到最终的方案数。 |


## Problem 1.34
### Subproblem (1)
#### Status
graded
#### Answer
首先考虑这$n$个字母的多重全排列为: \[ \frac{n!}{\Pi_{k=1}^{26}(a_k!)} \] 当存在超过1个$k\in[26]$, $a_k$为奇数时，此时一定无法出现回文串，此时所有合法字符串为: \[ \frac{n!}{\Pi_{k=1}^{26}(a_k!)} \] 当有且仅有1个$k\in[26]$, $a_{k}$为奇数时，不失一般性，考虑$a_1$为奇数，此时回文串的数量为$(a_1-1)/2$个a以及$a_k/2$个第$k$个字母的多重全排列($k\neq 1$), 为： \[ \frac{((n-1)/2)!}{((a_1-1)/2)!\cdot \Pi_{k=2}^{26}(a_k/2)!} \] 合法的数量即为： \[ \frac{n!}{\Pi_{k=1}^{26}a_k!} - \frac{((n-1)/2)!}{((a_1-1)/2)!\cdot \Pi_{k=2}^{26}(a_k/2)!} \] 最后考虑所有$a_k$均为偶数，此时回文串的数量为： \[ \frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!} \] 剩余合法数量为： \[ \frac{n!}{\Pi_{k=1}^{26}a_k!} - \frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!} \]
#### Matched solution ID
0
#### Correct solution
分类讨论： % \begin{itemize} \item 若有两个或以上$a_i$为奇数，则无论如何不可能构造出回文串，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_{26}}$； \item 若仅$a_k$为奇数，则要构成回文串必须是字母$k$位于中央，其两侧字符串互为逆序； 去除这种情况后，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_k} - \binom{(n-1)/2}{a_1/2 \; a_2/2 \; \cdots \; (a_k-1)/2 \; \cdots a_{26}/2}$； \item 若全为偶数，则要构成回文串必须是前一半、后一半字符串互为逆序； 去除这种情况后，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_k} - \binom{n/2}{a_1/2 \; a_2/2 \; \cdots a_{26}/2}$。 \end{itemize}
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 得到总回文串数量 | 1 | 10.0 | 学生答案中正确地考虑了不同情况下回文串的数量，并正确地计算了总回文串数量。具体来说，学生答案中正确地给出了当存在超过1个奇数时，无法出现回文串的情况；当有且仅有1个奇数时，回文串的数量为$(a_1-1)/2$个a以及$a_k/2$个第$k$个字母的多重全排列；当所有$a_k$均为偶数时，回文串的数量为$(n/2)!$除以各$a_k/2$的阶乘。这些计算与标准答案中的描述一致，因此学生答案符合评分规则。 |
| 多余一个奇数的情况正确 | 3 | 0 | 根据评分规则，我们需要检查学生答案中对于'多余一个奇数的情况'的处理是否正确。标准答案指出，当有两个或以上$a_i$为奇数时，无论如何不可能构造出回文串，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_{26}}$。学生答案中提到'当存在超过1个$k\in[26]$, $a_k$为奇数时，此时一定无法出现回文串，此时所有合法字符串为: $\frac{n!}{\Pi_{k=1}^{26}(a_k!)}$'。学生答案正确地识别了这种情况，并给出了正确的表达式。因此，学生答案符合评分规则的要求。 |
| 恰好一个奇数的情况正确 | 3 | 0 | 根据评分规则，我们需要检查学生答案中关于'恰好一个奇数的情况'的解答是否正确。标准答案中指出，当仅有一个$a_k$为奇数时，回文串的数量为$\binom{(n-1)/2}{a_1/2 \; a_2/2 \; \cdots \; (a_k-1)/2 \; \cdots a_{26}/2}$，而学生答案中给出的回文串数量为$\frac{((n-1)/2)!}{((a_1-1)/2)!\cdot \Pi_{k=2}^{26}(a_k/2)!}$。这两者表达的含义是相同的，都是计算在有且仅有一个奇数的情况下，回文串的数量。因此，学生答案在这一部分是正确的。 |
| 全为偶数的情况正确 | 3 | 0 | 根据评分规则，我们需要检查学生答案中关于全为偶数的情况是否正确。标准答案中指出，当所有$a_k$均为偶数时，回文串的数量为$\binom{n/2}{a_1/2 \; a_2/2 \; \cdots a_{26}/2}$，而合法的数量为$\binom{n}{a_1 \; a_2 \; \cdots a_{26}}$减去回文串的数量。学生答案中，对于全为偶数的情况，给出的回文串数量为$\frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!}$，这与标准答案中的$\binom{n/2}{a_1/2 \; a_2/2 \; \cdots a_{26}/2}$相符，因为$\binom{n/2}{a_1/2 \; a_2/2 \; \cdots a_{26}/2}$可以表示为$\frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!}$。因此，学生答案中关于全为偶数的情况是正确的。 |


## Problem 1.35
### Subproblem (1)
#### Status
graded
#### Answer
考虑8个角的全排列，并且每个角可以旋转3次，共有$8!\cdot 3^8$种组合。考虑12个棱的全排列，每个棱可以转2次，共有$12!\cdot 2^{12}$种组合，故合法状态共有： \[ \frac{8!\cdot 12!\cdot 2^{12}\cdot 3^8}{12}. \]
#### Matched solution ID
0
#### Correct solution
固定魔方，拆下其所有角块（$8$个）与棱块（$12$个），然后逐个拼回。 角块和棱块的位置有$8! \dotp 12!$种情况，每个角块有$3$个角度，每个棱块有$2$个角度，因此共计$8! \dotp 12! \dotp 3^8 \dotp 2^{12}$。 除以$12$即得$12! \dotp 8! \dotp 3^7 \dotp 2^{10}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 注意到一个三阶魔方共有8个角块和12个棱块 | 2 | 10.0 | 学生答案中正确地提到了三阶魔方共有8个角块和12个棱块，符合评分规则的要求。 |
| 每个棱块有2个方向 | 1 | 0 | 根据评分规则，学生答案中正确地考虑了每个棱块有2个方向，即每个棱块可以转2次，因此在计算合法状态时使用了$2^{12}$。这与标准答案中的$2^{12}$一致，符合评分规则的要求。 |
| 每个角块有3个方向 | 1 | 0 | 根据评分规则，学生答案中正确地考虑了每个角块有3个方向，并且计算了$3^8$。因此，学生答案符合评分规则。 |
| 得到有重总状态数 | 4 | 0 | 学生答案中正确地计算了角块和棱块的总状态数，即$8! \cdot 12! \cdot 3^8 \cdot 2^{12}$。这与标准答案中的总状态数一致，因此符合评分规则。 |
| 除以12得到答案 | 2 | 0 | 学生答案中正确地计算了角块和棱块的排列和旋转情况，得到了$8! \cdot 12! \cdot 3^8 \cdot 2^{12}$。根据评分规则，学生需要将这个结果除以12以得到合法状态数。学生答案中正确地进行了这一步，得到了$\frac{8! \cdot 12! \cdot 3^8 \cdot 2^{12}}{12}$。因此，学生答案符合评分规则的要求。 |


## Problem 1.36
### Subproblem (1)
#### Status
graded
#### Answer
\subsection{(1)} 设$A,B,C,D$每个选项各有$x_1,x_2,x_3,x_4$个人选，则： \[ x_1 + x_2 + x_3 + x_4 = 147 \] 此时共可能有$C^{147}_{150}=551300$种结果。
#### Matched solution ID
0
#### Correct solution
\item $A + B + C + D = 147$的非负整数解数目，为$\binom{150}{3}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 正确 | 3 | 2.5 | 学生答案中正确地设定了四个选项的人数分别为$x_1, x_2, x_3, x_4$，并且正确地列出了方程$x_1 + x_2 + x_3 + x_4 = 147$。此外，学生正确地计算了非负整数解的数目为$C^{147}_{150}$，这与标准答案一致。因此，学生的答案完全符合评分规则的要求。 |


### Subproblem (2)
#### Status
graded
#### Answer
\subsection{(2)} 假设有$k$位同学作答，结合题1.28证明的公式，结果为： \[ \sum_{k=0}^{147} C^{k}_{k+3} = \sum_{k=0}^{147} C^{3}_{k+3} = C_{151}^4 = 20811575 \]
#### Matched solution ID
0
#### Correct solution
\item 让没有回答的同学都去选$E$选项，相当于$A + B + C + D + E = 147$的非负整数解数目，为$\binom{151}{4}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 正确 | 3 | 0.0 | 学生答案中提到了假设有$k$位同学作答，并使用了组合数公式$\sum_{k=0}^{147} C^{k}_{k+3}$，这与标准答案中的思路不同。标准答案中提到的是将没有回答的同学都去选$E$选项，相当于$A + B + C + D + E = 147$的非负整数解数目，为$\binom{151}{4}$。学生答案虽然最终得出了正确的结果$C_{151}^4 = 20811575$，但推导过程与标准答案不一致。因此，根据评分规则，学生答案不符合要求。 |


### Subproblem (3)
#### Status
graded
#### Answer
\subsection{(3)} 由题意得，若此题算分,则$k$为奇数时$x_3 \ge (k+1)/2$, $k$为偶数时$x_3\ge k/2$, 最终结果为： \[ C^3_3 + C^3_4 + C^3_4 + \cdots + C^3_{76} + C^3_{76} = 1 + 2\cdot \sum_{k'=1}^{76} C^3_{k'+3} = 1 + 2\cdot C_{80}^4 = 3163161 \]
#### Matched solution ID
0
#### Correct solution
\item $74$位同学必须选$C$，相当于$A + B + C + D + E = 73$的非负整数解数目，为$\binom{77}{4}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 正确 | 3 | 0.0 | 学生答案中提到的条件和计算过程与标准答案不符。标准答案中提到的是74位同学必须选C，相当于A + B + C + D + E = 73的非负整数解数目，为C(77,4)。而学生答案中提到的是k为奇数时x_3 ≥ (k+1)/2，k为偶数时x_3 ≥ k/2，并且计算了一系列组合数，最终结果为3163161。这些内容与标准答案中的描述和计算方法不一致。因此，学生答案不符合评分规则中的正确要求。 |


## PA Report
### Problem 1.25
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 5.0 | 10 |
| | | **5.0** | **10** |
### Problem 1.26
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 6.0 | 10 |
| | | **6.0** | **10** |
### Problem 1.27
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10.0 | 10 |
| | | **10.0** | **10** |
### Problem 1.28
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 7.0 | 10 |
| | | **7.0** | **10** |
### Problem 1.29
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 4.5 | 5 |
| (2) | graded | 2.5 | 5 |
| | | **7.0** | **10** |
### Problem 1.30
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10.0 | 10 |
| | | **10.0** | **10** |
### Problem 1.31
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 9.0 | 10 |
| | | **9.0** | **10** |
### Problem 1.32
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 7.5 | 10 |
| | | **7.5** | **10** |
### Problem 1.33
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 9.5 | 10 |
| | | **9.5** | **10** |
### Problem 1.34
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10.0 | 10 |
| | | **10.0** | **10** |
### Problem 1.35
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10.0 | 10 |
| | | **10.0** | **10** |
### Problem 1.36
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 2.5 | 3 |
| (2) | graded | 0.0 | 3 |
| (3) | graded | 0.0 | 3 |
| | | **2.5** | **9** |
## Total
| Score | Total |
| --- | --- |
| 93.5 | 119 |
