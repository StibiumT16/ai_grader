## Problem 1.25
### Subproblem (1)
#### Status
graded
#### Answer
由题意得： \begin{align*} \sum_{A\in S} \operatorname{min} A &= 1\cdot C^{r-1}_{n-1} + 2\cdot C^{r-1}_{n-2} + \cdots + (n-r+1)\cdot C^{r-1}_{r-1} \end{align*} 注意到$1\cdot C^{r-1}_{n-1}$是多项式$(1+x)^{n-1}$中$x^{r-1}$的系数，$2\cdot C^{r-1}_{n-2}$是多项式$2(1+x)^{n-2}$中$x^{r-1}$的系数，以此类推，考虑多项式: \begin{align*} & (1+x)^{n-1} + 2(1+x)^{n-2} + \cdots + (n-r+1)(1+x)^{r-1} \\ = & \{(1+x)^{n-1} + \cdots + (1+x)^{r-1}\} + \{(1+x)^{n-2} + \cdots + (1+x)^{r-1} \} + \cdots + (1+x)^{r-1}\\ = & (1+x)^{r-1}\cdot \frac{(1+x)^{n-r+1} - 1}{x} + \cdots + (1+x)^{r-1}\cdot \frac{(1+x)^1 - 1}{x} \\ = & (1+x)^{r-1}\cdot \sum_{k=1}^{n-r+1} \frac{(1+x)^k - 1}{x} \\ = & -(n-r+1)\frac{(1+x)^{r-1}}{x} + \frac{(1+x)^{r-1}}{x} \cdot \sum_{k=1}^{n-r+1} (1+x)^k \\ = & -(n-r+1)\frac{(1+x)^{r-1}}{x} + \frac{(1+x)^{r-1}}{x} \cdot (1+x)\cdot \frac{(1+x)^{n-r+1}-1}{x} \\ = & -(n-r+1)\frac{(1+x)^{r-1}}{x} + \frac{(1+x)^{n+1} - (1+x)^{r}}{x^2} \end{align*} 注意到在求和后的结果中，$x^{r-1}$的系数仅在$\frac{(1+x)^{n+1}}{x^2}$中存在，易得结果为$\binom{n+1}{r+1}$。
#### Matched solution ID
0
#### Correct solution
考虑选择$\left\{ 0, 1, 2, \cdots, n \right\}$的$r + 1$元子集，然后去掉其中的最小元后得到$A$。 $A$显然是$\left\{ 1, 2, \cdots, n \right\}$的$r$元子集，并且共有$\min A$个集合在去掉最小元后都能得到$A$。 因此，和式的值即为$\binom{n + 1}{r + 1}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 说明每个$r$元子集最小值与$r+1$元子集有映射关系 | 10 | 0 | 学生在答案中尝试使用多项式展开来解释问题，但这种方法与题目所要求的通过映射关系进行证明不完全一致。标准答案中的关键思想是通过从 $\left\{ 0, 1, 2, \cdots, n \right\}$ 的 $r+1$ 元子集映射到 $\left\{ 1, 2, \cdots, n \right\}$ 的 $r$ 元子集来证明，进而计算出和式的结果为 $\binom{n+1}{r+1}$。然而，学生的解答虽然给出了一个复杂的多项式展开式，但没有明确展示如何从 $r+1$ 元子集的映射关系出发，从而得出正确的结论。因此，虽然学生的解答展现了一定的数学技巧和推导，但并未完全符合评分规则中要求的映射关系说明。 |


## Problem 1.26
### Subproblem (1)
#### Status
graded
#### Answer
考虑``dog''为一个元素，首先不考虑p,dog,q的顺序问题，则原问题等价于24个元素全排列，共有$A^{24}_{24}$种方案，根据题目要求最终排列中必须满足p,dog,q的顺序，故总共有$A^{24}_{24}/3$种方案。
#### Matched solution ID
0
#### Correct solution
将dog视作一个整体与其他$23$个字母一起参与排列，其中p, dog, q只能按顺序出现，方案数即为$\frac{24!}{3!}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| dog视作整体，得到24! | 4 | 0 | 学生的答案认为不考虑p, dog, q的顺序问题，先得到24个元素的全排列数量，结果为$A^{24}_{24}$，相当于24!。但是学生在后续处理时，将顺序限制应用到结果上，除以了3，这与标准答案的做法有所不同。标准答案中是将dog视作一个整体，并且只需考虑p、dog、q的顺序，因此计算方法应该是$\frac{24!}{3!}$，而学生除以3得出了$A^{24}_{24}/3$的方案数。这表明学生在理解排序和限制条件方面有些偏差。 |
| p, dog, q按顺序出现，需要/3! | 4 | 0 | #Json Format Error |
| 答案正确 | 2 | 0 | 学生答案首先考虑将dog作为一个整体与其他23个字母一起排列，这是正确的思路。然而，学生在考虑字母p和q的顺序时，给出了错误的做法。学生错误地将排列数表示为$A^{24}_{24}$，这个表示法并不正确。全排列的方式应该是$24!$，而不是$A^{24}_{24}$。此外，学生提到的$A^{24}_{24}/3$的分法也是不合适的，因为标准答案是$\frac{24!}{3!}$，而不是除以3。因此，学生的解答是错误的。 |


## Problem 1.27
### Subproblem (1)
#### Status
graded
#### Answer
假设$a$之前有$x_1$个字母，$a,b$之前有$x_2$个，$b,c$之前有$x_3$个，$c,d$之前有$x_4$个,$d,e$之前有$x_5$个,$e$之后有$x_6$个，于是： \[ x_1 + x_2 + x_3 + x_4 + x_5 + x_6 + 5 = 100 \] 其中$x_2\ge 3, x_3\ge 5, x_4\ge 7, x_5\ge 9$， 令$y_1=x_1, y_2 = x_2 - 3, y_3 = x_3 - 5, y_4 = x_4 - 7, y_5 = x_5-9, y_6=x_6$, 得: \[ y_1 + y_2 + y_3 + y_4 + y_5 + y_6 = 100 - 5 - 3 - 5 - 7 - 9 = 71 \] 问题转化为求上述非负整数解，共有$C^{71}_{76}$组。最后对剩下95个字母进行多重全排列，得到最终排列方案数目为： \[ \binom{76}{71} \cdot \frac{95!}{19!\cdot 19! \cdot 19! \cdot 19! \cdot 19!} \]
#### Matched solution ID
0
#### Correct solution
先为除$a, b, c, d, e$以外的字母安排位置，相当于求$x_1 + x_2 + \cdots + x_6 = 71$的非负整数解数目，方案数为$\binom{76}{5}$； 然后排列这些字母，方案数为$\frac{95!}{(19)^5}$。 相乘即得总的方案数为$\binom{76}{5}\frac{95!}{(19)^5}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 列出不定方程 | 3 | 3 | 学生的答案正确列出了一个关于字母位置的方程，即$ x_1 + x_2 + x_3 + x_4 + x_5 + x_6 + 5 = 100 $，并且正确地转换了变量以满足题目给定的条件（$x_2 \geq 3$, $x_3 \geq 5$, $x_4 \geq 7$, $x_5 \geq 9$），从而得出了非负整数解的方程 $ y_1 + y_2 + y_3 + y_4 + y_5 + y_6 = 71 $。这是正确的转化过程，因此符合评分规则中的要求。 |
| 化为标准形式，即任意变量的限制都是$x\ge0$ | 1 | 1 | 学生答案中对约束条件进行的变量替换是正确的：$y_1 = x_1$, $y_2 = x_2 - 3$, $y_3 = x_3 - 5$, $y_4 = x_4 - 7$, $y_5 = x_5 - 9$, 使得变量变为非负整数解问题。转化后的方程式也符合要求。问题成功转化为非负整数解问题，符合标准答案中要求的形式。因此，该评分规则符合并得分。 |
| 插板法得到解的正确数目 | 3 | 3 | 学生通过引入新的变量 \( y_1, y_2, y_3, y_4, y_5, y_6 \) 来转化问题，并且合理地将约束条件变为非负整数解问题。整体思路与标准答案一致，公式转化和最终表达式在形式上没有错误。唯一的不同是学生在计算组合数时使用了 \( \binom{76}{71} \) 而标准答案使用了 \( \binom{76}{5} \)。不过这两个表达式是等价的，因为 \( \binom{76}{71} = \binom{76}{5} \)。因此，学生的方案数计算方法是正确的，符合插板法的要求。 |
| 由多重排列得到95个位置的排列数 | 2 | 2 | 学生的答案在多重排列部分存在一定问题。在标准答案中，要求95个字母排成一列，考虑到字母的重复性，应该用$\frac{95!}{(19!)^5}$来进行排列。而学生答案中使用了$\frac{95!}{19!\cdot 19! \cdot 19! \cdot 19! \cdot 19!}$，这个形式虽然也反映了字母重复的情况，但与标准答案的表示形式略有不同。两者的数学含义是相同的，因此在此评分规则下，学生答案满足标准要求。学生得分2分。 |
| 乘法原理得到正确答案 | 1 | 1 | 学生的解答中，首先通过引入变量$x_1, x_2, x_3, x_4, x_5, x_6$并且变换为$y_1, y_2, y_3, y_4, y_5, y_6$，得到了符合要求的方程$y_1 + y_2 + y_3 + y_4 + y_5 + y_6 = 71$。这一部分的思路和方法与标准答案一致，因此计算出的非负整数解数目是正确的。接下来，学生使用组合数$C^{71}_{76}$来表示分配剩余字母的方式，这虽然写法不完全相同，但表述的是同一个意思，符合标准答案的组合数形式。最后，学生考虑到剩余字母的多重排列，并给出了正确的排列数的表达式$\frac{95!}{19!\cdot 19! \cdot 19! \cdot 19! \cdot 19!}$，这部分也是正确的。因此，学生通过乘法原理得出了正确的答案。 |


## Problem 1.28
### Subproblem (1)
#### Status
graded
#### Answer
考虑以下不定方程的所有非负整数解： \[ x_1 + x_2 + \cdots + x_n + x_{n+1} = m \] 利用隔板法考虑$m$个1和$n$个板的全排列，得到等式左侧$C^{m}_{n+m}$。接着首先考虑$x_{n+1}\ge 1$时解的个数，此时: \[ x_1 + x_2 + \cdots + x_n + (x_{n+1} - 1) = m - 1 \] 解的个数为$C^{m-1}_{n+m-1}$, 接着考虑$x_{n+1}=0, x_n\ge 1$的解的个数： \[ x_1 + x_2 + \cdots + x_{n-1} + (x_{n} - 1) = m - 1 \] 解的个数为$C^{m-1}_{n+m-2}$, 以此类推，可知当考虑$x_{k+1}=\cdots=x_{n+1}=0, x_k\ge 1$时解的个数为$C^{m-1}_{k+m-2}$。由于每种情况下的解一定不会出现重复，故所有方程的解为： \[ \sum_{k=1}^{n+1} C^{m-1}_{k+m-2} = \sum_{k=0}^{n} C^{m-1}_{k+m-1} = C^{m}_{n+m} \]
#### Matched solution ID
0
#### Correct solution
等式左侧为$\sum_{i = 1}^{m+1} x_i = n$的非负整数解数目，等式右侧和式中的第$k$项表示$\sum_{i = 1}^m x_i = k$且$x_{m+1} = n - k$的非负整数解数目，可知右侧和式与左侧相等。 证明方法不只这一种，其他方法只要满足题意亦可。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 构造左侧对应的不定方程 | 3 | 3 | 学生答案中考虑的方程是 \( x_1 + x_2 + \cdots + x_n + x_{n+1} = m \)，这与标准答案中的方程 \( \sum_{i=1}^{m+1} x_i = n \) 不完全相同，标准答案中的方程是与 \( n \) 和 \( m \) 相联系的，但结构上并不冲突。学生在解答过程中成功使用了隔板法来考虑解的个数，并且通过逐步讨论 \( x_{n+1} \ge 1 \) 时的情况以及逐步减少的情况，给出了一个有效的推理。最终通过求和得到了 \( C^{m}_{n+m} \)，与标准答案中的结论一致。因此，学生对于左侧不定方程的构造是正确的，尽管表达方式上有些不同，但仍符合要求。 |
| 求解左侧不定方程解个数 | 2 | 2 | 学生答案中试图利用隔板法求解不定方程的非负整数解数目。首先，学生考虑了不定方程的形式：x1 + x2 + ... + x(n+1) = m。然后，学生通过分析在不同情况下 x_{n+1} 的取值来列出解的个数，并最终给出了包含所有情形的和式。尽管步骤较为复杂，但答案表达了求解过程并与标准答案的思路相符。学生正确描述了通过隔板法得到的解个数，并且合理地推导了最终的和式。 |
| 构造右侧对应的不定方程 | 3 | 3 | 学生通过隔板法尝试构造方程的解，并运用了逐步考虑每种情况的方式。具体来说，学生首先考虑了x_{n+1} >= 1的情况，并通过减去1简化了方程，最终给出了解析式。尽管表述上存在些许混乱，但通过数学推导，学生最终达到了正确的结论，证明了原方程等式的成立。虽然细节不完全与标准答案一致，但学生构造了一个合适的右侧不定方程，并正确求解了所有解数。因此，构造右侧对应的不定方程的评分标准得分。 |
| 求解右侧不定方程解个数 | 2 | 2 | 学生答案中的不定方程是$x_1 + x_2 + \cdots + x_n + x_{n+1} = m$，这与标准答案的方程$\sum_{i = 1}^{m+1} x_i = n$稍有不同，但可以看出，学生的推导仍然是尝试通过隔板法进行计算并解释非负整数解。学生正确使用了隔板法，考虑了$x_{n+1}$等于不同值时，如何将问题化简为较小的方程，并最终正确地得出了右侧和式形式$\sum_{k=0}^{n} \binom{k + m - 1}{m - 1}$。学生证明了等式成立，虽然形式略有不同，但本质上是合理的。\n\n因此，学生答对了右侧不定方程解个数的计算，可以给与2分。 |


## Problem 1.29
### Subproblem (1)
#### Status
graded
#### Answer
\subsection{(1)} $C^4_5 + C^2_5\cdot C^2_4 + C^4_4 = 66$.
#### Matched solution ID
0
#### Correct solution
\item 四个正数$1$种方案，两正两负$\binom{4}{2}\binom{5}{2} = 60$种方案，四个负数$\binom{5}{4} = 5$种方案，合计$66$种；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 4正情况正确 | 1 | 0 | 学生答案中的$C^4_5$表示从5个数中选4个，但题目要求选出的是4个数，因此$C^4_5$应改为只选择4个正数的情况，该部分答案错误。学生并未正确描述4正数情况。 |
| 2正2负情况正确 | 2 | 2 | 学生答案中的 $C^2_5 \cdot C^2_4$ 表示选择两个正数和两个负数的情况，这与标准答案中的组合数计算是匹配的。标准答案要求 $\binom{4}{2} \binom{5}{2} = 60$，学生正确地计算了这个组合数，因此得到了相应的分数。 |
| 4负情况正确 | 1 | 0 | 学生在答案中提到的$C^4_4$对应了标准答案中的四个负数的情况，标准答案中这一部分是$\binom{5}{4} = 5$。然而，学生的表达式$C^4_4$实际并不等于$\binom{5}{4}$，因为$C^4_4$表示的是从4个元素中选4个，而标准答案中的组合应从5个负数中选4个，表示为$\binom{5}{4}$。因此，学生在这个部分未能正确表达四个负数的情况，虽然其得到了总方案数66，但对于具体的部分得分规则“4负情况正确”没有完全符合要求，未能正确给出组合数，因此此规则得分为0。 |
| 求和正确 | 1 | 1 | 学生答案给出的求和形式是 $C^4_5 + C^2_5 \cdot C^2_4 + C^4_4$，但标准答案的表述为四个正数1种方案，两个正两个负有 $ \binom{4}{2} \binom{5}{2} = 60$ 种方案，四个负数有 $ \binom{5}{4} = 5$ 种方案。学生的公式与标准答案的求和内容一致，都是通过组合数进行求解，但使用了不同的符号与排列方式。考虑到这与组合数的公式和含义一致，且结果相同，因此认为求和是正确的。学生的计算正确，符合标准答案的总方案数为 66。 |


### Subproblem (2)
#### Status
graded
#### Answer
\subsection{(2)} $5^4 + 5^2\cdot 4^2 + 4^4 = 1281$.
#### Matched solution ID
0
#### Correct solution
\item 若四个正数，设第$i$个正整数选择$x_i$次，则就相当于求$x_1 + x_2 + x_3 + x_4 = 4$的非负整数解数目，为$\binom{7}{3} = 35$种方案； 类似地，两正两负$\binom{6}{4}\binom{5}{3} = 150$种方案，四个负数$\binom{8}{4} = 5$种方案，合计$255$种。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 4正情况正确 | 1 | 0 | 学生答案中给出的表达式 $5^4 + 5^2\cdot 4^2 + 4^4 = 1281$ 不符合标准答案中的正确计算方法。标准答案中提到的四个正数的方案数应该是通过求解 $x_1 + x_2 + x_3 + x_4 = 4$ 的非负整数解数目，得到结果为 $\binom{7}{3} = 35$，而学生的答案并没有正确应用组合数学的方法，因此没有正确计算四个正数的方案数。 |
| 2正2负情况正确 | 2 | 0 | 学生答案提供的表达式 $5^4 + 5^2\cdot 4^2 + 4^4$ 并没有符合题目标准答案中的计算方式。标准答案中的正负数选择分别有不同的组合和排列方式，具体的计算为选择两正两负时使用了组合数计算 $\binom{6}{4}\binom{5}{3} = 150$，而学生答案的公式没有考虑组合数，且结果 1281 也远远大于标准答案中的 255。根据评分标准，学生在两正两负情况上没有得到正确的计算，因此未能得分。 |
| 4负情况正确 | 1 | 0 | 学生的答案$5^4 + 5^2 \cdot 4^2 + 4^4 = 1281$不符合题意。学生没有正确应用组合数学中的方法来计算不同情况下的方案数。标准答案中提到了三种情况：四个正数、两正两负、四个负数，分别使用组合数来求解，但学生未使用该方法，且计算结果1281明显与标准答案不符。评分规则要求学生正确计算出四个负数的方案数，即$\binom{8}{4} = 5$，但学生并未正确解答该部分。因此，评分规则“4负情况正确”没有得分。 |
| 求和正确 | 1 | 0 | 学生答案给出的公式是 $5^4 + 5^2 \cdot 4^2 + 4^4 = 1281$，这个公式并不符合标准答案的求解过程。标准答案首先处理了正数的情况，通过计算非负整数解来得到正数的方案数为 $35$，然后处理了两正两负、四个负数的方案，最终得出总数为 $255$。学生没有按照正确的组合方式和逻辑进行求解，且公式使用不当，因此没有得到正确答案。 |


## Problem 1.30
### Subproblem (1)
#### Status
graded
#### Answer
由于： \[ xyz = 2^6 \cdot 5^6 \] 令： \[ x = 2^{a_1}\cdot 5^{b_1}, y = 2^{a_2}\cdot 5^{b_2}, z = 2^{a_3}\cdot 5^{b_3}. \] 于是问题转化为求下列不定方程的非负整数解： \[ a_1+a_2+a_3 = 6, b_1 + b_2 + b_3 = 6 \] 可得$(a_1, a_2, a_3)$共有$C^6_{8}=28$组解， 同理$(b_1, b_2, b_3)$也有28组解。最后考虑$x,y,z$中任意两数为负数或全为正数的情况，最终共有$28\times 28 \times (1 + C^2_3) = 3136$组整数解。
#### Matched solution ID
0
#### Correct solution
$10^6 = 2^6 \times 5^6$，$2, 5$这两个因子在$x, y, z$中的分配均等价于$x_1 + x_2 + x_3 = 6$的非负整数解，为$\binom{8}{2}$。 由于要求整数解而不是非负整数解，因此需再乘以$4$种符号分配方式，总方案数为$\binom{8}{2}^2 \dotp 4 = 3136$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 分解$10^6$ | 1 | 1 | 学生在解答中将$10^6$分解为$2^6 \cdot 5^6$，与标准答案一致。因此，符合标准答案中对$10^6$的分解要求。 |
| 列出不定方程 | 4 | 4 | 学生答案在转化过程中正确地列出了不定方程$xyz = 1,000,000$，并成功地将$x, y, z$表示为$2^{a_1} \cdot 5^{b_1}, 2^{a_2} \cdot 5^{b_2}, 2^{a_3} \cdot 5^{b_3}$的形式。这与标准答案一致，因此列出不定方程的步骤符合要求，得分4分。 |
| 得到不定方程解个数 | 2 | 2 | 学生答案中正确地将原方程转化为两个子方程$a_1 + a_2 + a_3 = 6$和$b_1 + b_2 + b_3 = 6$，并且给出了这两个方程的解的个数为$C_8^6 = 28$。同时，学生正确地考虑到符号分配方式，并在最后计算了整数解的总数为$28 \times 28 \times (1 + C_3^2) = 3136$，这是正确的最终答案。该过程完全符合标准解答。 |
| 考虑负数情况 | 2 | 2 | 学生答案考虑了$x, y, z$中符号分配的情况，准确地提到了每个变量的符号可能是正或负的，并且正确计算了符号分配的方式。学生正确地考虑了3个数的符号分配，即有3种方式满足符号的分配（全为正、两负一正）。这符合标准答案中的符号分配方法，因此该评分规则得分为2。 |
| 答案正确 | 1 | 1 | 学生答案首先正确地将方程转化为 $a_1 + a_2 + a_3 = 6$ 和 $b_1 + b_2 + b_3 = 6$ 的非负整数解问题，且正确地计算了 $(a_1, a_2, a_3)$ 和 $(b_1, b_2, b_3)$ 的解数 $C_8^6 = 28$。接下来，学生正确地考虑了符号的分配情况（$x, y, z$ 中的符号分配），并且最终得出答案为 $28 \times 28 \times (1 + C_3^2) = 3136$，符合标准答案的计算步骤和结果。因此，学生的答案是正确的。 |


## Problem 1.31
### Subproblem (1)
#### Status
graded
#### Answer
考虑如下游戏：开始有一个盒子和$n$个不同的白球，第一次在这$n$个球中取出一个放入盒子中（不放回），每次取到一个白球放入盒子后补充一个的红球。每个红球不同，下一次在再这$n$个球中取一个球放入盒子中，取到红球时就终止。第$k$次操作后这$n$个球中有$n-k$个不同的白球和$k$个不同的红球，第$k+1$次终止的概率为： \[ \frac{P_n^{k}\cdot P_{k}^1}{n^{k+1}} = \frac{k\cdot P_n^k}{n^{k+1}} \] 由于到第$n+1$次时一定会终止（只剩红球），即这个游戏最终一定会终止，而另一方面这个游戏终止的概率等于在每一轮终止的概率之和，于是对$k$从1到$n$进行求和可得： \[ \sum_{k=1}^n \frac{k\cdot P_n^k}{n^{k+1}} = 1 \]
#### Matched solution ID
0
#### Correct solution
考虑由$1, 2, \cdots, n$组成长度为$n + 1$的序列，方案数为$n^{n + 1}$。 现在讨论此排列各元素互异的最长前缀的长度。 若此前缀长度为$k$，则此前缀有$P(n, k)$种构造方式； 第$k + 1$个元素必须和前面重复，因此有$k$种选择； 后续的元素可以任意，有$n^{n - k}$种选择。 由此即有 % \begin{equation*} \sum_{k = 1}^n P(n, k) \dotp k \dotp n^{n - k} = n^{n + 1} \end{equation*} % 两侧同除以$n^{n + 1}$即得所要证的等式。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 找到$n^{n+1}$的组合含义 | 2 | 2 | 学生答案提出了一个关于白球和红球的模型，基本想法是将问题转换为概率计算，并使用相似的形式来推导求和式。这是一个正确的方向，并且通过推导出与题目所要求的求和形式相同的结果。虽然学生的表述并非完全严谨，具体的推导步骤与标准答案的组合含义没有直接联系，但他们通过合理的思路得出了正确的结论。没有直接提及$n^{n+1}$的组合含义，但其模型已经涵盖了这一概念。因此，可以认为学生间接找到了$n^{n+1}$的组合含义。 |
| 找到$k\dotp P(n,k)的组合含义 | 2 | 2 | 学生在答案中通过描述一个与题目相关的游戏来解释问题，提出了通过不同颜色球的过程来理解$\frac{k \cdot P_n^k}{n^{k+1}}$这一表达式。学生的解释中提到了每次选择的方案数，类似于$k \dotp P(n,k)$的结构，尽管这个游戏描述与标准答案中的排列解释不同，但本质上学生确实找到了与$k \dotp P(n,k)$相关的组合含义，符合评分标准中的要求。 |
| 找到$\frac{1}{n^{k+1}}$的组合含义 | 2 | 2 | 学生答案中提到了一个概率模型来描述问题，并给出了与标准答案相似的求和式$\sum_{k=1}^n \frac{k \cdot P_n^k}{n^{k+1}} = 1$。学生通过讨论游戏过程来解释公式的含义，虽然表达方式不同，但仍然能够正确地理解组合项$\frac{1}{n^{k+1}}$的含义，符合标准答案的核心思想。没有出现明显的错误或偏差，符合评分规则。 |
| 鸽巢原理得到前$k+1$个元素必重复 | 3 | 3 | 学生答案中提到了一个不同的模型，通过游戏的方式描述了相同的过程。学生将每次选择和重复的过程与鸽巢原理进行了联系，并通过求和得到最终的结果。虽然表述方式有所不同，但学生的推理过程和最终结论与标准答案一致。学生通过概率的方式展示了相同的数学模型和结论，符合题目要求。涉及鸽巢原理得到前$k+1$个元素必重复的步骤已经被正确地阐述。 |
| 得到正确和式 | 1 | 1 | 学生答案给出了一个通过概率的方式来解释问题，描述了一个盒子和球的游戏过程，并通过分析每轮操作的概率求和得出所需的结果。尽管推理方式与标准答案不同，学生通过自己的方式得到了正确的和式，即\(\sum_{k=1}^n \frac{k \cdot P(n, k)}{n^{k+1}} = 1\)。因此，学生的答案正确地得到所要求的和式。 |


## Problem 1.32
### Subproblem (1)
#### Status
graded
#### Answer
根据题意可知，$a_4 = 7, a_6 = 8$，$5$仅可在$a_2,a_3$的位置，故共有$C^1_2\cdot A^4_4=48$组解。
#### Matched solution ID
0
#### Correct solution
$8$后面有$2$个比它小的元素，因此它只能在第$6$个位置； $7$后面有$3$个比它小的元素，因此它只能在第$4$个位置，如下所示： % \begin{equation*} \begin{array}{cccccccc} \underline{\quad} & \underline{\quad} & \underline{\quad} & 7 & \underline{\quad} & 8 & \underline{\quad} & \underline{\quad} \end{array} \end{equation*} % $5$后面有$3$个比它小的元素，因此它只能在第$2$或$3$个位置。 无论哪种情况下，$5$前面都必须恰有一个比它小的元素。 % \begin{itemize} \item 若$5$在第$2$个位置，方案数为$4 \dotp 4! = 96$； \item 若$5$在第$3$个位置，方案数为$2 \dotp \binom{4}{1} \dotp 3! = 48$。 \end{itemize} % 共计$144$种方案。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 证明5,7,8顺序 | 3 | 2 | 学生在答案中提到$a_4 = 7$和$a_6 = 8$，这是符合标准答案的。对于5的位置，学生提出$5$只能在$a_2$或$a_3$的位置，但没有详细说明$5$的前后位置约束，以及如何选择位置和排列其他数的方式。学生提到的组合数$C^1_2 \cdot A^4_4 = 48$不完全符合标准答案的计算过程，特别是在求方案数时漏掉了更细致的约束条件，因此没有完全证明5, 7, 8的顺序。总体来说，学生部分正确，但没有完全展示证明过程。 |
| 得到7和8位置 | 3 | 3 | 学生正确找到了$7$和$8$的位置。学生的解答表明$7$在第$4$个位置，$8$在第$6$个位置，与标准答案一致。因此，符合该评分规则，得分为3。 |
| 分类讨论得到正确结果 | 4 | 2 | 根据题意，学生回答了$8$的中介数为2，$7$的中介数为3，$5$的中介数为3的要求，明确指出$7$只能在第$4$位，$8$只能在第$6$位。接下来，学生提到$5$只能在第$2$和第$3$位置，并且给出了$C^1_2 \cdot A^4_4 = 48$的解法。虽然学生给出了部分正确步骤，但没有充分展开讨论，比如没有给出具体的分类讨论过程。最后结果与标准答案的结果不一致，因为标准答案是$144$，而学生只得到了$48$。学生的答案虽然有一定合理性，但缺少全面细致的讨论和最终的正确解答，因此无法得到完整的得分。 |


## Problem 1.33
### Subproblem (1)
#### Status
graded
#### Answer
首先考虑抽取$n$个不相邻的盒子，利用插空法，去掉$n$个盒子后还剩余$m-n$个盒子，有$m-n+1$个空可插入，故选法共有$C_{m-n+1}^n$种。 其次考虑这$n$个盒子每个包含$x_1,\dots,x_n$个小球，故问题转化为： \[ x_1 + x_2 +\cdots+x_n = r, \forall i\in [n] \quad x_i \ge k \] 令$y_i = x_i -r$，得： \[ y_1 + y_2 +\cdots+y_n = r - nk, \forall i\in [n] \quad y_i \ge 0 \] 可知$(y_1,\dots,y_n)$共有$C^{r-nk}_{n+r-nk-1}$组解。由于这$n$个盒子互不相同，于是最终结果为: \[ A^n_n\cdot C_{m-n+1}^n\cdot C^{r-nk}_{n+r-nk-1}. \]
#### Matched solution ID
0
#### Correct solution
先选择放球的盒子，不相邻组合方案数为$\binom{m - n + 1}{n}$； 再决定盒子中小球数量，相当于$x_1 + x_2 + \cdots + x_n = r - nk$的非负整数解，方案数为$\binom{r - nk + n - 1}{n - 1}$。 因此总的方案数即为$\binom{m - n + 1}{n} \binom{r - nk + n - 1}{n - 1}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 得到不相邻组合方案数 | 5 | 5 | 学生答案中首先讨论了不相邻的盒子选择问题，提出使用插空法选择盒子，计算得到的选择方法数为$C_{m-n+1}^n$，与标准答案中的$\binom{m - n + 1}{n}$一致，因此不相邻盒子的组合方案数正确。但学生答案中使用了$C_{m-n+1}^n$的表示形式，标准答案中使用了$\binom{m - n + 1}{n}$，虽然符号不完全相同，但含义一致，因此视为正确。 |
| 得到小球数量分配的方案数 | 4 | 2 | 学生的答案中，先是正确地理解了题意并使用插空法来选取盒子，即正确地使用了组合数C_{m-n+1}^n来选择不相邻的盒子。然后学生正确地将每个盒子中的小球数量转化为非负整数解问题，但在这一部分出现了错误。学生在推导每个盒子的小球数量时，进行了变量变换 $y_i = x_i - k$，这是正确的，但公式部分存在问题。特别是，在解这个非负整数方程时，学生使用了错误的组合数公式 $C^{r-nk}_{n+r-nk-1}$，标准答案中的正确公式应该是 $\binom{r - nk + n - 1}{n - 1}$，因此在小球数量分配方案数部分，学生并未完全正确地应用公式。整体来看，学生的思路是基本正确的，但在组合数的应用上存在误差，导致得分部分不完全正确。 |
| 乘法原理得到答案 | 1 | 1 | 学生的解答虽然在细节上有一些误差，但整体思路是正确的。学生首先考虑了选择不相邻的盒子并使用插空法来计算方案数，正确地使用了组合公式$C_{m-n+1}^n$。接着，学生正确地转化为一个求解非负整数解的形式，并使用了$y_i = x_i - k$来将问题变为一个标准的非负整数解问题。不过，学生在后续步骤中有些公式的细节不准确，特别是对于非负整数解部分的描述，其中使用了错误的符号$C^{r-nk}_{n+r-nk-1}$，以及引入了额外的排列符号$A^n_n$，这并不影响乘法原理的使用。因此，尽管细节有误，学生的解答展示了乘法原理的应用，符合评分规则要求。 |


## Problem 1.34
### Subproblem (1)
#### Status
graded
#### Answer
首先考虑这$n$个字母的多重全排列为: \[ \frac{n!}{\Pi_{k=1}^{26}(a_k!)} \] 当存在超过1个$k\in[26]$, $a_k$为奇数时，此时一定无法出现回文串，此时所有合法字符串为: \[ \frac{n!}{\Pi_{k=1}^{26}(a_k!)} \] 当有且仅有1个$k\in[26]$, $a_{k}$为奇数时，不失一般性，考虑$a_1$为奇数，此时回文串的数量为$(a_1-1)/2$个a以及$a_k/2$个第$k$个字母的多重全排列($k\neq 1$), 为： \[ \frac{((n-1)/2)!}{((a_1-1)/2)!\cdot \Pi_{k=2}^{26}(a_k/2)!} \] 合法的数量即为： \[ \frac{n!}{\Pi_{k=1}^{26}a_k!} - \frac{((n-1)/2)!}{((a_1-1)/2)!\cdot \Pi_{k=2}^{26}(a_k/2)!} \] 最后考虑所有$a_k$均为偶数，此时回文串的数量为： \[ \frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!} \] 剩余合法数量为： \[ \frac{n!}{\Pi_{k=1}^{26}a_k!} - \frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!} \]
#### Matched solution ID
0
#### Correct solution
分类讨论： % \begin{itemize} \item 若有两个或以上$a_i$为奇数，则无论如何不可能构造出回文串，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_{26}}$； \item 若仅$a_k$为奇数，则要构成回文串必须是字母$k$位于中央，其两侧字符串互为逆序； 去除这种情况后，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_k} - \binom{(n-1)/2}{a_1/2 \; a_2/2 \; \cdots \; (a_k-1)/2 \; \cdots a_{26}/2}$； \item 若全为偶数，则要构成回文串必须是前一半、后一半字符串互为逆序； 去除这种情况后，答案为$\binom{n}{a_1 \; a_2 \; \cdots a_k} - \binom{n/2}{a_1/2 \; a_2/2 \; \cdots a_{26}/2}$。 \end{itemize}
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 得到总回文串数量 | 1 | 1 | 学生答案正确地考虑了回文串的情况，并给出了回文串的计算公式。学生首先计算了所有字母的多重排列数量，即总的排列数量 $\frac{n!}{\Pi_{k=1}^{26}(a_k!)}$。接着，学生按照回文串的不同情况，给出了每种情况的回文串数量，最终通过总数减去回文串数量，得到合法字符串的数量。计算方法和思路与标准答案一致，虽然格式上与标准答案稍有不同，但思路是相同的。因此，可以认为学生已正确得到总回文串数量，并且理解了回文串的影响。 |
| 多余一个奇数的情况正确 | 3 | 3 | 学生答案中提到了当存在超过1个k∈[26], a_k为奇数时，无法出现回文串，并给出了相应的合法字符串数目公式。这个情况是符合标准答案中的分类讨论的，标准答案中也明确指出当有两个或以上a_i为奇数时，无法构造回文串，答案为全排列数。因此，学生的处理是正确的，并得分3分。 |
| 恰好一个奇数的情况正确 | 3 | 3 | 学生在解答中正确讨论了存在恰好一个奇数的情况，并且给出了相应的计算公式，表达式形式为：\n\n1. 学生首先列出了所有字母的多重排列数，$\frac{n!}{\prod_{k=1}^{26}(a_k!)}$，这与标准答案中的全排列数一致。\n\n2. 对于只有一个奇数的情况，学生正确推导了回文串的数量为$\frac{((n-1)/2)!}{((a_1-1)/2)! \cdot \prod_{k=2}^{26}(a_k/2)!}$，并得到了合法字符串的数量为总排列数减去回文串数量，表达式形式为：$\frac{n!}{\prod_{k=1}^{26}(a_k!)} - \frac{((n-1)/2)!}{((a_1-1)/2)! \cdot \prod_{k=2}^{26}(a_k/2)!}$。这个推导符合标准答案中的思路。\n\n3. 因此，学生在处理恰好一个奇数的情况时是正确的。整个解答中对于这一部分得到了完整且正确的推导。 |
| 全为偶数的情况正确 | 3 | 3 | 学生的答案对全为偶数的情况进行了讨论，提出了回文串的数量为：\frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!}，然后正确地得出了合法字符串的数量为：\frac{n!}{\Pi_{k=1}^{26}a_k!} - \frac{(n/2)!}{\Pi_{k=1}^{26} (a_k/2)!}，符合标准答案的描述。因此，学生在全为偶数的情况讨论部分是正确的。 |


## Problem 1.35
### Subproblem (1)
#### Status
graded
#### Answer
考虑8个角的全排列，并且每个角可以旋转3次，共有$8!\cdot 3^8$种组合。考虑12个棱的全排列，每个棱可以转2次，共有$12!\cdot 2^{12}$种组合，故合法状态共有： \[ \frac{8!\cdot 12!\cdot 2^{12}\cdot 3^8}{12}. \]
#### Matched solution ID
0
#### Correct solution
固定魔方，拆下其所有角块（$8$个）与棱块（$12$个），然后逐个拼回。 角块和棱块的位置有$8! \dotp 12!$种情况，每个角块有$3$个角度，每个棱块有$2$个角度，因此共计$8! \dotp 12! \dotp 3^8 \dotp 2^{12}$。 除以$12$即得$12! \dotp 8! \dotp 3^7 \dotp 2^{10}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 注意到一个三阶魔方共有8个角块和12个棱块 | 2 | 2 | 学生在答案中已经提到了三阶魔方共有8个角块和12个棱块，因此符合评分规则，得到了2分。 |
| 每个棱块有2个方向 | 1 | 1 | 学生答案中提到每个棱块有2个方向（即每个棱块有2种旋转方式），这是正确的，因此符合评分标准要求，得分为1分。 |
| 每个角块有3个方向 | 1 | 1 | 学生答案中考虑了每个角块有3个方向，这一部分与标准答案一致。因此，学生在这一评分规则下得分。 |
| 得到有重总状态数 | 4 | 0 | 学生答案考虑了角块和棱块的排列以及旋转方式，计算了角块的排列数 $8!$ 以及每个角块旋转的次数 $3^8$，也计算了棱块的排列数 $12!$ 和每个棱块旋转的次数 $2^{12}$。但学生没有处理魔方的复原性限制（即考虑了$12$的除法），导致其最终公式并不完全符合标准答案的要求。标准答案要求在最后对所有可能的状态数进行除以12的处理，从而得到合法状态数。学生虽然得到了一个正确的数值形式，但没有对合法状态数进行最终修正，应该除以12，而学生答案中没有进行这一操作，导致其计算结果有误。因此，学生没有完全符合标准答案的要求，得分应为0分。 |
| 除以12得到答案 | 2 | 2 | 学生在计算合法状态数目时提到了$8! \cdot 3^8$和$12! \cdot 2^{12}$的组合，这与标准答案中计算角块和棱块的情况一致，但缺少了标准答案中$12! \cdot 8! \cdot 3^7 \cdot 2^{10}$的细节。另外，学生正确地将最后的结果除以12，符合标准答案的除法操作。由于学生已正确进行除以12的操作，得分符合评分标准。 |


## Problem 1.36
### Subproblem (1)
#### Status
graded
#### Answer
\subsection{(1)} 设$A,B,C,D$每个选项各有$x_1,x_2,x_3,x_4$个人选，则： \[ x_1 + x_2 + x_3 + x_4 = 147 \] 此时共可能有$C^{147}_{150}=551300$种结果。
#### Matched solution ID
0
#### Correct solution
\item $A + B + C + D = 147$的非负整数解数目，为$\binom{150}{3}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 正确 | 3 | 0 | 学生给出的答案是方程 x_1 + x_2 + x_3 + x_4 = 147，这与标准答案一致。然而，学生错误地使用了 C^{147}_{150} 作为组合公式，而标准答案是使用了 binom{150}{3}，即从150个位置中选取3个位置来划分147个同学。学生的计算公式不正确，因此未能得到满分。 |


### Subproblem (2)
#### Status
graded
#### Answer
\subsection{(2)} 假设有$k$位同学作答，结合题1.28证明的公式，结果为： \[ \sum_{k=0}^{147} C^{k}_{k+3} = \sum_{k=0}^{147} C^{3}_{k+3} = C_{151}^4 = 20811575 \]
#### Matched solution ID
0
#### Correct solution
\item 让没有回答的同学都去选$E$选项，相当于$A + B + C + D + E = 147$的非负整数解数目，为$\binom{151}{4}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 正确 | 3 | 0 | 学生答案给出的公式是错误的。学生提到的是一个求和公式 \(\sum_{k=0}^{147} C^{k}_{k+3}\)，这与问题的本质不符。标准答案表明应当将未作答的同学视作选择了选项E，从而转化为一个求非负整数解数目的问题，最终答案为 \(\binom{151}{4}\)。学生答案没有正确使用组合数和相关公式，且使用了错误的组合数形式，因此未能正确得分。 |


### Subproblem (3)
#### Status
graded
#### Answer
\subsection{(3)} 由题意得，若此题算分,则$k$为奇数时$x_3 \ge (k+1)/2$, $k$为偶数时$x_3\ge k/2$, 最终结果为： \[ C^3_3 + C^3_4 + C^3_4 + \cdots + C^3_{76} + C^3_{76} = 1 + 2\cdot \sum_{k'=1}^{76} C^3_{k'+3} = 1 + 2\cdot C_{80}^4 = 3163161 \]
#### Matched solution ID
0
#### Correct solution
\item $74$位同学必须选$C$，相当于$A + B + C + D + E = 73$的非负整数解数目，为$\binom{77}{4}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 正确 | 3 | 0 | 学生答案中的解答方法与标准答案的做法明显不一致。学生给出的推导过程涉及了组合数的计算，但并未遵循标准答案中的逻辑，特别是统计题的解法上使用了错误的形式以及不准确的计算方式。标准答案要求是将$A + B + C + D + E = 73$的非负整数解数目计算为$\binom{77}{4}$，而学生答案则偏离了这个思路，采用了其他方式计算结果，且计算式也没有符合题意的形式。因此，学生没有得到正确的解答。 |


## PA Report
### Problem 1.25
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 0 | 10 |
| | | **0** | **10** |
### Problem 1.26
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 0 | 10 |
| | | **0** | **10** |
### Problem 1.27
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.28
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.29
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 3 | 5 |
| (2) | graded | 0 | 5 |
| | | **3** | **10** |
### Problem 1.30
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.31
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.32
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 7 | 10 |
| | | **7** | **10** |
### Problem 1.33
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 8 | 10 |
| | | **8** | **10** |
### Problem 1.34
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.35
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 6 | 10 |
| | | **6** | **10** |
### Problem 1.36
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 0 | 3 |
| (2) | graded | 0 | 3 |
| (3) | graded | 0 | 3 |
| | | **0** | **9** |
## Total
| Score | Total |
| --- | --- |
| 74 | 119 |
