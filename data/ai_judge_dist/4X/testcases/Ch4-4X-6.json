{
  "4.1": {
    "(1)": "根据题意有\n$G_n=F_{2n}=F_{2n-1}+F_{2n-2}=2F_{2n-2}+F_{2n-3}=3F_{2n-3}+2F_{2n-4}$\n$G_{n-1}=F_{2n-2}=F_{2n-3}+F_{2n-4}$\n$G_{n-2}=F_{2n-4}$\n故 $G_n - 3G_{n-1}+G_{n-2}=3F_{2n-3}+2F_{2n-4}-3(F_{2n-3}+F_{2n-4})+F_{2n-4}=0$\n得证",
    "(2)": "根据(1)可得：\n$ \\sum_{n=2}^{\\infty} (G_n - 3G_{n-1} + G_{n-2})x^n = 0 $\n设 $ G(x) = \\sum_{n=0}^{\\infty} G_n x^n $，代入公式则：\n$ G(x) - G_0 - G_1x - 3x(G(x) - G_0) + x^2G(x) = 0 $\n$ G(x)(1 - 3x + x^2) - x = 0 $ \n$ G(x) = \\frac{x}{1 - 3x + x^2} $\n求反到 $ G_n $ 的母函数为 $ G(x) = \\frac{x}{1 - 3x + x^2} $"
  },
  "4.2": {
    "(1)": "$ G(x) = \\sum_{n=0}^{\\infty} a_n x^n =\\frac{1}{1-x+x^2}$\n$G(x) - xG(x) + G(x)= 1$\n$\\sum_{n=0}^{\\infty} a_n x^n-\\sum_{n=0}^{\\infty} a_n x^{n+1}+\\sum_{n=0}^{\\infty} a_n x^{n+2}=1$\n$\\sum_{n=0}^{\\infty} a_n x^n-\\sum_{n=1}^{\\infty} a_{n-1} x^{n}+\\sum_{n=2}^{\\infty} a_{n-2} x^{n}=1$\n$(a_1-a_0)x+a_0+\\sum_{n=0}^{\\infty} (a_n-a_{n-1}+a_{n-2}) x^n=1$\n可得$a_0=1,a_1=1$\n递推式为 $a_n=a_{n-1}-a_{n-2}$"
  },
  "4.3": {
    "(1)": "根据通项公式可知特征方程的根$3,-1$，满足条件的特征多项式为\n$(x-3)(x+1)=x^2-2x-3$\n对应的递推关系式是 $a_n-2a_{n-1}-3a_{n-2}=0,a_0=c+d,a_1=3c-d$"
  },
  "4.4": {
    "(1)": "$$\n\\left\\{\n\\begin{array}{l}\n a_n - 2a_{n-1} + a_{n-2} = 5 \\\\\n a_{n+1} - 2a_n + a_{n-1} = 5 \n\\end{array}\n\\right.\n$$\n相减得$a_{n+1} - 3a_n + 3a_{n-1}-a_{n-2}=0$\n特征方程为\n$ x^3 - 3x^2 + 3x - 1 = 0 $\n化简为$(x-1)^3=0$\n1是三重根，对应的通项为（$A_0 + A_1n + A_2n^2$）\n$a_0=1,a_1=2,根据题意a_2-4+1=5,得到a_2=8$\n$$\n\\left\\{\n\\begin{array}{l}\n a_0 = A_0 = 1 \\\\\n a_1 = A_0 + A_1 + A_2 = 2 \\\\\n a_2 = A_0 + 2A_1 + 4A_2 = 8\n\\end{array}\n\\right.\n$$\n解得\n$$\n\\left\\{\n\\begin{array}{l}\n A_0 = 1 \\\\\n A_1 = -\\frac{3}{2} \\\\\n A_2 = \\frac{5}{2}\n\\end{array}\n\\right.\n$$\n$a_n = 1-\\frac{3}{2}n + \\frac{5}{2}n^2$"
  },
  "4.5": {
    "(1)": "利用容斥原理，用所有可能的长度为n的字符串减去不包含AB子串的字符串数量\nf(n)为长度为n不包含AB的字符串数量\nf(n，0)为长度为n，不以A为结尾的不包含AB的字符串数量\nf(n，1)为长度为n，以A为结尾的不包含AB的字符串数量\nf(n,0)=3f(n-1,0)+2f(n-1,1)\nf(n,1)=f(n-1,0)+f(n-1,1)\nf(n)=f(n,0)+f(n,1)=4f(n-1)-f(n-2)\n特征方程为$x^2-4x+1=0,解得r_1=2+ \\sqrt(3),r_2=2- \\sqrt(3)$\n通解为$\\quad f(n) = k_1(2+\\sqrt{3})^n + k_2(2-\\sqrt{3})^n$\nf(1,0)=3\nf(1,1)=1\nf(1)=4\nf(2,0)=11\nf(2,1)=4\nf(2)=15\n$f(1) = k_1(2+\\sqrt{3}) + k_2(2-\\sqrt{3}) = 4$\n$f(2) = k_1(2+\\sqrt{3})^2 + k_2(2-\\sqrt{3})^2 = 15$\n根据上述两式解得\n$k_1 = \\frac{3+2\\sqrt{3}}{6},k_2=\\frac{3-2\\sqrt{3}}{6}$\n故不含AB的字符串数量为$f(n) = \\left(\\frac{3+2\\sqrt{3}}{6}(2+\\sqrt{3})^n + \\frac{3-2\\sqrt{3}}{6}(2-\\sqrt{3})^n\\right)$\n长度为n的字符串且AB子串至少出现一次的字符串数量为：\n$4^n - \\left[\\left(\\frac{3+2\\sqrt{3}}{6}\\right)(2+\\sqrt{3})^n + \\left(\\frac{3-2\\sqrt{3}}{6}\\right)(2-\\sqrt{3})^n\\right]$"
  },
  "4.6": {
    "(1)": "设规模为n时最小移动次数为 $a_n$，已知传统汉诺塔 $n$ 个圆盘的最小移动次数为 $h_n=2^n-1$\n当 $n$ 是偶数时，将前 $n-1$ 个圆盘移到 $C$ 柱，花费 $h_{n-1}$ 步\n将 $A$ 柱的第 $n$ 个移动到 $B$ 柱，1 步\n将前 $n-3$ 个盘从 $C$ 移到 $A$，$h_{n-3}$ 步\n将 $C$ 上的 $n-2$ 号盘移到 $B$，1 步\n问题规模化简为n-3\n综上，通项公式$a_n=h_{n-1}+1+h_{n-3}+1+a_{n-3}=2^{n-1}+2^{n-3}+a_{n-3}$\n$n$ 为奇数时思路相同，通项公式相同\n齐次递推式的特征方程为 $a_n-a_{n-3}=2^{n-1}+2^{n-3}=5*2^{n-3}$\n特征方程为 $x^3-1=(x-1)(x^2+x+1)=0$\n解得 3 个根 $\\alpha_1=1,\\alpha_{2,3}=\\dfrac{-1\\pm\\sqrt3 i}{2}=\\cos\\dfrac{2\\pi}{3}\\pm i\\sin\\dfrac{2\\pi}{3}$\n故解的形式为 $u_n=A_1+A_2\\cos\\dfrac{2n\\pi}{3}+A_3\\sin\\dfrac{2n\\pi}{3}$\n非齐次的特解形式为 $v_n=A_42^{n-3}$\n代入原式可得 $A_42^{n-3}-A_42^{n-6}=5*2^{n-3},8A_4-A_4=40,A_4=\\dfrac{40}{7}$\n故 $v_n=\\dfrac{5}{7}*2^n$\n$a_n=u_n+v_n=A_1+A_2\\cos\\dfrac{2n\\pi}{3}+A_3\\sin\\dfrac{2n\\pi}{3}+\\dfrac{5}{7}*2^n$\n由初值 $a_0=0,a_1=1,a_2=2$，代入上式，可得方程组：\n$$\n\\begin{cases}\nA_1+A_2+\\dfrac{5}{7}=0 \\\\\nA_1-\\dfrac{1}{2}A_2+\\dfrac{\\sqrt 3}{2}A_3+\\dfrac{10}{7}=1 \\\\\nA_1-\\dfrac{1}{2}A_2-\\dfrac{\\sqrt 3}{2}A_3+\\dfrac{20}{7}=2\n\\end{cases}\n$$\n解得 $A_1=-\\dfrac{2}{3},A_2=-\\dfrac{1}{21},A_3=\\dfrac{\\sqrt 3}{7}$\n故原问题的解为 $a_n=-\\dfrac{2}{3}-\\dfrac{1}{21}\\cos\\dfrac{2n\\pi}{3}+\\dfrac{\\sqrt 3}{7}\\sin\\dfrac{2n\\pi}{3}+\\dfrac{5}{7}*2^n$"
  },
  "4.7": {
    "(1)": "f(n)为长度为n,没有连续三个相同字符的字符串数量\nf(n，1)为长度为n，最后一个字符连续出现一次的字符串数量\nf(n，2)为长度为n，最后一个字符连续出现两次的字符串数量\n$f(n,1)=(k-1)f(n-1,1)+(k-1)f(n-1,2)$\n$f(n,2)=f(n-1,1)$\n递推关系$f(n)=f(n,1)+f(n,2)=(k-1)f(n-1)+(k-1)f(n-2)$\n初始条件$f(1)=k,f(2)=k^2$\n特征方程为$x^2-(k-1)x-(k-1)=0$,得方程的根为\n$x_1=\\frac{k-1+\\sqrt{(k-1)(k+3)}}{2},x_2=\\frac{k-1-\\sqrt{(k-1)(k+3)}}{2}$\n通项公式为$a_n=Ax_1^n+Bx_2^n$\n$$\n\\begin{cases}\nA \\cdot x_1 + B \\cdot x_2 = k\\\\\nA \\cdot x_1^2 + B \\cdot x_2^2 = k^2\n\\end{cases}\n$$\n解得\n$A=\\frac{k(k-x_2)}{x_1(x_1-x_2)},B=\\frac{k(k-x_1)}{x_2(x_2-x_1)}$\n代入到通项公式中\n$a_n=(\\frac{k(k-x_2)}{x_1(x_1-x_2)})x_1^n+(\\frac{k(k-x_1)}{x_2(x_2-x_1)})x_2^n$\n$a_n=(\\frac{k(\\frac{k-1+\\sqrt{(k-1)(k+3)}}{2})}{\\sqrt{(k-1)(k+3)}})(\\frac{k-1+\\sqrt{(k-1)(k+3)}}{2})^{n-1}+(\frac{k(\\frac{k-1-\\sqrt{(k-1)(k+3)}}{2})}{-\\sqrt{(k-1)(k+3)}}})(\\frac{k-1-\\sqrt{(k-1)(k+3)}}{2})^{n-1}$"
  },
  "4.8": {
    "(1)": "设 $S_n=\\sum_{k=1}^nk^4$\n有 $S_{n-1}=\\sum_{k=1}^{n-1}k^4$\n$S_n-S_{n-1}=n^4$\n$S_{n-1}-S_{n-2}=(n-1)^4=n^4-4n^3+6n^2-4n+1$\n相减得下式\n$S_n-2S_{n-1}+S_{n-2}=4n^3-6n^2+4n-1$\n$S_{n-1}-S_{n-2}+S_{n-3}=4(n-1)^3-6(n-1)^2+4(n-1)-1=4(n^3-3n^2+3n-1)-$\n$6(n^2-2n+1)+4n-5=4n^3-18n^2+28n-15$\n相减得下式\n$S_n-3S_{n-1}+3S_{n-2}-S_{n-3}=12n^2-24n+14$\n$S_{n-1}-3S_{n-2}+3S_{n-3}-S_{n-4}=12(n^2-2n+1)-24n+24+14=12n^2-48n+50$\n相减得下式\n$S_n-4S_{n-1}+6S_{n-2}-4S_{n-3}+S_{n-4}=24n-36$\n$S_{n-1}-4S_{n-2}+6S_{n-3}-4S_{n-4}+S_{n-5}=24n-60$\n相减得下式\n$S_n-5S_{n-1}+10S_{n-2}-10S_{n-3}+5S_{n-4}-S_{n-5}=24$\n$S_{n-1}-5S_{n-2}+10S_{n-3}-10S_{n-4}+5S_{n-5}-S_{n-6}=24$\n相减得下式\n$S_n-6S_{n-1}+15S_{n-2}-20S_{n-3}+15S_{n-4}-6S_{n-5}+S_{n-6}=0$\n对应特征方程为 $x^6-6x^5+15x^4-20x^3+15x^2-6x+1=(x-1)^6$，解得 6 重根$1$\n其通项为 $S_n=A_0C(n,0)+A_1C(n,1)+A_2C(n,2)+A_3C(n,3)+A_4C(n,4)+$\n$A_5C(n,5)$\n由 $S_0=A_1=0,S_1=A_0+2A_1=1$\n$$\n\\begin{cases}\nS_0=A_0=0 \\\\\nS_1=A_0+A_1=1 \\\\\nS_2=A_0+2A_1+A_2=17 \\\\\nS_3=A_0+3A_1+3A_2+A_3=98 \\\\\nS_4=A_0+4A_1+6A_2+4A_3+A_4=354 \\\\\nS_5=A_0+5A_1+10A_2+10A_3+5A_4+A_5=979\n\\end{cases}\n$$\n解得 $A_0=0,A_1=1,A_2=15,A_3=50,A_4=60,A_5=24$\n故 $S_n=C(n,1)+15C(n,2)+50C(n,3)+60C(n,4)+24C(n,5)$"
  },
  "4.9": {
    "(1)": "若不选 $n$，则从剩下 $n-1$ 个数中选 $k$ 个数且不相邻\n若选 $n$，则 $n-1$ 不能被选取，且从剩下 $n-2$ 个数中选 $k-1$ 个不相邻\n综上递推关系为 $f(n,k)=f(n-1,k)+f(n-2,k-1)$",
    "(2)": "选 $k$ 个数，其余 $n-k$ 个数形成 $n-k+1$ 个空格，$k$ 个数去插空\n方案数是 $C_{n-k+1}^{k}$，即 $f(n,k)=C_{n-k+1}^{k}$\n已知$C_n^k=C_{n-1}^k+C_{n-1}^{k-1}$，代入f得到$f(n,k)=C_{n-k+1}^{k}$",
    "(3)": "若选 $n$，则 $1$ 和 $n-1$ 都不能选\n从 $2$ 到 $n-2$ 选 $k-1$ 个，$f(n-3,k-1)$\n若不选 $n$，则 $1$ 到 $n-1$ 选 $k$ 个，$f(n-1,k)$\n即 $g(n,k)=f(n-3,k-1)+f(n-1,k)=C_{n-k-1}^{k-1}+C_{n-k}^k$"
  },
  "4.10": {
    "(1)": "铺砖问题的通解\n我们考虑一个$1 \\times n$的路径，用三种砖铺设：1×1 的方砖、直角边长为1的等腰直角三角形砖（简称小三角砖），以及斜边长为2的等腰直角三角形砖（简称大三角砖）。我们需要求：\n1. 所有可能的铺砖方案数；\n2. 每一种可能的铺砖方案中使用的砖数相加，得到的砖数的总和。\n## 1. 铺砖方案数 $f(n) $ 的通解\n递推关系为：\n$f(n) = 2f(n-1) + f(n-2)$\n假设 $ f(n) = r^n $，将其代入递推关系：\n\\[\nr^n = 2r^{n-1} + r^{n-2}\n\\]\n两边除以 \\( r^{n-2} \\) 得到：\n\\[\nr^2 = 2r + 1\n\\]\n即特征方程为：\n\\[\nr^2 - 2r - 1 = 0\n\\]\n使用求根公式：\n\\[\nr = \\frac{-(-2) \\pm \\sqrt{(-2)^2 - 4(1)(-1)}}{2(1)} = \\frac{2 \\pm \\sqrt{4 + 4}}{2} = \\frac{2 \\pm \\sqrt{8}}{2} = \\frac{2 \\pm 2\\sqrt{2}}{2}\n\\]\n得到两个根：\n\\[\nr_1 = 1 + \\sqrt{2}, \\quad r_2 = 1 - \\sqrt{2}\n\\]\n通解为：\n\\[\nf(n) = A(1 + \\sqrt{2})^n + B(1 - \\sqrt{2})^n\n\\]\n其中 \\( A \\) 和 \\( B \\) 是常数，由初始条件确定。\n初始条件为：\n- \\( f(0) = 1 \\)\n- \\( f(1) = 2 \\)\n代入 \\( f(0) = 1 \\)：\n\\[\nA(1 + \\sqrt{2})^0 + B(1 - \\sqrt{2})^0 = A + B = 1\n\\]\n代入 \\( f(1) = 2 \\)：\n\\[\nA(1 + \\sqrt{2})^1 + B(1 - \\sqrt{2})^1 = A(1 + \\sqrt{2}) + B(1 - \\sqrt{2}) = 2\n\\]\n得到方程组：\n\\[\n\\begin{cases}\nA + B = 1 \\\\\nA(1 + \\sqrt{2}) + B(1 - \\sqrt{2}) = 2\n\\end{cases}\n\\]\n解这个方程组：\n1. 由 \\( A + B = 1 \\)，我们有 \\( B = 1 - A \\) 。\n2. 代入第二个方程：\n\\[\nA(1 + \\sqrt{2}) + (1 - A)(1 - \\sqrt{2}) = 2\n\\]\n展开并化简：\n\\[\nA(1 + \\sqrt{2}) + (1 - \\sqrt{2}) - A(1 - \\sqrt{2}) = 2\n\\]\n\\[\nA(1 + \\sqrt{2} - 1 + \\sqrt{2}) + (1 - \\sqrt{2}) = 2\n\\]\n\\[\nA(2\\sqrt{2}) + (1 - \\sqrt{2}) = 2\n\\]\n\\[\n2A\\sqrt{2} + 1 - \\sqrt{2} = 2\n\\]\n\\[\n2A\\sqrt{2} = 2 - 1 + \\sqrt{2}\n\\]\n\\[\n2A\\sqrt{2} = 1 + \\sqrt{2}\n\\]\n\\[\nA = \\frac{1 + \\sqrt{2}}{2\\sqrt{2}} = \\frac{\\sqrt{2}}{2} + \\frac{1}{2}\n\\]\n因此：\n\\[\nA = \\frac{1}{2} + \\frac{\\sqrt{2}}{2}, \\quad B = 1 - A = \\frac{1}{2} - \\frac{\\sqrt{2}}{2}\n\\]\n最终通解：\n\\[\nf(n) = \\left( \\frac{1}{2} + \\frac{\\sqrt{2}}{2} \\right)(1 + \\sqrt{2})^n + \\left( \\frac{1}{2} - \\frac{\\sqrt{2}}{2} \\right)(1 - \\sqrt{2})^n\n\\]\n## 2. 砖数总和 \\( S(n) \\) 的通解\n我们已经知道 \\( S(n) \\) 的递推关系为：\n\\[\nS(n) = 2(S(n-1) + f(n-1)) + (S(n-2) + f(n-2))\n\\]\n由于这个递推关系涉及 \\( f(n) \\)，我们可以通过求解 \\( f(n) \\) 的通解后，代入该递推公式来求解 \\( S(n) \\)。这个过程比较复杂，但可以通过类似的方法（特征方程法）得到通解。"
  }
}
