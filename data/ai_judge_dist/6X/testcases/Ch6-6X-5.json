{
  "6.1": {
    "(1)": "\\paragraph{(1)} 考虑如下问题：从 $1,2,\\ldots,n$ 中选择 $n-k$ 个元素，且 $1,2,\\ldots,m$ 不能被选取，共有多少种方案？由于 $1,2,\\ldots,m$ 不能被选取，相当于从剩下 $n-m$ 个中选取 $n-k$ 个，共 $\\binom{n-m}{n-k}$ 种方案。 另一方面，将“选取”与“不选取”反转，原问题等价于，从 $1,2,\\ldots,n$ 中选择 $k$ 个元素，且 $1,2,\\ldots,m$ 必须被选取。考虑 $1,2,\\ldots,m$ 中的特定 $j$ 个元素 $a_1,a_2,\\ldots,a_j$，它们\\textbf{没有}被选取的方案数为 $\\binom{n-j}{k}$。而 $a_1,a_2,\\ldots,a_j$ 的选取共有 $\\binom{m}{j}$ 种。使用容斥原理， $1,2,\\ldots,m$ 均被选取的方案数为 \\begin{equation} \\sum_{j=0}^m(-1)^j\\binom{m}{j}\\binom{n-j}{k}. \\end{equation} 于是我们证明了 \\begin{equation} \\binom{n-m}{n-k}=\\sum_{j=0}^m(-1)^j\\binom{m}{j}\\binom{n-j}{k}. \\end{equation}",
    "(2)": "\\paragraph{(2)} 这一问的思路与上一问类似，考虑如下问题：从 $1,2,\\ldots,n+m-1$ 中选取 $m-1$ 个元素，且 $1,2,\\ldots,m$ 不能被选取，共有多少种方案？由于 $1,2,\\ldots,m$ 不能被选取，相当于从剩下 $n-1$ 个中选取 $m-1$ 个，共 $\\binom{n-1}{m-1}$ 种方案。 另一方面，将“选取”与“不选取”反转，原问题等价于，从 $1,2,\\ldots,n+m-1$ 中选择 $n$ 个元素，且 $1,2,\\ldots,m$ 必须被选取。同样考虑 $1,2,\\ldots,m$ 中的特定 $j$ 个元素 $a_1,a_2,\\ldots,a_j$，它们\\textbf{没有}被选取的方案数为 $\\binom{n+m-j-1}{n}$。而 $a_1,a_2,\\ldots,a_j$ 的选取共有 $\\binom{m}{j}$ 种。使用容斥原理， $1,2,\\ldots,m$ 均被选取的方案数为 \\begin{equation} \\sum_{j=0}^m(-1)^j\\binom{m}{j}\\binom{n+m-j-1}{n}. \\end{equation} 于是我们证明了 \\begin{equation} \\binom{n-1}{m-1}=\\sum_{j=0}^m(-1)^j\\binom{m}{j}\\binom{n+m-j-1}{n}. \\end{equation}",
    "(3)": "\\paragraph{(3)} 考虑如下问题，从 $1,2,\\ldots,n+m$ 中选取 $n$ 个元素，且必须选取 1，共有多少种方案？这相当于从余下 $n+m-1$ 个元素中 选取 $n-1$ 个，故总方案数为 $\\binom{n+m-1}{n-1}$。另一方面，我们可以先不考虑“必须选取1”这个限制，再减去没有选取 1 的方案数，故总方案数为 \\begin{equation} \\binom{n+m}{n}-\\binom{n+m-1}{n}. \\end{equation} 于是我们有 \\begin{equation} \\binom{n+m-1}{n-1}=\\binom{n+m}{n}-\\binom{n+m-1}{n}. \\end{equation} 另一方面，$\\binom{n+m-1}{n}$ 这一项，可以看作从 $1,2,\\ldots,n+m$ 中选取 $n+1$ 个元素，且必须选取 1 的方案数，再次运用上述的方法，可以得到 \\begin{equation} \\binom{n+m-1}{n}=\\binom{n+m}{n+1}-\\binom{n+m-1}{n+1}. \\end{equation} 同理我们可以得到，对 $j=0,1,2,\\ldots,m$ \\begin{equation} \\binom{n+m-1}{n+j-1}=\\binom{n+m}{n+j}-\\binom{n+m-1}{n+j}. \\end{equation} 反复代入，可以得到 \\begin{equation} \\binom{n+m-1}{n-1}=\\sum_{j=0}^m(-1)^j\\binom{n+m}{n+j}. \\end{equation}"
  },
  "6.2": {
    "(1)": "\\paragraph{(1)} 如果有连续3个元素相同，那一定是连续三个 a，三个 b，或三个 c。将三个 a 看成一个整体，三个 a 连续出现的方案数为 \\begin{equation} \\frac{(1+3+3)!}{1!3!3!}=\\frac{7!}{3!3!}=140. \\end{equation} 三个 a 同时出现，且三个 b 同时出现的方案数为 \\begin{equation} \\frac{(1+1+3)!}{1!1!3!}=\\frac{5!}{3!}=20. \\end{equation} 三个 a，三个 b，三个 c 均同时出现的方案数为 $3!=6$。由容斥原理，任何连续三个元素不能全相同的方案数为 \\begin{equation} \\frac{(3+3+3)!}{3!3!3!}-3\\times 140+3\\times 20-6=1314. \\end{equation} % \\paragraph{(2)} 考虑“出现了相邻的 a”的总方案数。将两个 a 视作一个整体，共 % \\begin{equation} % \\frac{(2+3+3)!}{2!3!3!}=560. % \\end{equation} % 但是在上述的计算中，三个 a 相邻的排列会被计算两次，故总方案数为 % \\begin{equation} % 560-140=420. % \\end{equation} % 同理，出现了相邻的 a，也出现了相邻的 b，方案数为 % \\begin{equation} % \\frac{(2+2+3)!}{2!2!3!}-2\\times\\frac{(2+1+3)!}{2!1!3!}+20=110 % \\end{equation} % 类似地，abc 均相邻地出现过，方案数为 % \\begin{equation} % \\frac{(2+2+2)!}{2!2!2!}-3\\times\\frac{(1+2+2)!}{1!2!2!}+3\\times\\frac{(1+1+2)!}{1!1!2!}-6=30. % \\end{equation} % 由容斥原理，任何相邻两数不能相同的总方案数为 % \\begin{equation} % \\frac{(3+3+3)!}{3!3!3!}-3\\times 420+3\\times 110-30=720. % \\end{equation} % \\paragraph{(2)} 考虑“出现了相邻的 a”的总方案数。暂时将三个 a 视为不同的 $a_1,a_2,a_3$。$a_1,a_2$ 相邻的方案数为 % \\begin{equation} % 2\\times \\frac{(2+3+3)!}{3!3!}=2240. % \\end{equation} % 同理 $a_1,a_3$ 相邻，或 $a_2,a_3$ 相邻的方案数为 2240。$a_1,a_2,a_3$ 均相邻的方案数为 % \\begin{equation} % 3!\\frac{(1+3+3)!}{3!3!}=840. % \\end{equation} % 而三者均相邻的方案，在两者相邻的方案中会被计算两次，故出现相邻的 a 的总方案数为 % \\begin{equation} % 2240\\times 3 - 840 = 5880. % \\end{equation} % 现在去除三个 a 的顺序，即 $5880/3!=980$。 类似地，出现相邻的 b，出现相邻的 c，方案数也为 980。 % 现在考虑出现了相邻的 a，也出现了相邻的 b 的总方案数。暂时将三个 a 和三个 b 都视为不同的。",
    "(2)": "\\paragraph{(2)} 暂时将每个元素均视为不同的，考虑以下九个条件： \\begin{itemize} \\item $A_1$: $a_2,a_3$ 相邻； \\item $A_2$: $a_3,a_1$ 相邻； \\item $A_3$: $a_1,a_2$ 相邻； \\item $B_1$: $b_2,b_3$ 相邻； \\item \\ldots \\end{itemize} 我们把 $A_1,A_2,A_3$ 称为一组，$B_1,B_2,B_3$ 称为一组，$C_1,C_2,C_3$ 称为一组。注意到同一组中的三个条件，如 $A_1,A_2,A_3$ 不可能同时满足，即 $a_1,a_2,a_3$ 不可能两两相邻。我们需要通过容斥原理，求出九个条件均不满足的方案数。 首先考虑满足一个条件的方案数。我们可以将相邻的那两个元素视为一个整体，这个“整体”内部有两种顺序，故方案数为 $9\\times 2\\times (2+3+3)!=18\\times8!$。 接下来考虑满足两个条件的方案数。如果两个条件处于同一组，即形如 $A_1,A_2$，那么对应的三个元素连续出现。以 $A_1,A_2$ 为例，那么三个 a 会连续出现，且顺序为 $a_2,a_3,a_1$ 或 $a_1,a_3,a_2$。故总方案数为 $3\\times\\binom{3}{2}\\times2\\times(1+3+3)!=18\\times 7!$。如果两个条件不处于同一组，方案数为 $\\binom{3}{2}\\times\\binom{3}{1}\\times\\binom{3}{1}\\times 2\\times 2\\times (2+2+3)!=108\\times 7!$。 接下来考虑满足三个条件的方案数。由于同一组中的三个条件（形如 $A_1,A_2,A_3$）不可能同时满足，所以这三个条件一定分布在两组或三组中。如果是两组，根据前文的做法，我们可以计算出总方案数为 \\begin{equation} 3\\times 2\\times\\binom{3}{2}\\times\\binom{3}{1}\\times 2\\times 2\\times(1+2+3)!=216\\times 6!. \\end{equation} 如果是三组，方案数为 \\begin{equation} \\binom{3}{1}\\times\\binom{3}{1}\\times\\binom{3}{1}\\times 2\\times 2\\times 2\\times(2+2+2)!=216\\times 6!. \\end{equation} 接下来考虑满足四个条件的方案数，同理，这四个条件应该形如 $A_i,A_j,B_u,B_v$ 或 $A_i,A_j,B_u,C_v$。如果是前者，方案数为 \\begin{equation} \\binom{3}{2}\\times\\binom{3}{2}\\times\\binom{3}{2}\\times2\\times 2\\times(1+1+3)!=108\\times 5!. \\end{equation} 如果是后者，方案数为 \\begin{equation} 3\\times\\binom{3}{2}\\times\\binom{3}{1}\\times\\binom{3}{1}\\times 2\\times 2\\times 2\\times(1+2+2)!=648\\times 5!. \\end{equation} 接下来考虑满足五个条件的方案数，此时这五个条件一定形如 $A_i,A_j,B_u,B_v,C_w$，方案数为 \\begin{equation} 3\\times\\binom{3}{2}\\times\\binom{3}{2}\\times\\binom{3}{1}\\times 2\\times 2\\times 2\\times(1+1+2)!=648\\times 4!. \\end{equation} 满足六个条件时，方案数为 \\begin{equation} \\binom{3}{2}\\times \\binom{3}{2}\\times \\binom{3}{2}\\times 2\\times 2\\times 2\\times(1+1+1)!=216\\times 3!. \\end{equation} 由容斥原理，可得没有条件被满足时，总方案数为 \\begin{align} &\\quad 9!-18\\times 8!+18\\times 7!+108\\times 7!-216\\times 6!-216\\times 6! \\\\ &\\quad+108\\times 5!+648\\times 5!-648\\times 4!+216\\times 3! \\\\ &=37584. \\end{align} 现在去除相同字母内部的顺序，可得总方案数为 \\begin{equation} \\frac{37584}{3!3!3!}=174. \\end{equation}"
  },
  "6.3": {
    "(1)": "记 $x_1=y_1+5,x_2=y_2+4,x_3=y_3+9$，则 \\begin{equation} 40=x_1+x_2+x_3=y_1+y_2+y_3+5+4+9=y_1+y_2+y_3+18. \\end{equation} 故 $y_1+y_2+y_3=22$，且 $1\\le y_1\\le 10,1\\le y_2\\le 16,1\\le y_3\\le 16$。 不考虑上界时，解共有 \\begin{equation} \\binom{22-1}{3-1}=\\binom{21}{2}=210. \\end{equation} 若 $y_1\\gt 10$，记 $y_1=z_1+10$，则 $z_1\\ge 1$ 且 $z_1+y_2+y_3=12$，此时解的个数共有 \\begin{equation} \\binom{12-1}{3-1}=\\binom{11}{2}=55. \\end{equation} 同理，若 $y_2\\gt 16$，解共有 \\begin{equation} \\binom{22-16-1}{3-1}=\\binom{5}{2}=10. \\end{equation} 同理，若 $y_3\\gt 16$，解共有 10 个。 由于$y_1+y_2+y_3=22\\lt (10+1)+(16+1)$，不可能有至少两个变量超出上界。故原问题的整数解数目为 \\begin{equation} 210-55-10-10=135. \\end{equation}"
  }
}