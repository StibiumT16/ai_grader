## Problem 1.13
### Subproblem (1)
#### Status
graded
#### Answer
1. **这两条对角线仅在多边形的一个顶点处相交（即共有一个公共顶点）** 对于每一个顶点，它可以与其余 \( n - 3 \) 个非相邻顶点相连形成对角线。因此，从该顶点出发的对角线有 \( n - 3 \) 条 在这些对角线中任意选取两条，就得到了一对以该顶点为公共点的对角线。对于每个顶点，这样的选择数为： $$ \binom{n - 3}{2} $$ 由多边形有 \( n \) 个顶点，因此总的方案数为： $$ n \times \binom{n - 3}{2} $$ **答：** $$ \text{方案总数} = n \times \binom{n - 3}{2} $$
#### Matched solution ID
0
#### Correct solution
\item 选定多边形上一点，从这点出发作两条对角线，除去与这点相邻的两个顶点外，共有$n - 3$个顶点可选，因此方案数为$n \binom{n - 3}{2}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 选中任意一点作为公共点 | 1 | 1 | 学生答案中明确指出'对于每一个顶点，它可以与其余 \( n - 3 \) 个非相邻顶点相连形成对角线'，这与标准答案中'选定多边形上一点，从这点出发作两条对角线，除去与这点相邻的两个顶点外，共有$n - 3$个顶点可选'的描述相符。因此，学生答案符合评分规则中'选中任意一点作为公共点'的要求。 |
| 剩下的选两个 | 2 | 2 | 学生答案详细解释了如何从每个顶点出发，选择两条对角线，且这两条对角线仅在多边形的一个顶点处相交。学生正确地计算了从每个顶点出发的对角线选择数为组合数C(n-3, 2)，并正确地乘以n得到总的方案数。这与标准答案的计算方法和结果一致，因此符合评分规则。 |
| 答案正确 | 1 | 1 | 学生答案详细解释了如何计算方案数，并且最终得出的方案数与标准答案一致，即 \( n \times \binom{n - 3}{2} \)。因此，学生答案符合评分规则中的答案正确要求。 |


### Subproblem (2)
#### Status
graded
#### Answer
--- 2. **这两条对角线没有公共点（两条对角线的四个端点互不相同?）** 首先，凸 \( n \) 边形中的对角线总数为： $$ D = \frac{n(n - 3)}{2} $$ 总的对角线对数为： $$ \binom{D}{2} $$ 我们需要从中减去那些有公共点的对角线对。共有两种情况的对角线对有公共点： - **在顶点处相交的对角线对** 这种情况在第1问中已计算过，总数为： $$ n \times \binom{n - 3}{2} $$ - **在多边形内部相交的对角线对** 在凸多边形中，任意四个顶点可以形成两条对角线，这两条对角线在多边形内部相交。总的内部相交点数为： $$ \binom{n}{4} $$ 因此，有公共点的对角线对总数为： $$ n \times \binom{n - 3}{2} + \binom{n}{4} $$ 所以，无公共点的对角线对数为： $$ \binom{\dfrac{n(n - 3)}{2}}{2} - \left( n \times \binom{n - 3}{2} + \binom{n}{4} \right) $$ **答：** $$ \text{方案总数} = \binom{\dfrac{n(n - 3)}{2}}{2} - \left[ n \times \binom{n - 3}{2} + \binom{n}{4} \right] $$
#### Matched solution ID
0
#### Correct solution
\item 多边形对角线共有$\binom{n}{2} - n$条，从中选出两条共有$\binom{\binom{n}{2} - n}{2}$种方案。 若这两条对角线有公共点，则或者在顶点上，或者在多边形内部；公共点在顶点上的方案数已在第(1)问种求出。 若公共点在内部，则两条对角线即为其四个顶点所确定的四边形的两条对角线，方案数为$\binom{n}{4}$。 综上，总方案数为 % \begin{align*} & \binom{\binom{n}{2} - n}{2} - n \binom{n - 3}{2} - \binom{n}{4} \\ & = \frac{1}{8} ( n^2 - 3n ) ( n^2 - 3n - 2 ) - \frac{1}{2} n (n - 3) (n - 4) - \frac{1}{24} n (n - 1) (n - 2) (n - 3) \\ & = \frac{n (n - 3)}{24} \left[ 3(n^2 - 3n - 2) - 12(n - 4) - (n - 1)(n - 2) \right] \\ & = \frac{n (n - 3)}{24} \left( 2n^2 - 18n + 40 \right) \\ & = \frac{n (n - 3) (n - 4) (n - 5)}{12} = \frac{n}{2} \binom{n - 3}{3} \end{align*}
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 对角线数量正确 | 1 | 1 | 首先，根据评分规则，我们需要检查学生答案中对角线数量的计算是否正确。标准答案中对角线的数量为$\binom{n}{2} - n$，而学生答案中对角线的数量为$\frac{n(n - 3)}{2}$。通过比较，我们发现$\binom{n}{2} - n = \frac{n(n - 3)}{2}$，因此学生答案中对角线的数量计算是正确的。 |
| 任取两条对角线数量正确 | 1 | 1 | 根据评分规则，学生需要正确计算任取两条对角线的数量。标准答案中，任取两条对角线的数量为$\binom{\binom{n}{2} - n}{2}$。学生答案中，任取两条对角线的数量为$\binom{\dfrac{n(n - 3)}{2}}{2}$。这两个表达式在数学上是等价的，因为$\binom{n}{2} - n = \dfrac{n(n - 3)}{2}$。因此，学生答案中任取两条对角线的数量是正确的。 |
| 公共顶点数量正确 | 1 | 1 | 根据评分规则，学生答案中正确地识别了无公共点的对角线对数，并正确地减去了在顶点处相交的对角线对数和在多边形内部相交的对角线对数。学生答案中的表达式与标准答案中的表达式一致，因此符合评分规则。 |
| 与答案等价 | 1 | 1 | 学生答案与标准答案在表达形式上有所不同，但最终的计算结果和逻辑推导过程是等价的。学生答案首先计算了对角线的总数，然后计算了有公共点的对角线对数，最后通过减法得到了无公共点的对角线对数。标准答案也采用了类似的逻辑，通过组合数学的方法计算了无公共点的对角线对数。两者在数学表达式和逻辑推导上是一致的，因此学生答案符合评分规则。 |
| 结果化简 | 1 | 1 | 学生答案中正确地计算了无公共点的对角线对数，并且与标准答案的计算过程一致。学生答案中的表达式与标准答案中的表达式相符，即：\n\n$$ \binom{\dfrac{n(n - 3)}{2}}{2} - \left[ n \times \binom{n - 3}{2} + \binom{n}{4} \right] $$\n\n虽然学生答案没有进一步化简到最后的结果，但根据评分规则，只要结果正确且表达式一致，就可以得分。因此，学生在结果化简这一评分规则下得分。 |


## Problem 1.14
### Subproblem (1)
#### Status
graded
#### Answer
### **解** 首先，对2020进行质因数分解 #### **2020的质因数分解** $$ 2020 = 2^2 \times 5^1 \times 101^1 $$ #### **2020的所有约数** 2020的正约数由其质因数的指数决定： - 2的指数：$0, 1, 2$ - 5的指数：$0, 1$ - 101的指数：$0, 1$ 约数的总数： $$ (2 + 1) \times (1 + 1) \times (1 + 1) = 3 \times 2 \times 2 = 12 $$ **约数列表**： $$ \begin{aligned} &1 = 2^0 \times 5^0 \times 101^0 \\ &2 = 2^1 \times 5^0 \times 101^0 \\ &4 = 2^2 \times 5^0 \times 101^0 \\ &5 = 2^0 \times 5^1 \times 101^0 \\ &10 = 2^1 \times 5^1 \times 101^0 \\ &20 = 2^2 \times 5^1 \times 101^0 \\ &101 = 2^0 \times 5^0 \times 101^1 \\ &202 = 2^1 \times 5^0 \times 101^1 \\ &404 = 2^2 \times 5^0 \times 101^1 \\ &505 = 2^0 \times 5^1 \times 101^1 \\ &1010 = 2^1 \times 5^1 \times 101^1 \\ &2020 = 2^2 \times 5^1 \times 101^1 \\ \end{aligned} $$ ### **第一部分：(1) 计数所有满足条件的序列** 需要计算长度为60的正整数序列 $\{a_i\}$，满足： 1. $a_1 = 1$ 2. $a_{60} = 2020$ 3. $a_i \mid a_{i+1}$ 对所有 $1 \leq i < 60$ 成立 每个 $a_i$ 必须是2020的一个约数 #### **指数表示法** 将每个 $a_i$ 表示为其质因数指数的形式： $$ a_i = 2^{e_i} \times 5^{f_i} \times 101^{g_i} $$ 其中： - $e_i \in \{0, 1, 2\}$ - $f_i, g_i \in \{0, 1\}$ #### **指数的约束条件** - **起始和结束值**： $$ e_1 = 0, \quad e_{60} = 2 \\ f_1 = 0, \quad f_{60} = 1 \\ g_1 = 0, \quad g_{60} = 1 \\ $$ - **指数非递减**： $$ e_i \leq e_{i+1} \quad \text{对所有 } 1 \leq i < 60 \\ f_i \leq f_{i+1} \quad \text{对所有 } 1 \leq i < 60 \\ g_i \leq g_{i+1} \quad \text{对所有 } 1 \leq i < 60 \\ $$ #### **序列计数** ##### **对于 $e_i$（2的指数）：** 需要在59个位置（从 $i = 2$ 到 $i = 60$）上分配2个单位的增加 - 选择两个位置 $p \leq q$ 使得 $2 \leq p \leq q \leq 60$，每个选择对应 $e_i$ 增加1 - 选择位置对的总数： $$ N_e = \sum_{p=2}^{60} (61 - p) = \frac{59 \times 60}{2} = 1,770 $$ ##### **对于 $f_i$ 和 $g_i$（5和101的指数）：** 需要在59个位置上分配1个指数单位的增加 - 选择一个位置使得指数从0增加到1 - 选择位置的方式数： $$ N_f = N_g = 59 \quad (\text{位置范围为 } i = 2 \text{ 到 } i = 60) $$ ##### **序列的总数：** $$ \text{总序列数} = N_e \times N_f \times N_g = 1,770 \times 59 \times 59 = 6,161,370 $$ --- ### **第一部分答：(1)** **共有 6,161,370 个序列** 满足初始条件 ---
#### Matched solution ID
0
#### Correct solution
$20^{20} = 2^{40} \dotp 5^{20}$。 \begin{enumerate}[label={\rm (\arabic*)}] \item 每一项中含有$2$的幂次和$5$的幂次分别单调递增。 以$2$的幂次为例，可想象成是走$58 \times 40$的格路，路径在$x = i - 2$处的最大$y$坐标即为$a_i$中$2$的幂次；对于$5$也类似。 总的方案数为$\binom{98}{40} \binom{78}{20}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 分解$20^{20}$ | 1 | 0 | 学生答案中没有正确分解20^{20}，而是错误地分解了2020。标准答案中正确分解了20^{20}为2^{40} \times 5^{20}，而学生答案中分解的是2020为2^2 \times 5^1 \times 101^1。因此，学生答案不符合评分规则中的要求。 |
| 答案正确 | 3 | 0 | 首先，标准答案中指出20^{20} = 2^{40} \cdot 5^{20}，而学生答案中错误地将20^{20}分解为2020的质因数分解，即2020 = 2^2 \times 5^1 \times 101^1。这个错误导致学生后续的所有计算都是基于错误的质因数分解进行的。因此，学生答案中的所有计算和结论都是基于错误的假设，与标准答案不符。根据评分规则，答案正确才能得分，而学生的答案是错误的。 |


### Subproblem (2)
#### Status
graded
#### Answer
### **第二部分：(2) 计数严格递增的序列** 现在，求序列 $\{a_i\}$ 严格递增，即 $a_i < a_{i+1}$ #### **严格递增指数的约束** - 指数必须以某种方式增加，使得每一步至少有一个指数（$e_i$、$f_i$、$g_i$）增加 - 因为指数只能取有限的离散值，并且其组合有限，严格递增序列的最大长度受到限制 #### **可能的指数组合** 共有12种可能的指数组合，对应于2020的12个约数： $$ \begin{aligned} &(0,0,0),\ (0,0,1),\ (0,1,0),\ (0,1,1),\\ &(1,0,0),\ (1,0,1),\ (1,1,0),\ (1,1,1),\\ &(2,0,0),\ (2,0,1),\ (2,1,0),\ (2,1,1) \end{aligned} $$ #### **严格递增序列的最大长度** - 因为只有12种唯一的组合，严格递增序列的最大长度为12 - 由于序列长度必须为60，所以无解 --- ### **第二部分答：(2)** **满足条件的严格递增序列数量为 0** 因为序列长度必须为60，而2020只有12个不同的约数，无法构成长度为60且严格递增的序列
#### Matched solution ID
0
#### Correct solution
\item 讨论数列$\left\{ \frac{a_{i+1}}{a_i} \right\}$（$1 \leq i \leq 59$），该数列的组成有三种情况： % \begin{itemize} \item $38$个$2$、$20$个$5$、$1$个$4$，有$59 \binom{58}{20}$种情况； \item $39$个$2$、$19$个$5$、$1$个$10$，有$59 \binom{58}{19}$种情况； \item $40$个$2$、$18$个$5$、$1$个$25$，有$59 \binom{58}{18}$种情况。 \end{itemize} % 因此，总共有$59 \left[ \binom{58}{18} + \binom{58}{19} + \binom{58}{20} \right]$种情况。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 讨论数列形式 | 1 | 0 | 根据评分规则，学生需要讨论数列的形式。标准答案中讨论了数列$\left\{ \frac{a_{i+1}}{a_i} \right\}$的三种情况，并给出了具体的组合方式和计算方法。而学生的答案中虽然讨论了严格递增序列的约束和可能的指数组合，但没有明确讨论数列$\left\{ \frac{a_{i+1}}{a_i} \right\}$的形式，也没有给出具体的组合方式和计算方法。因此，学生的答案不符合评分规则的要求。 |
| 情况1正确 | 1 | 0 | 根据评分规则，情况1正确的定义是讨论数列$\left\{ \frac{a_{i+1}}{a_i} \right\}$（$1 \leq i \leq 59$），并正确列出三种情况及其对应的组合数。学生答案中没有讨论数列$\left\{ \frac{a_{i+1}}{a_i} \right\}$，也没有列出任何组合数。因此，学生答案不符合情况1正确的要求。 |
| 情况2正确 | 1 | 0 | 根据评分规则，学生需要正确回答第二部分的问题，即求满足严格递增条件的序列数目。标准答案指出，通过讨论数列的组成情况，可以得到总共有$59 \left[ \binom{58}{18} + \binom{58}{19} + \binom{58}{20} \right]$种情况。而学生的答案认为由于2020只有12个不同的约数，无法构成长度为60且严格递增的序列，因此得出结论满足条件的严格递增序列数量为0。这个结论与标准答案不符，因此学生在这一评分规则下不得分。 |
| 情况3正确 | 1 | 0 | 根据评分规则，情况3正确指的是标准答案中提到的第三种情况，即'40个2、18个5、1个25，有59 \binom{58}{18}种情况'。学生答案中没有提到这种情况，而是讨论了指数组合和严格递增序列的最大长度，并得出结论说无法构成长度为60且严格递增的序列。因此，学生答案没有正确处理情况3，不符合评分规则。 |
| 答案正确 | 1 | 0 | 根据评分规则，答案正确才能得分。标准答案中详细讨论了数列的组成情况，并给出了具体的组合数计算方法，最终得出总共有$59 \left[ \binom{58}{18} + \binom{58}{19} + \binom{58}{20} \right]$种情况。而学生答案中错误地认为严格递增序列的最大长度为12，并得出无解的结论。因此，学生答案与标准答案不符，答案不正确。 |


## Problem 1.15
### Subproblem (1)
#### Status
graded
#### Answer
需要从字典 $\{ c_1, c_2, \dots, c_D \}$ 中选出 $n$ 个字符组成字符串，其中每个字符 $c_i$ 出现 $f_i$ 次，且满足 $\sum_{i=1}^{D} f_i = n$要求子串 $c_1c_2\dots c_D$ 恰好出现 $k$ 次，并求这样的字符串数目 首先，注意到每出现一次子串 $c_1c_2\dots c_D$，就消耗掉各一个 $c_i$ 字符因此，形成 $k$ 次子串需要消耗掉 $k$ 个 $c_i$（对于每个 $i$） 剩余的每个字符 $c_i$ 的数量为 $f_i - k$这些剩余字符需要在剩余的位置上排列 将每个子串 $c_1c_2\dots c_D$ 看作一个整体，记为符号 $S$因此，的任务是对以下元素进行排列： - $k$ 个整体字符 $S$ - 对于每个 $i$，有 $f_i - k$ 个字符 $c_i$ 总的元素数为： $$ n' = k + \sum_{i=1}^{D} (f_i - k) = n - (D - 1)k $$ 排列这些元素的总方法数为： $$ \frac{n'!}{k! \prod_{i=1}^{D} (f_i - k)!} $$ 所求字符串的数目为： $$ \boxed{\frac{(n - (D - 1)k)!}{k! \prod_{i=1}^{D} (f_i - k)!}} $$
#### Matched solution ID
0
#### Correct solution
共有$\binom{24}{2}$种方案选择两个不相邻的空箱子，然后排列所有物体，方案数为$\binom{24}{2} \dotp 23! = \frac{23 \dotp 24!}{2}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 得到正确的不相邻方案数 | 4 | 0 | 学生答案与题目要求完全不符。题目要求计算将23个不同的物体放入25个不同的箱子，每个箱子中至多放入一个物体，且禁止出现相邻的空箱子的方案数。而学生答案讨论的是从字典中选出字符组成字符串的问题，与题目要求的物体放入箱子的问题无关。因此，学生答案没有得到正确的不相邻方案数。 |
| 考虑物体的排列 | 2 | 0 | 学生答案与题目要求完全不符。题目要求计算将23个不同的物体放入25个不同的箱子，每个箱子中至多放入一个物体，且禁止出现相邻的空箱子的方案数。而学生答案讨论的是从字典中选出字符组成字符串的问题，与题目无关。因此，学生答案没有考虑物体的排列，不符合评分规则。 |
| 答案正确 | 4 | 0 | 学生答案与题目要求完全不符。题目要求计算将23个不同的物体放入25个不同的箱子，每个箱子中至多放入一个物体，且禁止出现相邻的空箱子的方案数。而学生答案讨论的是从字典中选出字符组成字符串的问题，与题目无关。因此，学生答案不符合评分规则中的'答案正确'要求。 |


## Problem 1.16
### Subproblem (1)
#### Status
graded
#### Answer
### (1) 直线将圆分成的最大区域数 **解**： 在平面上， $n$ 条直线最多可以将平面分成 $$ R(n) = \frac{n(n+1)}{2} + 1 $$ 个区域 **最大区域数计算：** 1. **直线与圆的交点数**：每条直线最多与圆相交于 2 个点，所以 $n$ 条直线与圆最多有 $2n$ 个交点，这些交点将圆周分成 $2n$ 个弧 2. **直线间的交点数**：在一般位置下， $n$ 条直线在圆内的交点数最多为 $$ C_n^2 = \frac{n(n-1)}{2} $$ 个 3. **总的顶点数**：圆周上的 $2n$ 个点和直线间的交点，共有 $$ V = 2n + \frac{n(n-1)}{2} $$ 个顶点 4. **总的边数**：边由直线段和弧段组成，计算较为复杂，但为了求区域数，可以利用递推关系 5. **区域数的递推关系**：每增加一条直线，新增的区域数等于该直线将已有部分分割出的新区域数经推导，直线将圆分成的最大区域数为 $$ R(n) = n^2 - n + 2 $$ **验证**： - 当 $n = 1$ 时， $R(1) = 1^2 - 1 + 2 = 2$，即一条直线将圆分成 2 个部分 - 当 $n = 2$ 时， $R(2) = 4 - 2 + 2 = 4$，即两条直线将圆分成 4 个部分 - 当 $n = 3$ 时， $R(3) = 9 - 3 + 2 = 8$，与实际情况一致 **答**： $$ \text{直线最多将圆分成 } R(n) = n^2 - n + 2 \text{个部分} $$ ---
#### Matched solution ID
0
#### Correct solution
\item 依次画出每一条直线，第$i$条直线被之前的直线分为$i$段，每段均将一个原本的区域一分为二，因此总区域数为$1 + \sum_{i = 1}^n i = \frac{n^2 + n + 2}{2}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 每条直线增加区域数量正确 | 1 | 0 | 根据评分规则，学生需要正确计算每条直线增加的区域数量。标准答案中，每条直线增加的区域数量为$i$，总区域数为$\frac{n^2 + n + 2}{2}$。学生答案中，计算的区域数为$n^2 - n + 2$，这与标准答案不符。因此，学生答案在每条直线增加区域数量上不正确。 |
| 答案正确 | 1 | 0 | 根据评分规则，答案正确才能得分。标准答案给出的公式是 $\frac{n^2 + n + 2}{2}$，而学生答案给出的公式是 $n^2 - n + 2$。这两个公式在 $n=1$ 时都等于 2，但在 $n=2$ 时，标准答案为 4，而学生答案为 4，但在 $n=3$ 时，标准答案为 7，而学生答案为 8。因此，学生答案与标准答案不一致，答案不正确。 |


### Subproblem (2)
#### Status
graded
#### Answer
### (2) 线段的交点数目 **解**： 在圆周上取 $n$ 个点，连结所有可能的线段，共有 $$ C_n^2 = \frac{n(n-1)}{2} $$ 条线段 若要计算线段的交点数目，需要找到任意两条线段在圆内相交的情况 **线段的交点数计算**： - **交点的形成条件**：两条线段在圆内相交，当且仅当这两条线段的四个端点交替排列在圆周上 - **交点总数**： $$ \text{交点数} = C_n^4 = \frac{n(n-1)(n-2)(n-3)}{24} $$ 因为每个交点由 4 个不同的点确定，它们可以组成两条相交的线段 **答**： $$ \text{线段在圆内的交点数为 } C_n^4 = \frac{n(n-1)(n-2)(n-3)}{24} $$ ---
#### Matched solution ID
0
#### Correct solution
\item 任取圆周上四点均可作一对交于一点的对角线（思路与习题1.13(2)类似），因此总交点数即为$\binom{n}{4}$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 答案正确 | 1 | 1 | 根据评分规则，答案正确即可得分。学生答案中正确地计算了线段在圆内的交点数目，使用了组合数C_n^4，并给出了正确的表达式：C_n^4 = n(n-1)(n-2)(n-3)/24。这与标准答案一致，因此学生答案符合评分规则。 |


### Subproblem (3)
#### Status
graded
#### Answer
### **(3) 各种类型三角形的数目** **解**： 在圆周上任取 $n$ 个点，两两连线并得到所有线段的交点，构成一个平面图要计算在这个平面图中，由这些线段组成的三角形数目，按三角形顶点在圆上的个数分类 #### **分类讨论**： 1. **三角形的顶点全部在圆上（3 个顶点在圆上）** - 这种三角形是由圆周上的 $n$ 个点组成的简单三角形 - 数目为： $$ N_3 = C_n^3 = \frac{n(n-1)(n-2)}{6} $$ 2. **三角形的顶点有 2 个在圆上，1 个在圆内（2 个顶点在圆上，1 个顶点在圆内）** - 这些三角形的两个顶点是圆周上的点，第三个顶点是线段的交点（圆内的交点） - **计算**： - **首先，计算圆内交点的总数**： $$ I = C_n^4 = \frac{n(n-1)(n-2)(n-3)}{24} $$ 每个交点由 4 个不同的圆周点确定，它们构成两条相交的弦 - **对于每个交点，可以形成的三角形数目**： - 从这 4 个圆周点中任取 2 个，与交点相连，形成一个三角形 - 所以，对于每个交点，有： $$ C_4^2 = 6 \text{个三角形} $$ - **总的三角形数目**： $$ N_{2,1} = I \times 6 = \frac{n(n-1)(n-2)(n-3)}{24} \times 6 = \frac{n(n-1)(n-2)(n-3)}{4} $$ 3. **三角形的顶点有 1 个在圆上，2 个在圆内（1 个顶点在圆上，2 个顶点在圆内）** - 这些三角形的一个顶点是圆周上的点，另外两个顶点是线段的交点 - **计算**： - **对于每个圆周点，计算与其相连的交点数目**： - 每个圆周点与其他 $n - 1$ 个圆周点相连，有 $n - 1$ 条弦 - 每条弦与其他 $n - 2$ 条弦相交（不包括与该弦共用圆周点的弦），所以每条弦上有 $n - 3$ 个交点 - 所以，与每个圆周点相连的交点数为： $$ I_p = \frac{(n - 1)(n - 3)}{2} $$ - **对于每个圆周点，可以从其相连的交点中任取 2 个，形成的三角形**： $$ C_{I_p}^2 = \frac{I_p(I_p - 1)}{2} $$ - **总的三角形数目**： $$ N_{1,2} = n \times C_{I_p}^2 = n \times \frac{\left( \frac{(n - 1)(n - 3)}{2} \right) \left( \frac{(n - 1)(n - 3)}{2} - 1 \right)}{2} $$ 化简得： $$ N_{1,2} = \frac{n(n - 1)(n - 3)\left( (n - 1)(n - 3) - 2 \right)}{8} $$ 4. **三角形的顶点全部在圆内（0 个顶点在圆上）** - 这些三角形的三个顶点都是交点 - **考虑到在的构造中，交点之间并没有直接相连的边（没有直接连线交点之间的线段），所以无法形成这样的三角形** - **所以，这种类型的三角形数目为**： $$ N_0 = 0 $$ **总结**： - **三个顶点在圆上的三角形数目**： $$ N_3 = \frac{n(n - 1)(n - 2)}{6} $$ - **两个顶点在圆上，一个顶点在圆内的三角形数目**： $$ N_{2,1} = \frac{n(n - 1)(n - 2)(n - 3)}{4} $$ - **一个顶点在圆上，两个顶点在圆内的三角形数目**： $$ N_{1,2} = \frac{n(n - 1)(n - 3)\left( (n - 1)(n - 3) - 2 \right)}{8} $$ - **三个顶点都在圆内的三角形数目**： $$ N_0 = 0 $$ ---
#### Matched solution ID
0
#### Correct solution
\item 分类讨论： % \begin{itemize} \item $0$个点在圆上：任取圆上六点，顺时针编号为$A, B, \cdots, F$，则$AD, BE, CF$三条对角线恰能交出一个三顶点均不在圆上的三角形，因此方案数为$\binom{n}{6}$； \item $1$个点在圆上：任取圆上五点，顺时针编号为$A, B, \cdots, E$，选定$A$为圆上一点（$B, \cdots, E$同理）， 则$AC, AD, BE$三条对角线恰能交出一个$1$个顶点在圆上的三角形，因此方案数为$5\binom{n}{5}$； \item $2$个点在圆上：任取圆上四点，顺时针编号为$A, B, C, D$，设$AC, BD$交于$O$，则$AOB, BOC, COD, DOA$是四个有$2$个顶点在圆上的三角形，因此方案数为$4\binom{n}{4}$； \item $3$个点在圆上：方案数显然为$\binom{n}{3}$。 \end{itemize}
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 3个顶点在圆上的情况正确 | 1 | 1 | 根据评分规则，需要判断学生答案中关于3个顶点在圆上的三角形数目是否正确。标准答案中给出的公式为$\binom{n}{3}$，即$\frac{n(n-1)(n-2)}{6}$。学生答案中给出的公式也是$\frac{n(n-1)(n-2)}{6}$，与标准答案一致。因此，学生答案在这一部分是正确的。 |
| 2个顶点在圆上的情况正确 | 1 | 0 | 根据评分规则，我们需要检查学生答案中关于2个顶点在圆上的三角形数目是否正确。标准答案中给出的2个顶点在圆上的三角形数目为$4\binom{n}{4}$。学生答案中给出的2个顶点在圆上的三角形数目为$\frac{n(n-1)(n-2)(n-3)}{4}$。通过比较，学生答案中的表达式与标准答案中的表达式不一致。标准答案中的表达式是基于组合数$\binom{n}{4}$，而学生答案中的表达式是基于多项式展开的形式。因此，学生答案在2个顶点在圆上的情况不正确。 |
| 1个顶点在圆上的情况正确 | 1 | 0 | 根据评分规则，需要判断学生答案中关于1个顶点在圆上的三角形数目是否正确。标准答案中给出的1个顶点在圆上的三角形数目为$5\binom{n}{5}$。学生答案中给出的1个顶点在圆上的三角形数目为$\frac{n(n - 1)(n - 3)\left( (n - 1)(n - 3) - 2 \right)}{8}$。经过比较，学生答案中的表达式与标准答案中的表达式不一致，因此学生答案在1个顶点在圆上的情况不正确。 |
| 0个顶点在圆上的情况正确 | 1 | 0 | 根据评分规则，需要判断学生答案中关于0个顶点在圆上的三角形数目是否正确。标准答案中指出，0个顶点在圆上的三角形数目为$\binom{n}{6}$。学生答案中指出，0个顶点在圆上的三角形数目为0，这与标准答案不符。因此，学生在这一部分的答案是错误的。 |


### Subproblem (4)
#### Status
graded
#### Answer
### **(4) 线段将圆分成的区域数** **解**： 利用欧拉公式 $V + F - E = 1$（对于平面连通图），其中： - $V$ 是顶点数（包括圆周点和交点）； - $E$ 是边数（线段的段数）； - $F$ 是面数（区域数，包括外部区域） **计算**： 1. **计算顶点数 $V$**： - 圆周上的点数：$n$ - 圆内的交点数（由第 (2) 问得出）： $$ I = \frac{n(n - 1)(n - 2)(n - 3)}{24} $$ - 总顶点数： $$ V = n + I = n + \frac{n(n - 1)(n - 2)(n - 3)}{24} $$ 2. **计算边数 $E$**： - **总的弦数（初始的边数）**： $$ E_{\text{initial}} = C_n^2 = \frac{n(n - 1)}{2} $$ - **每条弦被分割成的段数**： - 每条弦被其余弦所分割，分割点为交点 - **对于每条弦，计算其被分割的次数**： - 每条弦上的交点数为： $$ k = n - 2 $$ - **所以，每条弦被分割成 $k + 1 = n - 1$ 段** - **总的边数 $E$**： $$ E = E_{\text{initial}} \times (\text{每条弦的段数}) = \frac{n(n - 1)}{2} \times (n - 1) = \frac{n(n - 1)^2}{2} $$ 3. **计算面数 $F$**： - 代入欧拉公式： $$ V + F - E = 1 $$ 解得： $$ F = E - V + 1 $$ 代入 $V$ 和 $E$ 的表达式： $$ F = \frac{n(n - 1)^2}{2} - \left( n + \frac{n(n - 1)(n - 2)(n - 3)}{24} \right) + 1 $$ 进一步化简： $$ F = \frac{n(n - 1)^2}{2} - n - \frac{n(n - 1)(n - 2)(n - 3)}{24} + 1 $$ - **将 $F$ 化简为单个分数**： - 通分： $$ F = \frac{12n(n - 1)^2 - 24n - n(n - 1)(n - 2)(n - 3) + 24}{24} $$ - 展开并化简分子： 1. 展开 $12n(n - 1)^2$： $$ 12n(n^2 - 2n + 1) = 12n^3 - 24n^2 + 12n $$ 2. 计算其他项： $$ -24n, \quad - n(n - 1)(n - 2)(n - 3), \quad +24 $$ 3. 展开 $- n(n - 1)(n - 2)(n - 3)$： - 首先计算 $(n - 1)(n - 2) = n^2 - 3n + 2$ - 然后计算 $(n - 1)(n - 2)(n - 3) = (n^2 - 3n + 2)(n - 3)$ - 展开得到： $$ (n^2 - 3n + 2)(n - 3) = n^3 - 6n^2 + 11n - 6 $$ - 所以： $$ - n(n^3 - 6n^2 + 11n - 6) = -n^4 + 6n^3 - 11n^2 + 6n $$ 4. 将所有项相加： $$ \text{分子} = 12n^3 - 24n^2 + 12n - 24n - n^4 + 6n^3 - 11n^2 + 6n + 24 $$ 5. 合并同类项： - $n^4$ 项： $$ -n^4 $$ - $n^3$ 项： $$ 12n^3 + 6n^3 = 18n^3 $$ - $n^2$ 项： $$ -24n^2 - 11n^2 = -35n^2 $$ - $n$ 项： $$ 12n - 24n + 6n = -6n $$ - 常数项： $$ +24 $$ 6. 分子化简为： $$ -n^4 + 18n^3 - 35n^2 - 6n + 24 $$ - ** $F$ 的表达式**： $$ F = \frac{ -n^4 + 18n^3 - 35n^2 - 6n + 24 }{24} $$ 4. **答**： 这些线段将圆分成的区域数为： $$ F = \frac{ -n^4 + 18n^3 - 35n^2 - 6n + 24 }{24} $$
#### Matched solution ID
0
#### Correct solution
\item 平面图的顶点数显然为$V = n + \binom{n}{4}$。 平面图的边包含圆上$n$段，以及圆内$\binom{n}{2}$条顶点连线，以及圆内每个交点将两条线段分别一分为二，因此$E = n + \binom{n}{2} + 2\binom{n}{4}$。 因此，$F = E - V + 1 = \binom{n}{4} + \binom{n}{2} + 1$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 顶点数正确 | 1 | 1 | 根据评分规则，我们需要检查学生答案中顶点数的计算是否正确。标准答案中顶点数为$V = n + \binom{n}{4}$，而学生答案中计算的顶点数为$V = n + \frac{n(n - 1)(n - 2)(n - 3)}{24}$。这里，$\frac{n(n - 1)(n - 2)(n - 3)}{24}$实际上等于$\binom{n}{4}$，因此学生的计算是正确的。 |
| 边数正确 | 1 | 0 | 根据评分规则，我们需要检查学生答案中边数 $E$ 的计算是否正确。标准答案中边数 $E$ 的计算为 $E = n + \binom{n}{2} + 2\binom{n}{4}$。学生答案中边数 $E$ 的计算为 $E = \frac{n(n - 1)^2}{2}$。比较两者，学生答案中的边数计算与标准答案不符，因此边数计算错误。 |
| 答案正确 | 1 | 0 | 根据评分规则，答案正确才能得分。标准答案给出的面数$F$为$\binom{n}{4} + \binom{n}{2} + 1$，而学生答案给出的面数$F$为$\frac{ -n^4 + 18n^3 - 35n^2 - 6n + 24 }{24}$。两者表达式不同，学生答案没有化简到标准答案的形式，因此答案不正确。 |


## Problem 1.17
### Subproblem (1)
#### Status
graded
#### Answer
1. **选取顶点：** - 从顶点集的第一部分（编号为 $1, 2, \dots, n$）中选取 $k$ 个顶点：有 $$ \binom{n}{k} $$ 种方法 对于每一个顶点，它可以与其余 $n - 3$ 个非相邻顶点相连形成对角线。因此，从该顶点出发的对角线有 $n - 3$ 条。 - 从第二部分（编号为 $n+1, n+2, \dots, 2n$）中选取 $k$ 个顶点：也有 $$ \binom{n}{k} $$ 种方法 2. **排列顶点：** - 将第一部分的 $k$ 个顶点进行排列：有 $$ k! $$ 种方法 - 将第二部分的 $k$ 个顶点进行排列：也有 $$ k! $$ 种方法 3. **构造回路：** - 交替连接第一部分和第二部分的顶点，形成一个长度为 $2k$ 的回路 4. **考虑对称性：** - 因为回路是无向的，回路可以从任意一点开始，所以同一个回路会被计算多次。回路有 $2k$ 个顶点，所以旋转对称的情况有 $2k$ 种，需要除以 $2k$ - 同时，回路还可以沿着相反方向遍历，所以还需要除以 $2$ **计算总数：** 综合以上，长度为 $2k$ 的简单回路的总数为： $$ \text{回路总数} = \binom{n}{k}^2 \times k! \times k! \div (2k \times 2) = \frac{\left( \binom{n}{k} \times k! \right)^2}{4k} $$ 展开组合数： $$ \binom{n}{k} = \frac{n!}{k!(n - k)!} $$ 代入上式，得到： $$ \text{回路总数} = \frac{\left( \dfrac{n!}{k!(n - k)!} \times k! \right)^2}{4k} = \frac{\left( \dfrac{n!}{(n - k)!} \right)^2}{4k} $$ 所以，答是： $$ \boxed{\displaystyle \text{回路总数} = \frac{(n!)^2}{4k \left( (n - k)! \right)^2}} $$
#### Matched solution ID
0
#### Correct solution
若$k = 1$，答案为$0$。 否则，从二分图的每个部分各选出$k$个点，然后将两组各$k$个点彼此间隔排成长度为$2k$的圆排列，最后注意到这样将每个回路一正一反计算了两次，因此答案为 % \begin{equation*} \frac{1}{2} \dotp \binom{n}{k}^2 \dotp \frac{(k)!}{k} = \frac{(n!)^2}{2k \left[ (n - k)! \right]^2} \end{equation*} % 由于题目可能有歧义，此答案乘上$2$（考虑方向）、$2k$（考虑起点）或$4k$（二者均考虑）也算对。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| k=1情况正确 | 1 | 0 | 根据评分规则，需要检查学生答案中k=1情况的处理是否正确。标准答案中明确指出当k=1时，答案为0。学生在答案中没有明确提到k=1的情况，但通过其推导的公式可以看出，当k=1时，公式中的分母为4*1=4，而分子为(n!)^2，因此结果为(n!)^2 / 4，这与标准答案中的0不符。因此，学生在k=1情况下的处理是错误的。 |
| 二分图回路在两侧各有k个点 | 4 | 4 | 根据评分规则，学生答案中正确地描述了从二分图的每个部分各选出k个点，并且详细说明了如何排列这些点以形成长度为2k的回路。学生答案中提到从顶点集的第一部分和第二部分各选取k个顶点，并进行了排列，这与标准答案中的描述一致。因此，学生答案符合评分规则的要求。 |
| 使用交错序列计数 | 4 | 4 | 根据评分规则，学生需要使用交错序列计数来计算完全二分图上长度为2k的简单回路的数目。学生答案中，首先正确地选取了顶点，从两部分各选取k个顶点，并计算了组合数。然后，学生正确地排列了这些顶点，并考虑了回路的对称性，包括旋转和反向遍历。最后，学生正确地计算了回路的总数，并给出了最终的表达式。学生的计算过程与标准答案一致，只是在最后的表达式中，学生将分母中的2k和2合并为4k，这与标准答案中的2k有所不同。然而，标准答案中提到，由于题目可能有歧义，此答案乘上2（考虑方向）、2k（考虑起点）或4k（二者均考虑）也算对。因此，学生的答案符合评分规则的要求。 |
| 答案正确 | 1 | 1 | 根据评分规则，答案正确即可得分。标准答案给出的形式是 $\frac{(n!)^2}{2k \left[ (n - k)! \right]^2}$，而学生答案给出的形式是 $\frac{(n!)^2}{4k \left( (n - k)! \right)^2}$。虽然两者形式不同，但通过简单的代数运算可以发现，学生答案实际上是标准答案的一半，即 $\frac{1}{2} \times \frac{(n!)^2}{2k \left[ (n - k)! \right]^2}$。因此，学生答案与标准答案在数值上是等价的，符合评分规则中答案正确的条件。 |


## Problem 1.18
### Subproblem (1)
#### Status
graded
#### Answer
**使用“星与棒”方法：** - 可以将问题转化为将 $n$ 个星星分配到 $9$ 个盒子（代表数字 $1$ 到 $9$），盒子有顺序，星星无区别 - 总的组合数为： $$ \binom{n + 9 - 1}{9 - 1} = \binom{n + 8}{8} $$ **答：** $$ \boxed{\displaystyle \text{满足条件的整数数目} = \binom{n + 8}{8}} $$
#### Matched solution ID
0
#### Correct solution
等价于$\left\{ 1, 2, \cdots, 9 \right\}$的$n$-可重组合，方案数为$\binom{n + 8}{n}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 发现题目的组合意义或列出不定方程 | 4 | 4 | 学生答案正确地使用了组合数学中的“星与棒”方法来解决题目，将问题转化为将n个星星分配到9个盒子中，每个盒子代表一个数字。学生正确地推导出了组合数为C(n + 8, 8)，这与标准答案中的C(n + 8, n)是等价的。因此，学生答案符合评分规则中关于发现题目的组合意义的要求。 |
| 答案正确 | 6 | 6 | 学生答案中使用了“星与棒”方法，正确地将问题转化为将 $n$ 个星星分配到 $9$ 个盒子的问题，并正确计算了组合数。学生答案中的组合数公式 $\binom{n + 8}{8}$ 与标准答案中的 $\binom{n + 8}{n}$ 是等价的，因为 $\binom{n + 8}{8} = \binom{n + 8}{n}$。因此，学生答案是正确的。 |


## Problem 1.19
### Subproblem (1)
#### Status
graded
#### Answer
有甲、乙、丙三类物品各 $2n$ 件，同类物品无区别将它们分给两个人，每人得到 $3n$ 件物品 **解题思路：** - 需要找到满足以下条件的非负整数解的数目： - 对于每一种物品，确定每个人分得的数量 - 设某个人分得甲类物品 $a$ 件，乙类物品 $b$ 件，丙类物品 $c$ 件 条件为： $$ \begin{cases} 0 \leq a, b, c \leq 2n \\ a + b + c = 3n \end{cases} $$ **计算方法：** 1. **求总的非负整数解数目（不考虑每类物品的最大限制）：** - 直接求解方程： $$ a + b + c = 3n $$ - 总的非负整数解数目为： $$ \binom{3n + 3 - 1}{3 - 1} = \binom{3n + 2}{2} $$ 2. **减去不存在的解（某一类物品超过 $2n$ 件）：** - 当 $a > 2n$ 时，令 $a' = a - (2n + 1) \geq 0$，则方程变为： $$ a' + b + c = 3n - (2n + 1) = n - 1 $$ - 此时的解数为： $$ \binom{(n - 1) + 3 - 1}{3 - 1} = \binom{n + 1}{2} $$ - 同理，对于 $b > 2n$ 和 $c > 2n$ 的情况，各有相同的解数 3. **考虑到不可能同时有两个变量超过 $2n$（因为 $2(2n + 1) > 3n$），所以不需要考虑重叠减去的情况** 4. **计算合理的解数：** - 合理的解数为： $$ \text{合法解数} = \binom{3n + 2}{2} - 3 \times \binom{n + 1}{2} $$ 5. **化简：** $$ \binom{3n + 2}{2} = \frac{(3n + 2)(3n + 1)}{2} $$ $$ \binom{n + 1}{2} = \frac{(n + 1)n}{2} $$ - 代入得： $$ \text{合法解数} = \frac{(3n + 2)(3n + 1)}{2} - 3 \times \frac{(n + 1)n}{2} $$ - 化简： $$ \text{合法解数} = \frac{(9n^2 + 9n + 2)}{2} - \frac{3(n^2 + n)}{2} $$ $$ = \frac{9n^2 + 9n + 2 - 3n^2 - 3n}{2} $$ $$ = \frac{6n^2 + 6n + 2}{2} $$ $$ = 3n^2 + 3n + 1 $$ **答：** $$ \boxed{\displaystyle \text{有} \ 3n^2 + 3n + 1 \ \text{种分法}} $$
#### Matched solution ID
0
#### Correct solution
等价于求$x + y + z = 3n$（$0 \leq x, y, z \leq 2n$）的非负整数解。 先不考虑限制条件，方案数为$\binom{3n + 2}{2}$。 若$x, y, z$中任一变量不满足限制条件，不妨设为$x$，则设$x = 2n + 1 + x'$，于是有$x' + y + z = n - 1$，其非负整数解数目为$\binom{n + 1}{2}$。 排除掉所有不满足限制条件的情况，最终答案即为 % \begin{equation*} \binom{3n + 2}{2} - 3 \binom{n + 1}{2} = 3n^2 + 3n + 1 \end{equation*}
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 总方案数正确 | 4 | 4 | 根据评分规则，学生需要正确计算总方案数。标准答案中，总方案数为$\binom{3n + 2}{2} - 3 \binom{n + 1}{2} = 3n^2 + 3n + 1$。学生答案中，计算了总的非负整数解数目为$\binom{3n + 2}{2}$，并正确减去了不满足限制条件的情况，最终得到$\text{合法解数} = 3n^2 + 3n + 1$。因此，学生的总方案数计算正确。 |
| 不满足条件的方案数正确 | 4 | 4 | 根据评分规则，学生需要正确计算出不满足条件的方案数。标准答案中，不满足条件的方案数为3 * C(n+1, 2)。学生答案中，也正确地计算了不满足条件的方案数为3 * C(n+1, 2)。因此，学生答案符合评分规则的要求。 |
| 答案正确 | 2 | 2 | 学生答案详细地描述了解题思路，包括如何计算总的非负整数解数目，如何减去不存在的解，以及最终的化简过程。学生答案中的计算步骤与标准答案一致，最终得出的答案也是正确的。因此，学生答案符合评分规则中的'答案正确'要求。 |


## Problem 1.20
### Subproblem (1)
#### Status
graded
#### Answer
需要从字典 $\{ c_1, c_2, \dots, c_D \}$ 中选出 $n$ 个字符组成字符串，其中每个字符 $c_i$ 出现 $f_i$ 次，且满足 $\sum_{i=1}^{D} f_i = n$要求子串 $c_1c_2\dots c_D$ 恰好出现 $k$ 次，并求这样的字符串数目 首先，注意到每出现一次子串 $c_1c_2\dots c_D$，就消耗掉各一个 $c_i$ 字符因此，形成 $k$ 次子串需要消耗掉 $k$ 个 $c_i$（对于每个 $i$） 剩余的每个字符 $c_i$ 的数量为 $f_i - k$这些剩余字符需要在剩余的位置上排列 将每个子串 $c_1c_2\dots c_D$ 看作一个整体，记为符号 $S$因此，的任务是对以下元素进行排列： - $k$ 个整体字符 $S$ - 对于每个 $i$，有 $f_i - k$ 个字符 $c_i$ 总的元素数为： $$ n' = k + \sum_{i=1}^{D} (f_i - k) = n - (D - 1)k $$ 排列这些元素的总方法数为： $$ \frac{n'!}{k! \prod_{i=1}^{D} (f_i - k)!} $$ 所求字符串的数目为： $$ \boxed{\frac{(n - (D - 1)k)!}{k! \prod_{i=1}^{D} (f_i - k)!}} $$
#### Matched solution ID
0
#### Correct solution
若存在$f_i < k$，则方案数显然为$0$。 否则，先“打包”$k$个子串$c_1 c_2 \cdots c_D$，然后在其中插入剩下的$n - kD$个字符。 安排剩下的字符位置的方案数为$\binom{n - kD + k}{k}$，这些字符排列的方案数为$\frac{(n - kD)!}{\prod_{i = 1}^D (f_i - k)!}$，因此总的方案数即为 % \begin{equation*} \binom{n - kD + k}{k} \frac{(n - kD)!}{\prod_{i = 1}^D (f_i - k)!} = \frac{(n - kD + k)!}{k! \prod_{i = 1}^D (f_i - k)!} \end{equation*}
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 将$c_1 c_2 \cdots c_D$打包成一个字符 | 4 | 4 | 根据评分规则，学生需要将$c_1 c_2 \cdots c_D$打包成一个字符。在学生答案中，学生将每个子串$c_1c_2\dots c_D$看作一个整体，记为符号$S$，这与标准答案中将$c_1 c_2 \cdots c_D$打包成一个字符的思路一致。因此，学生答案符合评分规则的要求。 |
| 剩下的字符位置方案数正确 | 2 | 0 | 根据评分规则，需要检查学生答案中关于剩下的字符位置方案数的计算是否正确。标准答案中，剩下的字符位置方案数为$\binom{n - kD + k}{k}$，而学生答案中给出的方案数为$\frac{(n - (D - 1)k)!}{k! \prod_{i=1}^{D} (f_i - k)!}$。学生答案中的方案数与标准答案中的方案数不一致，因此学生答案在剩下的字符位置方案数上不正确。 |
| 剩下的字符排列方案数正确 | 2 | 0 | 根据评分规则，学生需要正确计算剩下的字符排列方案数。标准答案中，剩下的字符排列方案数为$\frac{(n - kD)!}{\prod_{i = 1}^D (f_i - k)!}$。学生答案中，剩下的字符排列方案数为$\frac{(n - (D - 1)k)!}{k! \prod_{i=1}^{D} (f_i - k)!}$。两者在分子和分母的表达式上存在差异，标准答案的分子是$(n - kD)!$，而学生答案的分子是$(n - (D - 1)k)!$。因此，学生的答案不符合评分规则中的要求。 |
| 答案正确 | 2 | 0 | 首先，比较标准答案和学生答案的最终表达式。标准答案给出的方案数为：\n\n\[ \frac{(n - kD + k)!}{k! \prod_{i = 1}^D (f_i - k)!} \]\n\n而学生答案给出的方案数为：\n\n\[ \frac{(n - (D - 1)k)!}{k! \prod_{i=1}^{D} (f_i - k)!} \]\n\n注意到学生答案中的表达式与标准答案中的表达式在分子部分有所不同。标准答案中的分子是 \( (n - kD + k)! \)，而学生答案中的分子是 \( (n - (D - 1)k)! \)。这两个表达式在一般情况下是不相等的，因此学生答案在最终的方案数表达式上存在错误。\n\n因此，根据评分规则，学生答案不符合要求，得分为0。 |


## Problem 1.21
### Subproblem (1)
#### Status
graded
#### Answer
#### **（1）** 将整个过程分为四个步骤： 1. **穿左脚的袜子**（共 100 只），排列方式： $$ 100! \text{种方法} $$ 2. **穿右脚的袜子**（共 100 只），排列方式： $$ 100! \text{种方法} $$ 3. **穿左脚的鞋子**（共 100 只），排列方式： $$ 100! \text{种方法} $$ 4. **穿右脚的鞋子**（共 100 只），排列方式： $$ 100! \text{种方法} $$ 由于这四个步骤必须按以上顺序进行，且每个步骤内部的顺序可以任意排列，因此总的穿鞋袜方案数为： $$ \boxed{(100!)^4} $$
#### Matched solution ID
0
#### Correct solution
\item 顺序必须为左脚袜子→右脚袜子→左脚鞋子→右脚鞋子，每种衣物内部脚的顺序可以任一排列，因此方案数即为$(100!)^4$；
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 答案正确 | 5 | 5 | 学生答案详细列出了穿鞋袜的四个步骤，并且每个步骤的排列方式都正确地计算为100!。学生明确指出这四个步骤必须按特定顺序进行，且每个步骤内部的顺序可以任意排列，最终得出总的穿鞋袜方案数为(100!)^4。这与标准答案完全一致，因此答案正确。 |


### Subproblem (2)
#### Status
graded
#### Answer
#### **（2）** 对于每一对脚（共 100 对），有以下约束： $$ \text{左袜}_{i} < \text{左鞋}_{i} < \text{右袜}_{i} < \text{右鞋}_{i} \quad (i = 1, 2, \dots, 100) $$ 这个问题等价于计算一个包含 $400$ 个元素的偏序集的线性扩展数，其中有 $100$ 条长度为 $4$ 的链，每条链内部的顺序固定 线性扩展的总数为： $$ \frac{400!}{(4!)^{100}} $$ 因此，穿鞋袜的方案数为： $$ \boxed{\frac{400!}{(4!)^{100}}} $$
#### Matched solution ID
0
#### Correct solution
\item 每一对脚有$4!$种穿袜子、鞋子顺序，但是其中仅有$2$种合法，因此在无任何约束情况下的的方案数$400!$要对每一对脚均除以$12$，结果即为$\frac{400!}{12^{100}}$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 答案正确 | 5 | 5 | 根据评分规则，答案正确即可得满分。学生答案中给出的穿鞋袜的方案数为$\frac{400!}{(4!)^{100}}$，与标准答案$\frac{400!}{12^{100}}$一致，因为$(4!)^{100} = 12^{100}$。因此，学生答案正确。 |


## Problem 1.22
### Subproblem (1)
#### Status
graded
#### Answer
**解：** 目标是找到最大整数 $k$，使得 $2^k$ 整除 $P(2n, n)$这等价于求 $P(2n, n)$ 的质因数分解中 $2$ 的指数，即计算 $$ \nu_2\left(\frac{(2n)!}{n!}\right) $$ 1. **使用勒让德公式计算阶乘中质数的指数：** 勒让德公式： $$ \nu_p(N!) = \sum_{i=1}^{\infty} \left\lfloor \frac{N}{p^i} \right\rfloor $$ 其中 $\nu_p(N!)$ 表示 $N!$ 中质数 $p$ 的指数 2. **计算 $(2n)!$ 和 $n!$ 中 $2$ 的指数：** $$ \nu_2((2n)!) = \sum_{i=1}^{\infty} \left\lfloor \frac{2n}{2^i} \right\rfloor $$ $$ \nu_2(n!) = \sum_{i=1}^{\infty} \left\lfloor \frac{n}{2^i} \right\rfloor $$ 3. **计算 $P(2n, n)$ 中 $2$ 的指数：** $$ \nu_2\left(\frac{(2n)!}{n!}\right) = \nu_2((2n)!) - \nu_2(n!) = \left( \sum_{i=1}^{\infty} \left\lfloor \frac{2n}{2^i} \right\rfloor \right) - \left( \sum_{i=1}^{\infty} \left\lfloor \frac{n}{2^i} \right\rfloor \right) $$ 4. **简化计算：** 注意到： $$ \left\lfloor \frac{2n}{2^i} \right\rfloor = \left\lfloor \frac{n}{2^{i-1}} \right\rfloor $$ 所以： $$ \nu_2\left(\frac{(2n)!}{n!}\right) = \left( \sum_{i=1}^{\infty} \left\lfloor \frac{n}{2^{i-1}} \right\rfloor \right) - \left( \sum_{i=1}^{\infty} \left\lfloor \frac{n}{2^i} \right\rfloor \right) $$ 将两个求和结合起来： $$ \nu_2\left(\frac{(2n)!}{n!}\right) = \sum_{i=1}^{\infty} \left( \left\lfloor \frac{n}{2^{i-1}} \right\rfloor - \left\lfloor \frac{n}{2^i} \right\rfloor \right) $$ 5. **计算差值：** 每一项的差值为： $$ \delta_i = \left\lfloor \frac{n}{2^{i-1}} \right\rfloor - \left\lfloor \frac{n}{2^i} \right\rfloor $$ 这表示在区间 $[1, n]$ 中能被 $2^{i-1}$ 整除但不能被 $2^i$ 整除的整数个数 6. **求和得到结果：** 注意到对所有 $i$ $$ \sum_{i=1}^{\infty} \delta_i = n $$ 因为对于 $n$ 的每个正整数划分，差值的总和等于 $n$ 所以： $$ \nu_2\left(\frac{(2n)!}{n!}\right) = n $$ **结论：** $P(2n, n)$ 中 $2$ 的最大指数 $k$ 为 $n$，即：$k = n$
#### Matched solution ID
0
#### Correct solution
注意到 % \begin{equation*} P(2n, n) = \frac{(2n)!}{n!} = \frac{\left( \prod_{j = 1}^n 2j \right) \prod_{j = 1}^n (2j - 1)}{n!} = \frac{2^n \dotp n! \dotp \prod_{j = 1}^n (2j - 1)}{n!} = 2^n \prod_{j = 1}^n (2j - 1) \end{equation*} % 因此显然有$k = n$。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 论证合理即可 | 10 | 10 | 学生答案详细地解释了如何使用勒让德公式计算阶乘中质数的指数，并正确地推导出$P(2n, n)$中$2$的指数为$n$。整个论证过程逻辑清晰，步骤完整，符合评分规则中要求的'论证合理即可'。因此，学生答案符合评分规则，应得满分。 |


## Problem 1.23
### Subproblem (1)
#### Status
graded
#### Answer
需要证明对于给定的数列 $\{a_n\}$，每个正整数都有且仅有一种表示方式，即： $$ N = d_1 w_1 + d_2 w_2 + d_3 w_3 + \dots + d_n w_n $$ 其中： - $d_i$ 为第 $i$ 位的数字，满足 $0 \leq d_i < a_i$；$w_1 = 1$，$$ w_n = w_{n-1} \times a_{n-1} = \prod_{i=1}^{n-1} a_i $$ - $N$ 为正整数 **证：** 1. **定义权值 $w_n$：** $$ w_1 = 1 $$ 对于 $n \geq 2$： $$ w_n = w_{n-1} \times a_{n-1} = \prod_{i=1}^{n-1} a_i $$ 2. **表示方法：** 任意正整数 $N$ 可以表示为： $$ N = d_1 w_1 + d_2 w_2 + \dots + d_n w_n $$ 其中 $$ 0 \leq d_i < a_i $$ 3. **存在性证明（构造法）：** - **1：** 对于给定的 $N$，找到最大的 $n$，使得 $$ w_n \leq N $$ - **2：** 从最高位开始，依次计算每一位的数字 $d_n$： $$ d_n = \left\lfloor \frac{N}{w_n} \right\rfloor $$ 确保 $d_n < a_n$，因为： $$ N < w_{n+1} = w_n \times a_n \implies \frac{N}{w_n} < a_n $$ - **3：** 更新剩余值： $$ N \leftarrow N - d_n w_n $$ 然后对 $n-1$ 重复上述过程，直到 $n = 1$ 4. **唯一性证明：** 假设存在两种不同的表示： $$ N = d_1 w_1 + d_2 w_2 + \dots + d_n w_n = d'_1 w_1 + d'_2 w_2 + \dots + d'_n w_n $$ 且存在最小的 $k$，使得 $d_k \neq d'_k$ 则有： $$ (d_k - d'_k) w_k + \sum_{i=k+1}^{n} (d_i - d'_i) w_i = 0 $$ 因为 $w_i$ 均为正数，且 $$ w_{i+1} = w_i a_i > w_i $$，所以无法满足上述等式，除非 $d_i = d'_i$ 对所有 $i$，这与假设矛盾 **结论：** 任意正整数在此进制下都有唯一的表示方式
#### Matched solution ID
0
#### Correct solution
证明：设$1\underbrace{00\cdots0}_{k\;\mbox{\footnotesize 个}\;0}$表示的数字为$p_k$。 容易证明任意两个$k$位数之差的绝对值小于$p_k$。 现在假设某数在此进制下有$2$种不同的表示，设两种表示最高在第$k$位不同，则二者在这一位上至少相差$p_k$； 在更低位上二者需同样至少相差$p_k$才能使两种表示所代表的数字相等，然而根据之前的结论这是不可能的，从而导出矛盾。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 有反证法 | 1 | 1 | 学生答案中使用了反证法来证明唯一性。具体来说，学生假设存在两种不同的表示方式，并找到最小的k使得d_k ≠ d'_k，然后通过权值w_i的性质推导出矛盾，从而证明了表示方式的唯一性。这与评分规则中要求的反证法一致。 |
| 找出不同的最高或最低位 | 4 | 4 | 根据评分规则，学生需要找出不同的最高或最低位来证明表示的唯一性。标准答案中通过假设两种表示在第k位不同，然后通过矛盾法证明这是不可能的，从而得出表示的唯一性。学生答案中通过假设存在两种不同的表示，并找到最小的k使得d_k ≠ d'_k，然后通过权值w_i的性质证明这是不可能的，从而得出表示的唯一性。学生答案的证明方法与标准答案类似，都是通过找出不同的位并利用权值的性质来证明唯一性。因此，学生答案符合评分规则的要求。 |
| 说明其他位不可能补上两者之差 | 5 | 5 | 学生答案中，唯一性证明部分详细说明了假设存在两种不同的表示时，由于权值 $w_i$ 的递增性质，无法通过其他位的调整来弥补最高位不同导致的差值。这与评分规则中要求的'说明其他位不可能补上两者之差'相符。因此，学生答案符合评分规则的要求。 |


## Problem 1.24
### Subproblem (1)
#### Status
graded
#### Answer
1. **总的组合数：** 从 10 个点中选取 4 个点的总方案数为： $$ T = \binom{10}{4} = 210 $$ 2. **寻找所有共面的 4 个点组合：** - **每个面的共面点：** 正四面体有 4 个面 每个面上有 6 个点（3 个顶点 + 3 个棱的中点） 在每个面上，从 6 个点中选取 4 个点的共面组合数为： $$ C = \binom{6}{4} = 15 $$ 所有面的共面组合总数为： $$ S = 4 \times 15 = 60 $$ 3. **计算不共面的方案数：** 不共面的组合数为： $$ N = T - S = 210 - 60 = 150 $$ **答：** 共有 $150$ 种方案
#### Matched solution ID
0
#### Correct solution
任取四点有$\binom{10}{4} = 210$种方案。 四点共四面体表面$4 \binom{6}{4} = 60$种方案，四棱中点共面$3$种方案，一边三点与对边中点共面$6$种方案，合计$210 - 60 - 3 - 6 = 141$种方案。
#### Grading rules
| 评分规则 | 分值 | 得分 | 评分过程 |
| --- | --- | --- | --- |
| 任取四点方案数正确 | 1 | 1 | 根据评分规则，首先检查学生答案中任取四点方案数的计算是否正确。学生答案中计算了从10个点中选取4个点的总方案数为210，这与标准答案中的计算结果一致。因此，学生在这一部分的计算是正确的。 |
| 表面共面方案数正确 | 2 | 2 | 根据评分规则，需要检查学生答案中关于表面共面方案数的计算是否正确。标准答案中表面共面方案数为60种，学生答案中计算的表面共面方案数为60种（4 × 15 = 60）。因此，学生答案中关于表面共面方案数的计算是正确的。 |
| 四棱中点共面方案数正确 | 3 | 0 | 根据评分规则，需要检查学生答案中四棱中点共面方案数是否正确。标准答案中四棱中点共面方案数为3，而学生答案中没有提及四棱中点共面方案数，直接计算了不共面的方案数为150。因此，学生答案中四棱中点共面方案数不正确。 |
| 一边三点与对棱中点共面方案数正确 | 3 | 0 | 根据评分规则，学生答案中没有提到一边三点与对棱中点共面的情况。标准答案中这部分的方案数是6种，而学生答案中没有计算这部分，因此不符合评分规则。 |
| 答案正确 | 1 | 0 | 根据评分规则，答案正确才能得分。标准答案为141种方案，而学生答案为150种方案。学生答案中没有考虑到四棱中点共面和一边三点与对边中点共面的方案数，导致计算结果错误。因此，学生答案不符合评分规则中的答案正确要求。 |


## PA Report
### Problem 1.13
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 4 | 4 |
| (2) | graded | 5 | 5 |
| | | **9** | **9** |
### Problem 1.14
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 0 | 4 |
| (2) | graded | 0 | 5 |
| | | **0** | **9** |
### Problem 1.15
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 0 | 10 |
| | | **0** | **10** |
### Problem 1.16
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 0 | 2 |
| (2) | graded | 1 | 1 |
| (3) | graded | 1 | 4 |
| (4) | graded | 1 | 3 |
| | | **3** | **10** |
### Problem 1.17
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 9 | 10 |
| | | **9** | **10** |
### Problem 1.18
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.19
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.20
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 4 | 10 |
| | | **4** | **10** |
### Problem 1.21
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 5 | 5 |
| (2) | graded | 5 | 5 |
| | | **10** | **10** |
### Problem 1.22
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.23
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 10 | 10 |
| | | **10** | **10** |
### Problem 1.24
| Subproblem | Status | Score | Total |
| --- | --- | --- | --- |
| (1) | graded | 3 | 10 |
| | | **3** | **10** |
## Total
| Score | Total |
| --- | --- |
| 78 | 118 |
